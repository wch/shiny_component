{
  "version": 3,
  "sources": ["../node_modules/preact/src/util.js", "../node_modules/preact/src/options.js", "../node_modules/preact/src/create-element.js", "../node_modules/preact/src/component.js", "../node_modules/preact/src/create-context.js", "../node_modules/preact/src/constants.js", "../node_modules/preact/src/diff/children.js", "../node_modules/preact/src/diff/props.js", "../node_modules/preact/src/diff/index.js", "../node_modules/preact/src/render.js", "../node_modules/preact/src/clone-element.js", "../node_modules/preact/src/diff/catch-error.js", "../node_modules/preact/hooks/src/index.js", "../node_modules/preact/compat/src/util.js", "../node_modules/preact/compat/src/PureComponent.js", "../node_modules/preact/compat/src/memo.js", "../node_modules/preact/compat/src/forwardRef.js", "../node_modules/preact/compat/src/Children.js", "../node_modules/preact/compat/src/suspense.js", "../node_modules/preact/compat/src/suspense-list.js", "../node_modules/preact/compat/src/portals.js", "../node_modules/preact/compat/src/render.js", "../node_modules/preact/compat/src/index.js", "../node_modules/react/index.mjs", "../node_modules/lodash/_freeGlobal.js", "../node_modules/lodash/_root.js", "../node_modules/lodash/_Symbol.js", "../node_modules/lodash/_getRawTag.js", "../node_modules/lodash/_objectToString.js", "../node_modules/lodash/_baseGetTag.js", "../node_modules/lodash/isArray.js", "../node_modules/lodash/isObjectLike.js", "../node_modules/lodash/isString.js", "../node_modules/lodash/_createBaseFor.js", "../node_modules/lodash/_baseFor.js", "../node_modules/lodash/_baseTimes.js", "../node_modules/lodash/_baseIsArguments.js", "../node_modules/lodash/isArguments.js", "../node_modules/lodash/stubFalse.js", "../node_modules/lodash/isBuffer.js", "../node_modules/lodash/_isIndex.js", "../node_modules/lodash/isLength.js", "../node_modules/lodash/_baseIsTypedArray.js", "../node_modules/lodash/_baseUnary.js", "../node_modules/lodash/_nodeUtil.js", "../node_modules/lodash/isTypedArray.js", "../node_modules/lodash/_arrayLikeKeys.js", "../node_modules/lodash/_isPrototype.js", "../node_modules/lodash/_overArg.js", "../node_modules/lodash/_nativeKeys.js", "../node_modules/lodash/_baseKeys.js", "../node_modules/lodash/isObject.js", "../node_modules/lodash/isFunction.js", "../node_modules/lodash/isArrayLike.js", "../node_modules/lodash/keys.js", "../node_modules/lodash/_baseForOwn.js", "../node_modules/lodash/identity.js", "../node_modules/lodash/_castFunction.js", "../node_modules/lodash/forOwn.js", "../node_modules/lodash/_getPrototype.js", "../node_modules/lodash/isPlainObject.js", "../node_modules/lodash/_arrayMap.js", "../node_modules/lodash/_listCacheClear.js", "../node_modules/lodash/eq.js", "../node_modules/lodash/_assocIndexOf.js", "../node_modules/lodash/_listCacheDelete.js", "../node_modules/lodash/_listCacheGet.js", "../node_modules/lodash/_listCacheHas.js", "../node_modules/lodash/_listCacheSet.js", "../node_modules/lodash/_ListCache.js", "../node_modules/lodash/_stackClear.js", "../node_modules/lodash/_stackDelete.js", "../node_modules/lodash/_stackGet.js", "../node_modules/lodash/_stackHas.js", "../node_modules/lodash/_coreJsData.js", "../node_modules/lodash/_isMasked.js", "../node_modules/lodash/_toSource.js", "../node_modules/lodash/_baseIsNative.js", "../node_modules/lodash/_getValue.js", "../node_modules/lodash/_getNative.js", "../node_modules/lodash/_Map.js", "../node_modules/lodash/_nativeCreate.js", "../node_modules/lodash/_hashClear.js", "../node_modules/lodash/_hashDelete.js", "../node_modules/lodash/_hashGet.js", "../node_modules/lodash/_hashHas.js", "../node_modules/lodash/_hashSet.js", "../node_modules/lodash/_Hash.js", "../node_modules/lodash/_mapCacheClear.js", "../node_modules/lodash/_isKeyable.js", "../node_modules/lodash/_getMapData.js", "../node_modules/lodash/_mapCacheDelete.js", "../node_modules/lodash/_mapCacheGet.js", "../node_modules/lodash/_mapCacheHas.js", "../node_modules/lodash/_mapCacheSet.js", "../node_modules/lodash/_MapCache.js", "../node_modules/lodash/_stackSet.js", "../node_modules/lodash/_Stack.js", "../node_modules/lodash/_setCacheAdd.js", "../node_modules/lodash/_setCacheHas.js", "../node_modules/lodash/_SetCache.js", "../node_modules/lodash/_arraySome.js", "../node_modules/lodash/_cacheHas.js", "../node_modules/lodash/_equalArrays.js", "../node_modules/lodash/_Uint8Array.js", "../node_modules/lodash/_mapToArray.js", "../node_modules/lodash/_setToArray.js", "../node_modules/lodash/_equalByTag.js", "../node_modules/lodash/_arrayPush.js", "../node_modules/lodash/_baseGetAllKeys.js", "../node_modules/lodash/_arrayFilter.js", "../node_modules/lodash/stubArray.js", "../node_modules/lodash/_getSymbols.js", "../node_modules/lodash/_getAllKeys.js", "../node_modules/lodash/_equalObjects.js", "../node_modules/lodash/_DataView.js", "../node_modules/lodash/_Promise.js", "../node_modules/lodash/_Set.js", "../node_modules/lodash/_WeakMap.js", "../node_modules/lodash/_getTag.js", "../node_modules/lodash/_baseIsEqualDeep.js", "../node_modules/lodash/_baseIsEqual.js", "../node_modules/lodash/_baseIsMatch.js", "../node_modules/lodash/_isStrictComparable.js", "../node_modules/lodash/_getMatchData.js", "../node_modules/lodash/_matchesStrictComparable.js", "../node_modules/lodash/_baseMatches.js", "../node_modules/lodash/isSymbol.js", "../node_modules/lodash/_isKey.js", "../node_modules/lodash/memoize.js", "../node_modules/lodash/_memoizeCapped.js", "../node_modules/lodash/_stringToPath.js", "../node_modules/lodash/_baseToString.js", "../node_modules/lodash/toString.js", "../node_modules/lodash/_castPath.js", "../node_modules/lodash/_toKey.js", "../node_modules/lodash/_baseGet.js", "../node_modules/lodash/get.js", "../node_modules/lodash/_baseHasIn.js", "../node_modules/lodash/_hasPath.js", "../node_modules/lodash/hasIn.js", "../node_modules/lodash/_baseMatchesProperty.js", "../node_modules/lodash/_baseProperty.js", "../node_modules/lodash/_basePropertyDeep.js", "../node_modules/lodash/property.js", "../node_modules/lodash/_baseIteratee.js", "../node_modules/lodash/_createBaseEach.js", "../node_modules/lodash/_baseEach.js", "../node_modules/lodash/_baseMap.js", "../node_modules/lodash/map.js", "../node_modules/reactcss/lib/flattenNames.js", "../node_modules/lodash/_arrayEach.js", "../node_modules/lodash/_defineProperty.js", "../node_modules/lodash/_baseAssignValue.js", "../node_modules/lodash/_assignValue.js", "../node_modules/lodash/_copyObject.js", "../node_modules/lodash/_baseAssign.js", "../node_modules/lodash/_nativeKeysIn.js", "../node_modules/lodash/_baseKeysIn.js", "../node_modules/lodash/keysIn.js", "../node_modules/lodash/_baseAssignIn.js", "../node_modules/lodash/_cloneBuffer.js", "../node_modules/lodash/_copyArray.js", "../node_modules/lodash/_copySymbols.js", "../node_modules/lodash/_getSymbolsIn.js", "../node_modules/lodash/_copySymbolsIn.js", "../node_modules/lodash/_getAllKeysIn.js", "../node_modules/lodash/_initCloneArray.js", "../node_modules/lodash/_cloneArrayBuffer.js", "../node_modules/lodash/_cloneDataView.js", "../node_modules/lodash/_cloneRegExp.js", "../node_modules/lodash/_cloneSymbol.js", "../node_modules/lodash/_cloneTypedArray.js", "../node_modules/lodash/_initCloneByTag.js", "../node_modules/lodash/_baseCreate.js", "../node_modules/lodash/_initCloneObject.js", "../node_modules/lodash/_baseIsMap.js", "../node_modules/lodash/isMap.js", "../node_modules/lodash/_baseIsSet.js", "../node_modules/lodash/isSet.js", "../node_modules/lodash/_baseClone.js", "../node_modules/lodash/cloneDeep.js", "../node_modules/reactcss/lib/mergeClasses.js", "../node_modules/reactcss/lib/autoprefix.js", "../node_modules/reactcss/lib/components/hover.js", "../node_modules/reactcss/lib/components/active.js", "../node_modules/reactcss/lib/loop.js", "../node_modules/reactcss/lib/index.js", "../node_modules/react-is/cjs/react-is.development.js", "../node_modules/react-is/index.js", "../node_modules/object-assign/index.js", "../node_modules/prop-types/lib/ReactPropTypesSecret.js", "../node_modules/prop-types/lib/has.js", "../node_modules/prop-types/checkPropTypes.js", "../node_modules/prop-types/factoryWithTypeCheckers.js", "../node_modules/prop-types/index.js", "../node_modules/@icons/material/UnfoldMoreHorizontalIcon.js", "../node_modules/@icons/material/CheckIcon.js", "../node_modules/@lit/reactive-element/src/css-tag.ts", "../node_modules/@lit/reactive-element/src/reactive-element.ts", "../node_modules/lit-html/src/lit-html.ts", "../node_modules/lit-element/src/lit-element.ts", "../src/collapsible.ts", "../src/color-picker.tsx", "../node_modules/react-color/es/components/alpha/Alpha.js", "../node_modules/react-color/es/components/common/Alpha.js", "../node_modules/react-color/es/helpers/alpha.js", "../node_modules/react-color/es/components/common/Checkboard.js", "../node_modules/react-color/es/helpers/checkboard.js", "../node_modules/react-color/es/components/common/EditableInput.js", "../node_modules/react-color/es/components/common/Hue.js", "../node_modules/react-color/es/helpers/hue.js", "../node_modules/react-color/es/components/common/Raised.js", "../node_modules/lodash-es/_listCacheClear.js", "../node_modules/lodash-es/eq.js", "../node_modules/lodash-es/_assocIndexOf.js", "../node_modules/lodash-es/_listCacheDelete.js", "../node_modules/lodash-es/_listCacheGet.js", "../node_modules/lodash-es/_listCacheHas.js", "../node_modules/lodash-es/_listCacheSet.js", "../node_modules/lodash-es/_ListCache.js", "../node_modules/lodash-es/_stackClear.js", "../node_modules/lodash-es/_stackDelete.js", "../node_modules/lodash-es/_stackGet.js", "../node_modules/lodash-es/_stackHas.js", "../node_modules/lodash-es/_freeGlobal.js", "../node_modules/lodash-es/_root.js", "../node_modules/lodash-es/_Symbol.js", "../node_modules/lodash-es/_getRawTag.js", "../node_modules/lodash-es/_objectToString.js", "../node_modules/lodash-es/_baseGetTag.js", "../node_modules/lodash-es/isObject.js", "../node_modules/lodash-es/isFunction.js", "../node_modules/lodash-es/_coreJsData.js", "../node_modules/lodash-es/_isMasked.js", "../node_modules/lodash-es/_toSource.js", "../node_modules/lodash-es/_baseIsNative.js", "../node_modules/lodash-es/_getValue.js", "../node_modules/lodash-es/_getNative.js", "../node_modules/lodash-es/_Map.js", "../node_modules/lodash-es/_nativeCreate.js", "../node_modules/lodash-es/_hashClear.js", "../node_modules/lodash-es/_hashDelete.js", "../node_modules/lodash-es/_hashGet.js", "../node_modules/lodash-es/_hashHas.js", "../node_modules/lodash-es/_hashSet.js", "../node_modules/lodash-es/_Hash.js", "../node_modules/lodash-es/_mapCacheClear.js", "../node_modules/lodash-es/_isKeyable.js", "../node_modules/lodash-es/_getMapData.js", "../node_modules/lodash-es/_mapCacheDelete.js", "../node_modules/lodash-es/_mapCacheGet.js", "../node_modules/lodash-es/_mapCacheHas.js", "../node_modules/lodash-es/_mapCacheSet.js", "../node_modules/lodash-es/_MapCache.js", "../node_modules/lodash-es/_stackSet.js", "../node_modules/lodash-es/_Stack.js", "../node_modules/lodash-es/_defineProperty.js", "../node_modules/lodash-es/_baseAssignValue.js", "../node_modules/lodash-es/_assignMergeValue.js", "../node_modules/lodash-es/_createBaseFor.js", "../node_modules/lodash-es/_baseFor.js", "../node_modules/lodash-es/_cloneBuffer.js", "../node_modules/lodash-es/_Uint8Array.js", "../node_modules/lodash-es/_cloneArrayBuffer.js", "../node_modules/lodash-es/_cloneTypedArray.js", "../node_modules/lodash-es/_copyArray.js", "../node_modules/lodash-es/_baseCreate.js", "../node_modules/lodash-es/_overArg.js", "../node_modules/lodash-es/_getPrototype.js", "../node_modules/lodash-es/_isPrototype.js", "../node_modules/lodash-es/_initCloneObject.js", "../node_modules/lodash-es/isObjectLike.js", "../node_modules/lodash-es/_baseIsArguments.js", "../node_modules/lodash-es/isArguments.js", "../node_modules/lodash-es/isArray.js", "../node_modules/lodash-es/isLength.js", "../node_modules/lodash-es/isArrayLike.js", "../node_modules/lodash-es/isArrayLikeObject.js", "../node_modules/lodash-es/stubFalse.js", "../node_modules/lodash-es/isBuffer.js", "../node_modules/lodash-es/isPlainObject.js", "../node_modules/lodash-es/_baseIsTypedArray.js", "../node_modules/lodash-es/_baseUnary.js", "../node_modules/lodash-es/_nodeUtil.js", "../node_modules/lodash-es/isTypedArray.js", "../node_modules/lodash-es/_safeGet.js", "../node_modules/lodash-es/_assignValue.js", "../node_modules/lodash-es/_copyObject.js", "../node_modules/lodash-es/_baseTimes.js", "../node_modules/lodash-es/_isIndex.js", "../node_modules/lodash-es/_arrayLikeKeys.js", "../node_modules/lodash-es/_nativeKeysIn.js", "../node_modules/lodash-es/_baseKeysIn.js", "../node_modules/lodash-es/keysIn.js", "../node_modules/lodash-es/toPlainObject.js", "../node_modules/lodash-es/_baseMergeDeep.js", "../node_modules/lodash-es/_baseMerge.js", "../node_modules/lodash-es/identity.js", "../node_modules/lodash-es/_apply.js", "../node_modules/lodash-es/_overRest.js", "../node_modules/lodash-es/constant.js", "../node_modules/lodash-es/_baseSetToString.js", "../node_modules/lodash-es/_shortOut.js", "../node_modules/lodash-es/_setToString.js", "../node_modules/lodash-es/_baseRest.js", "../node_modules/lodash-es/_isIterateeCall.js", "../node_modules/lodash-es/_createAssigner.js", "../node_modules/lodash-es/merge.js", "../node_modules/react-color/es/components/common/Saturation.js", "../node_modules/lodash-es/now.js", "../node_modules/lodash-es/_trimmedEndIndex.js", "../node_modules/lodash-es/_baseTrim.js", "../node_modules/lodash-es/isSymbol.js", "../node_modules/lodash-es/toNumber.js", "../node_modules/lodash-es/debounce.js", "../node_modules/lodash-es/throttle.js", "../node_modules/react-color/es/helpers/saturation.js", "../node_modules/react-color/es/components/common/ColorWrap.js", "../node_modules/lodash-es/_arrayEach.js", "../node_modules/lodash-es/_nativeKeys.js", "../node_modules/lodash-es/_baseKeys.js", "../node_modules/lodash-es/keys.js", "../node_modules/lodash-es/_baseForOwn.js", "../node_modules/lodash-es/_createBaseEach.js", "../node_modules/lodash-es/_baseEach.js", "../node_modules/lodash-es/_castFunction.js", "../node_modules/lodash-es/forEach.js", "../node_modules/tinycolor2/esm/tinycolor.js", "../node_modules/react-color/es/helpers/color.js", "../node_modules/react-color/es/components/common/Swatch.js", "../node_modules/react-color/es/helpers/interaction.js", "../node_modules/react-color/es/components/alpha/AlphaPointer.js", "../node_modules/react-color/es/components/block/Block.js", "../node_modules/react-color/es/components/block/BlockSwatches.js", "../node_modules/lodash-es/_arrayMap.js", "../node_modules/lodash-es/_setCacheAdd.js", "../node_modules/lodash-es/_setCacheHas.js", "../node_modules/lodash-es/_SetCache.js", "../node_modules/lodash-es/_arraySome.js", "../node_modules/lodash-es/_cacheHas.js", "../node_modules/lodash-es/_equalArrays.js", "../node_modules/lodash-es/_mapToArray.js", "../node_modules/lodash-es/_setToArray.js", "../node_modules/lodash-es/_equalByTag.js", "../node_modules/lodash-es/_arrayPush.js", "../node_modules/lodash-es/_baseGetAllKeys.js", "../node_modules/lodash-es/_arrayFilter.js", "../node_modules/lodash-es/stubArray.js", "../node_modules/lodash-es/_getSymbols.js", "../node_modules/lodash-es/_getAllKeys.js", "../node_modules/lodash-es/_equalObjects.js", "../node_modules/lodash-es/_DataView.js", "../node_modules/lodash-es/_Promise.js", "../node_modules/lodash-es/_Set.js", "../node_modules/lodash-es/_WeakMap.js", "../node_modules/lodash-es/_getTag.js", "../node_modules/lodash-es/_baseIsEqualDeep.js", "../node_modules/lodash-es/_baseIsEqual.js", "../node_modules/lodash-es/_baseIsMatch.js", "../node_modules/lodash-es/_isStrictComparable.js", "../node_modules/lodash-es/_getMatchData.js", "../node_modules/lodash-es/_matchesStrictComparable.js", "../node_modules/lodash-es/_baseMatches.js", "../node_modules/lodash-es/_isKey.js", "../node_modules/lodash-es/memoize.js", "../node_modules/lodash-es/_memoizeCapped.js", "../node_modules/lodash-es/_stringToPath.js", "../node_modules/lodash-es/_baseToString.js", "../node_modules/lodash-es/toString.js", "../node_modules/lodash-es/_castPath.js", "../node_modules/lodash-es/_toKey.js", "../node_modules/lodash-es/_baseGet.js", "../node_modules/lodash-es/get.js", "../node_modules/lodash-es/_baseHasIn.js", "../node_modules/lodash-es/_hasPath.js", "../node_modules/lodash-es/hasIn.js", "../node_modules/lodash-es/_baseMatchesProperty.js", "../node_modules/lodash-es/_baseProperty.js", "../node_modules/lodash-es/_basePropertyDeep.js", "../node_modules/lodash-es/property.js", "../node_modules/lodash-es/_baseIteratee.js", "../node_modules/lodash-es/_baseMap.js", "../node_modules/lodash-es/map.js", "../node_modules/react-color/es/components/circle/Circle.js", "../node_modules/material-colors/dist/colors.es2015.js", "../node_modules/react-color/es/components/circle/CircleSwatch.js", "../node_modules/react-color/es/components/chrome/Chrome.js", "../node_modules/react-color/es/components/chrome/ChromeFields.js", "../node_modules/lodash-es/isUndefined.js", "../node_modules/react-color/es/components/chrome/ChromePointer.js", "../node_modules/react-color/es/components/chrome/ChromePointerCircle.js", "../node_modules/react-color/es/components/compact/Compact.js", "../node_modules/react-color/es/components/compact/CompactColor.js", "../node_modules/react-color/es/components/compact/CompactFields.js", "../node_modules/react-color/es/components/github/Github.js", "../node_modules/react-color/es/components/github/GithubSwatch.js", "../node_modules/react-color/es/components/hue/Hue.js", "../node_modules/react-color/es/components/hue/HuePointer.js", "../node_modules/react-color/es/components/material/Material.js", "../node_modules/react-color/es/components/photoshop/Photoshop.js", "../node_modules/react-color/es/components/photoshop/PhotoshopFields.js", "../node_modules/react-color/es/components/photoshop/PhotoshopPointerCircle.js", "../node_modules/react-color/es/components/photoshop/PhotoshopPointer.js", "../node_modules/react-color/es/components/photoshop/PhotoshopButton.js", "../node_modules/react-color/es/components/photoshop/PhotoshopPreviews.js", "../node_modules/react-color/es/components/sketch/Sketch.js", "../node_modules/react-color/es/components/sketch/SketchFields.js", "../node_modules/react-color/es/components/sketch/SketchPresetColors.js", "../node_modules/react-color/es/components/slider/Slider.js", "../node_modules/react-color/es/components/slider/SliderSwatches.js", "../node_modules/react-color/es/components/slider/SliderSwatch.js", "../node_modules/react-color/es/components/slider/SliderPointer.js", "../node_modules/react-color/es/components/swatches/Swatches.js", "../node_modules/react-color/es/components/swatches/SwatchesGroup.js", "../node_modules/react-color/es/components/swatches/SwatchesColor.js", "../node_modules/react-color/es/components/twitter/Twitter.js", "../node_modules/react-color/es/components/google/Google.js", "../node_modules/react-color/es/components/google/GooglePointerCircle.js", "../node_modules/react-color/es/components/google/GooglePointer.js", "../node_modules/react-color/es/components/google/GoogleFields.js", "../node_modules/preact/compat/client.mjs", "../src/make_value_change_emitter.ts", "../src/shiny/OptionalShiny.ts", "../src/shiny/make-input-binding.ts", "../src/design-preview.ts", "../node_modules/@lit/reactive-element/src/decorators/custom-element.ts", "../node_modules/@lit/reactive-element/src/decorators/property.ts", "../node_modules/@lit/reactive-element/src/decorators/state.ts", "../node_modules/@lit/reactive-element/src/decorators/query-assigned-elements.ts", "../src/set_el_attr.ts", "../src/footer.ts", "../src/general-output.ts", "../src/grid.ts", "../src/tabs/TabBar.ts", "../src/layout-container.ts", "../src/shiny-card.ts", "../src/grid-item.ts", "../node_modules/iconify-icon/dist/iconify-icon.mjs", "../src/icon.ts", "../node_modules/d3-array/src/ascending.js", "../node_modules/d3-array/src/descending.js", "../node_modules/d3-array/src/bisector.js", "../node_modules/d3-array/src/number.js", "../node_modules/d3-array/src/bisect.js", "../node_modules/d3-array/src/count.js", "../node_modules/d3-array/src/cross.js", "../node_modules/d3-array/src/cumsum.js", "../node_modules/d3-array/src/variance.js", "../node_modules/d3-array/src/deviation.js", "../node_modules/d3-array/src/extent.js", "../node_modules/d3-array/src/fsum.js", "../node_modules/internmap/src/index.js", "../node_modules/d3-array/src/identity.js", "../node_modules/d3-array/src/group.js", "../node_modules/d3-array/src/permute.js", "../node_modules/d3-array/src/sort.js", "../node_modules/d3-array/src/groupSort.js", "../node_modules/d3-array/src/ticks.js", "../node_modules/d3-array/src/threshold/sturges.js", "../node_modules/d3-array/src/max.js", "../node_modules/d3-array/src/maxIndex.js", "../node_modules/d3-array/src/min.js", "../node_modules/d3-array/src/minIndex.js", "../node_modules/d3-array/src/quickselect.js", "../node_modules/d3-array/src/greatest.js", "../node_modules/d3-array/src/quantile.js", "../node_modules/d3-array/src/threshold/freedmanDiaconis.js", "../node_modules/d3-array/src/threshold/scott.js", "../node_modules/d3-array/src/mean.js", "../node_modules/d3-array/src/median.js", "../node_modules/d3-array/src/merge.js", "../node_modules/d3-array/src/mode.js", "../node_modules/d3-array/src/pairs.js", "../node_modules/d3-array/src/range.js", "../node_modules/d3-array/src/sum.js", "../node_modules/d3-array/src/reverse.js", "../node_modules/d3-axis/src/identity.js", "../node_modules/d3-axis/src/axis.js", "../node_modules/d3-dispatch/src/dispatch.js", "../node_modules/d3-selection/src/namespaces.js", "../node_modules/d3-selection/src/namespace.js", "../node_modules/d3-selection/src/creator.js", "../node_modules/d3-selection/src/selector.js", "../node_modules/d3-selection/src/selection/select.js", "../node_modules/d3-selection/src/array.js", "../node_modules/d3-selection/src/selectorAll.js", "../node_modules/d3-selection/src/selection/selectAll.js", "../node_modules/d3-selection/src/matcher.js", "../node_modules/d3-selection/src/selection/selectChild.js", "../node_modules/d3-selection/src/selection/selectChildren.js", "../node_modules/d3-selection/src/selection/filter.js", "../node_modules/d3-selection/src/selection/sparse.js", "../node_modules/d3-selection/src/selection/enter.js", "../node_modules/d3-selection/src/constant.js", "../node_modules/d3-selection/src/selection/data.js", "../node_modules/d3-selection/src/selection/exit.js", "../node_modules/d3-selection/src/selection/join.js", "../node_modules/d3-selection/src/selection/merge.js", "../node_modules/d3-selection/src/selection/order.js", "../node_modules/d3-selection/src/selection/sort.js", "../node_modules/d3-selection/src/selection/call.js", "../node_modules/d3-selection/src/selection/nodes.js", "../node_modules/d3-selection/src/selection/node.js", "../node_modules/d3-selection/src/selection/size.js", "../node_modules/d3-selection/src/selection/empty.js", "../node_modules/d3-selection/src/selection/each.js", "../node_modules/d3-selection/src/selection/attr.js", "../node_modules/d3-selection/src/window.js", "../node_modules/d3-selection/src/selection/style.js", "../node_modules/d3-selection/src/selection/property.js", "../node_modules/d3-selection/src/selection/classed.js", "../node_modules/d3-selection/src/selection/text.js", "../node_modules/d3-selection/src/selection/html.js", "../node_modules/d3-selection/src/selection/raise.js", "../node_modules/d3-selection/src/selection/lower.js", "../node_modules/d3-selection/src/selection/append.js", "../node_modules/d3-selection/src/selection/insert.js", "../node_modules/d3-selection/src/selection/remove.js", "../node_modules/d3-selection/src/selection/clone.js", "../node_modules/d3-selection/src/selection/datum.js", "../node_modules/d3-selection/src/selection/on.js", "../node_modules/d3-selection/src/selection/dispatch.js", "../node_modules/d3-selection/src/selection/iterator.js", "../node_modules/d3-selection/src/selection/index.js", "../node_modules/d3-selection/src/select.js", "../node_modules/d3-selection/src/sourceEvent.js", "../node_modules/d3-selection/src/pointer.js", "../node_modules/d3-color/src/define.js", "../node_modules/d3-color/src/color.js", "../node_modules/d3-color/src/math.js", "../node_modules/d3-color/src/lab.js", "../node_modules/d3-color/src/cubehelix.js", "../node_modules/d3-interpolate/src/basis.js", "../node_modules/d3-interpolate/src/basisClosed.js", "../node_modules/d3-interpolate/src/constant.js", "../node_modules/d3-interpolate/src/color.js", "../node_modules/d3-interpolate/src/rgb.js", "../node_modules/d3-interpolate/src/numberArray.js", "../node_modules/d3-interpolate/src/array.js", "../node_modules/d3-interpolate/src/date.js", "../node_modules/d3-interpolate/src/number.js", "../node_modules/d3-interpolate/src/object.js", "../node_modules/d3-interpolate/src/string.js", "../node_modules/d3-interpolate/src/value.js", "../node_modules/d3-interpolate/src/round.js", "../node_modules/d3-interpolate/src/transform/decompose.js", "../node_modules/d3-interpolate/src/transform/parse.js", "../node_modules/d3-interpolate/src/transform/index.js", "../node_modules/d3-interpolate/src/hsl.js", "../node_modules/d3-interpolate/src/lab.js", "../node_modules/d3-interpolate/src/hcl.js", "../node_modules/d3-interpolate/src/cubehelix.js", "../node_modules/d3-interpolate/src/piecewise.js", "../node_modules/d3-interpolate/src/quantize.js", "../node_modules/d3-timer/src/timer.js", "../node_modules/d3-timer/src/timeout.js", "../node_modules/d3-transition/src/transition/schedule.js", "../node_modules/d3-transition/src/interrupt.js", "../node_modules/d3-transition/src/selection/interrupt.js", "../node_modules/d3-transition/src/transition/tween.js", "../node_modules/d3-transition/src/transition/interpolate.js", "../node_modules/d3-transition/src/transition/attr.js", "../node_modules/d3-transition/src/transition/attrTween.js", "../node_modules/d3-transition/src/transition/delay.js", "../node_modules/d3-transition/src/transition/duration.js", "../node_modules/d3-transition/src/transition/ease.js", "../node_modules/d3-transition/src/transition/easeVarying.js", "../node_modules/d3-transition/src/transition/filter.js", "../node_modules/d3-transition/src/transition/merge.js", "../node_modules/d3-transition/src/transition/on.js", "../node_modules/d3-transition/src/transition/remove.js", "../node_modules/d3-transition/src/transition/select.js", "../node_modules/d3-transition/src/transition/selectAll.js", "../node_modules/d3-transition/src/transition/selection.js", "../node_modules/d3-transition/src/transition/style.js", "../node_modules/d3-transition/src/transition/styleTween.js", "../node_modules/d3-transition/src/transition/text.js", "../node_modules/d3-transition/src/transition/textTween.js", "../node_modules/d3-transition/src/transition/transition.js", "../node_modules/d3-transition/src/transition/end.js", "../node_modules/d3-transition/src/transition/index.js", "../node_modules/d3-ease/src/cubic.js", "../node_modules/d3-transition/src/selection/transition.js", "../node_modules/d3-transition/src/selection/index.js", "../node_modules/d3-brush/src/brush.js", "../node_modules/d3-path/src/path.js", "../node_modules/d3-format/src/formatDecimal.js", "../node_modules/d3-format/src/exponent.js", "../node_modules/d3-format/src/formatGroup.js", "../node_modules/d3-format/src/formatNumerals.js", "../node_modules/d3-format/src/formatSpecifier.js", "../node_modules/d3-format/src/formatTrim.js", "../node_modules/d3-format/src/formatPrefixAuto.js", "../node_modules/d3-format/src/formatRounded.js", "../node_modules/d3-format/src/formatTypes.js", "../node_modules/d3-format/src/identity.js", "../node_modules/d3-format/src/locale.js", "../node_modules/d3-format/src/defaultLocale.js", "../node_modules/d3-format/src/precisionFixed.js", "../node_modules/d3-format/src/precisionPrefix.js", "../node_modules/d3-format/src/precisionRound.js", "../node_modules/d3-geo/src/math.js", "../node_modules/d3-geo/src/noop.js", "../node_modules/d3-geo/src/stream.js", "../node_modules/d3-geo/src/cartesian.js", "../node_modules/d3-geo/src/compose.js", "../node_modules/d3-geo/src/rotation.js", "../node_modules/d3-geo/src/circle.js", "../node_modules/d3-geo/src/clip/buffer.js", "../node_modules/d3-geo/src/pointEqual.js", "../node_modules/d3-geo/src/clip/rejoin.js", "../node_modules/d3-geo/src/polygonContains.js", "../node_modules/d3-geo/src/clip/index.js", "../node_modules/d3-geo/src/clip/antimeridian.js", "../node_modules/d3-geo/src/clip/circle.js", "../node_modules/d3-geo/src/clip/line.js", "../node_modules/d3-geo/src/clip/rectangle.js", "../node_modules/d3-geo/src/identity.js", "../node_modules/d3-geo/src/path/area.js", "../node_modules/d3-geo/src/path/bounds.js", "../node_modules/d3-geo/src/path/centroid.js", "../node_modules/d3-geo/src/path/context.js", "../node_modules/d3-geo/src/path/measure.js", "../node_modules/d3-geo/src/path/string.js", "../node_modules/d3-geo/src/path/index.js", "../node_modules/d3-geo/src/transform.js", "../node_modules/d3-geo/src/projection/fit.js", "../node_modules/d3-geo/src/projection/resample.js", "../node_modules/d3-geo/src/projection/index.js", "../node_modules/d3-geo/src/projection/conic.js", "../node_modules/d3-geo/src/projection/cylindricalEqualArea.js", "../node_modules/d3-geo/src/projection/conicEqualArea.js", "../node_modules/d3-geo/src/projection/albers.js", "../node_modules/d3-geo/src/projection/albersUsa.js", "../node_modules/d3-geo/src/projection/azimuthal.js", "../node_modules/d3-geo/src/projection/azimuthalEqualArea.js", "../node_modules/d3-geo/src/projection/azimuthalEquidistant.js", "../node_modules/d3-geo/src/projection/mercator.js", "../node_modules/d3-geo/src/projection/conicConformal.js", "../node_modules/d3-geo/src/projection/equirectangular.js", "../node_modules/d3-geo/src/projection/conicEquidistant.js", "../node_modules/d3-geo/src/projection/equalEarth.js", "../node_modules/d3-geo/src/projection/gnomonic.js", "../node_modules/d3-geo/src/projection/orthographic.js", "../node_modules/d3-geo/src/projection/stereographic.js", "../node_modules/d3-geo/src/projection/transverseMercator.js", "../node_modules/d3-scale/src/init.js", "../node_modules/d3-scale/src/ordinal.js", "../node_modules/d3-scale/src/band.js", "../node_modules/d3-scale/src/constant.js", "../node_modules/d3-scale/src/number.js", "../node_modules/d3-scale/src/continuous.js", "../node_modules/d3-scale/src/tickFormat.js", "../node_modules/d3-scale/src/linear.js", "../node_modules/d3-scale/src/identity.js", "../node_modules/d3-scale/src/nice.js", "../node_modules/d3-scale/src/log.js", "../node_modules/d3-scale/src/symlog.js", "../node_modules/d3-scale/src/pow.js", "../node_modules/d3-scale/src/quantile.js", "../node_modules/d3-scale/src/threshold.js", "../node_modules/d3-time/src/interval.js", "../node_modules/d3-time/src/millisecond.js", "../node_modules/d3-time/src/duration.js", "../node_modules/d3-time/src/second.js", "../node_modules/d3-time/src/minute.js", "../node_modules/d3-time/src/hour.js", "../node_modules/d3-time/src/day.js", "../node_modules/d3-time/src/week.js", "../node_modules/d3-time/src/month.js", "../node_modules/d3-time/src/year.js", "../node_modules/d3-time/src/ticks.js", "../node_modules/d3-time-format/src/locale.js", "../node_modules/d3-time-format/src/defaultLocale.js", "../node_modules/d3-scale/src/time.js", "../node_modules/d3-scale/src/utcTime.js", "../node_modules/d3-scale/src/sequential.js", "../node_modules/d3-scale/src/diverging.js", "../node_modules/d3-scale-chromatic/src/colors.js", "../node_modules/d3-scale-chromatic/src/categorical/category10.js", "../node_modules/d3-scale-chromatic/src/categorical/Accent.js", "../node_modules/d3-scale-chromatic/src/categorical/Dark2.js", "../node_modules/d3-scale-chromatic/src/categorical/Paired.js", "../node_modules/d3-scale-chromatic/src/categorical/Pastel1.js", "../node_modules/d3-scale-chromatic/src/categorical/Pastel2.js", "../node_modules/d3-scale-chromatic/src/categorical/Set1.js", "../node_modules/d3-scale-chromatic/src/categorical/Set2.js", "../node_modules/d3-scale-chromatic/src/categorical/Set3.js", "../node_modules/d3-scale-chromatic/src/categorical/Tableau10.js", "../node_modules/d3-scale-chromatic/src/ramp.js", "../node_modules/d3-scale-chromatic/src/diverging/BrBG.js", "../node_modules/d3-scale-chromatic/src/diverging/PRGn.js", "../node_modules/d3-scale-chromatic/src/diverging/PiYG.js", "../node_modules/d3-scale-chromatic/src/diverging/PuOr.js", "../node_modules/d3-scale-chromatic/src/diverging/RdBu.js", "../node_modules/d3-scale-chromatic/src/diverging/RdGy.js", "../node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js", "../node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js", "../node_modules/d3-scale-chromatic/src/diverging/Spectral.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js", "../node_modules/d3-scale-chromatic/src/sequential-single/Blues.js", "../node_modules/d3-scale-chromatic/src/sequential-single/Greens.js", "../node_modules/d3-scale-chromatic/src/sequential-single/Greys.js", "../node_modules/d3-scale-chromatic/src/sequential-single/Purples.js", "../node_modules/d3-scale-chromatic/src/sequential-single/Reds.js", "../node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/cividis.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/turbo.js", "../node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js", "../node_modules/d3-shape/src/constant.js", "../node_modules/d3-shape/src/math.js", "../node_modules/d3-shape/src/path.js", "../node_modules/d3-shape/src/array.js", "../node_modules/d3-shape/src/curve/linear.js", "../node_modules/d3-shape/src/point.js", "../node_modules/d3-shape/src/line.js", "../node_modules/d3-shape/src/area.js", "../node_modules/d3-shape/src/curve/bump.js", "../node_modules/d3-shape/src/symbol/asterisk.js", "../node_modules/d3-shape/src/symbol/circle.js", "../node_modules/d3-shape/src/symbol/cross.js", "../node_modules/d3-shape/src/symbol/diamond.js", "../node_modules/d3-shape/src/symbol/diamond2.js", "../node_modules/d3-shape/src/symbol/plus.js", "../node_modules/d3-shape/src/symbol/square.js", "../node_modules/d3-shape/src/symbol/square2.js", "../node_modules/d3-shape/src/symbol/star.js", "../node_modules/d3-shape/src/symbol/triangle.js", "../node_modules/d3-shape/src/symbol/triangle2.js", "../node_modules/d3-shape/src/symbol/wye.js", "../node_modules/d3-shape/src/symbol/times.js", "../node_modules/d3-shape/src/symbol.js", "../node_modules/d3-shape/src/noop.js", "../node_modules/d3-shape/src/curve/basis.js", "../node_modules/d3-shape/src/curve/basisClosed.js", "../node_modules/d3-shape/src/curve/basisOpen.js", "../node_modules/d3-shape/src/curve/bundle.js", "../node_modules/d3-shape/src/curve/cardinal.js", "../node_modules/d3-shape/src/curve/cardinalClosed.js", "../node_modules/d3-shape/src/curve/cardinalOpen.js", "../node_modules/d3-shape/src/curve/catmullRom.js", "../node_modules/d3-shape/src/curve/catmullRomClosed.js", "../node_modules/d3-shape/src/curve/catmullRomOpen.js", "../node_modules/d3-shape/src/curve/linearClosed.js", "../node_modules/d3-shape/src/curve/monotone.js", "../node_modules/d3-shape/src/curve/natural.js", "../node_modules/d3-shape/src/curve/step.js", "../node_modules/d3-zoom/src/transform.js", "../node_modules/@observablehq/plot/src/defined.js", "../node_modules/isoformat/src/format.js", "../node_modules/isoformat/src/parse.js", "../node_modules/@observablehq/plot/src/time.js", "../node_modules/@observablehq/plot/src/options.js", "../node_modules/@observablehq/plot/src/scales/index.js", "../node_modules/@observablehq/plot/src/symbol.js", "../node_modules/@observablehq/plot/src/transforms/basic.js", "../node_modules/@observablehq/plot/src/transforms/group.js", "../node_modules/@observablehq/plot/src/channel.js", "../node_modules/@observablehq/plot/src/context.js", "../node_modules/@observablehq/plot/src/warnings.js", "../node_modules/@observablehq/plot/src/projection.js", "../node_modules/@observablehq/plot/src/scales/schemes.js", "../node_modules/@observablehq/plot/src/scales/quantitative.js", "../node_modules/@observablehq/plot/src/scales/diverging.js", "../node_modules/@observablehq/plot/src/scales/temporal.js", "../node_modules/@observablehq/plot/src/scales/ordinal.js", "../node_modules/@observablehq/plot/src/scales.js", "../node_modules/@observablehq/plot/src/memoize.js", "../node_modules/@observablehq/plot/src/format.js", "../node_modules/@observablehq/plot/src/style.js", "../node_modules/@observablehq/plot/src/dimensions.js", "../node_modules/@observablehq/plot/src/facet.js", "../node_modules/@observablehq/plot/src/mark.js", "../node_modules/@observablehq/plot/src/interactions/pointer.js", "../node_modules/@observablehq/plot/src/axes.js", "../node_modules/@observablehq/plot/src/legends/ramp.js", "../node_modules/@observablehq/plot/src/math.js", "../node_modules/@observablehq/plot/src/marker.js", "../node_modules/@observablehq/plot/src/transforms/inset.js", "../node_modules/@observablehq/plot/src/transforms/interval.js", "../node_modules/@observablehq/plot/src/marks/rule.js", "../node_modules/@observablehq/plot/src/template.js", "../node_modules/@observablehq/plot/src/marks/text.js", "../node_modules/@observablehq/plot/src/marks/vector.js", "../node_modules/@observablehq/plot/src/marks/axis.js", "../node_modules/@observablehq/plot/src/legends/swatches.js", "../node_modules/@observablehq/plot/src/legends.js", "../node_modules/@observablehq/plot/src/marks/frame.js", "../node_modules/@observablehq/plot/src/marks/tip.js", "../node_modules/@observablehq/plot/src/plot.js", "../node_modules/@observablehq/plot/src/curve.js", "../node_modules/@observablehq/plot/src/transforms/bin.js", "../node_modules/@observablehq/plot/src/transforms/identity.js", "../node_modules/@observablehq/plot/src/transforms/stack.js", "../node_modules/@observablehq/plot/src/marks/area.js", "../src/utils/getElementsFromSlotChangeEvent.ts", "../src/observable_plot.ts", "../src/output_plot.ts", "../src/posit-logo.ts", "../src/styles/op-classes.ts", "../src/shiny-avatar.ts", "../src/shiny-dashboard.ts", "../src/shiny-section.ts", "../src/sidebar.ts", "../src/simple-number-input.ts", "../src/simple-number-output.ts", "../src/tabs/ScTab.ts", "../src/theme-chooser.ts", "../node_modules/colorjs.io/src/multiply-matrices.js", "../node_modules/colorjs.io/src/util.js", "../node_modules/colorjs.io/src/hooks.js", "../node_modules/colorjs.io/src/defaults.js", "../node_modules/colorjs.io/src/adapt.js", "../node_modules/colorjs.io/src/space.js", "../node_modules/colorjs.io/src/spaces/xyz-d65.js", "../node_modules/colorjs.io/src/rgbspace.js", "../node_modules/colorjs.io/src/parse.js", "../node_modules/colorjs.io/src/getColor.js", "../node_modules/colorjs.io/src/getAll.js", "../node_modules/colorjs.io/src/get.js", "../node_modules/colorjs.io/src/setAll.js", "../node_modules/colorjs.io/src/set.js", "../node_modules/colorjs.io/src/spaces/xyz-d50.js", "../node_modules/colorjs.io/src/spaces/lab.js", "../node_modules/colorjs.io/src/angles.js", "../node_modules/colorjs.io/src/spaces/lch.js", "../node_modules/colorjs.io/src/deltaE/deltaE2000.js", "../node_modules/colorjs.io/src/inGamut.js", "../node_modules/colorjs.io/src/clone.js", "../node_modules/colorjs.io/src/toGamut.js", "../node_modules/colorjs.io/src/to.js", "../node_modules/colorjs.io/src/serialize.js", "../node_modules/colorjs.io/src/spaces/rec2020-linear.js", "../node_modules/colorjs.io/src/spaces/rec2020.js", "../node_modules/colorjs.io/src/spaces/p3-linear.js", "../node_modules/colorjs.io/src/spaces/srgb-linear.js", "../node_modules/colorjs.io/src/keywords.js", "../node_modules/colorjs.io/src/spaces/srgb.js", "../node_modules/colorjs.io/src/spaces/p3.js", "../node_modules/colorjs.io/src/display.js", "../node_modules/colorjs.io/src/distance.js", "../node_modules/colorjs.io/src/equals.js", "../node_modules/colorjs.io/src/luminance.js", "../node_modules/colorjs.io/src/contrast/WCAG21.js", "../node_modules/colorjs.io/src/contrast/APCA.js", "../node_modules/colorjs.io/src/contrast/Michelson.js", "../node_modules/colorjs.io/src/contrast/Weber.js", "../node_modules/colorjs.io/src/contrast/Lstar.js", "../node_modules/colorjs.io/src/spaces/lab-d65.js", "../node_modules/colorjs.io/src/contrast/deltaPhi.js", "../node_modules/colorjs.io/src/contrast.js", "../node_modules/colorjs.io/src/chromaticity.js", "../node_modules/colorjs.io/src/deltaE/deltaE76.js", "../node_modules/colorjs.io/src/deltaE/deltaECMC.js", "../node_modules/colorjs.io/src/spaces/xyz-abs-d65.js", "../node_modules/colorjs.io/src/spaces/jzazbz.js", "../node_modules/colorjs.io/src/spaces/jzczhz.js", "../node_modules/colorjs.io/src/deltaE/deltaEJz.js", "../node_modules/colorjs.io/src/spaces/ictcp.js", "../node_modules/colorjs.io/src/deltaE/deltaEITP.js", "../node_modules/colorjs.io/src/spaces/oklab.js", "../node_modules/colorjs.io/src/deltaE/deltaEOK.js", "../node_modules/colorjs.io/src/deltaE/index.js", "../node_modules/colorjs.io/src/deltaE.js", "../node_modules/colorjs.io/src/variations.js", "../node_modules/colorjs.io/src/interpolation.js", "../node_modules/colorjs.io/src/spaces/hsl.js", "../node_modules/colorjs.io/src/spaces/hsv.js", "../node_modules/colorjs.io/src/spaces/hwb.js", "../node_modules/colorjs.io/src/spaces/a98rgb-linear.js", "../node_modules/colorjs.io/src/spaces/a98rgb.js", "../node_modules/colorjs.io/src/spaces/prophoto-linear.js", "../node_modules/colorjs.io/src/spaces/prophoto.js", "../node_modules/colorjs.io/src/spaces/oklch.js", "../node_modules/colorjs.io/src/spaces/rec2100-pq.js", "../node_modules/colorjs.io/src/spaces/rec2100-hlg.js", "../node_modules/colorjs.io/src/CATs.js", "../node_modules/colorjs.io/src/spaces/acescg.js", "../node_modules/colorjs.io/src/spaces/acescc.js", "../node_modules/colorjs.io/src/color.js", "../node_modules/colorjs.io/src/spaces/index.js", "../node_modules/colorjs.io/src/space-accessors.js", "../node_modules/colorjs.io/src/index.js", "../src/value_box.ts"],
  "sourcesContent": ["import { EMPTY_ARR } from './constants';\n\nexport const isArray = Array.isArray;\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function (update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) {\n\t\t\tthis._stateCallbacks.push(callback);\n\t\t}\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function (callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/**\n * @param {import('./internal').Component} a\n * @param {import('./internal').Component} b\n */\nconst depthSort = (a, b) => a._vnode._depth - b._vnode._depth;\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet c;\n\trerenderQueue.sort(depthSort);\n\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t// process() calls from getting scheduled while `queue` is still being consumed.\n\twhile ((c = rerenderQueue.shift())) {\n\t\tif (c._dirty) {\n\t\t\tlet renderQueueLength = rerenderQueue.length;\n\t\t\trenderComponent(c);\n\t\t\tif (rerenderQueue.length > renderQueueLength) {\n\t\t\t\t// When i.e. rerendering a provider additional new items can be injected, we want to\n\t\t\t\t// keep the order from top to bottom with those new items so we can handle them in a\n\t\t\t\t// single pass\n\t\t\t\trerenderQueue.sort(depthSort);\n\t\t\t}\n\t\t}\n\t}\n\tprocess._rerenderCount = 0;\n}\n\nprocess._rerenderCount = 0;\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\t/** @type {import('./internal').Component[]} */\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function (_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(c => {\n\t\t\t\t\t\t\tc._force = true;\n\t\t\t\t\t\t\tenqueueRender(c);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType =\n\t\tcontext);\n}\n", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL =\n\t/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\nimport { isArray } from '../util';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (\n\t\t\tchildVNode == null ||\n\t\t\ttypeof childVNode == 'boolean' ||\n\t\t\ttypeof childVNode == 'function'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tchildVNode.ref ? childVNode.ref : null,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getLastDom(oldParentVNode).nextSibling;\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(parentDom, vnode, vnode, c, vnode._dom, oldDom);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 1\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * @param {import('../internal').VNode} vnode\n */\nfunction getLastDom(vnode) {\n\tif (vnode.type == null || typeof vnode.type === 'string') {\n\t\treturn vnode._dom;\n\t}\n\n\tif (vnode._children) {\n\t\tfor (let i = vnode._children.length - 1; i >= 0; i--) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child) {\n\t\t\t\tlet lastDom = getLastDom(child);\n\t\t\t\tif (lastDom) {\n\t\t\t\t\treturn lastDom;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn null;\n}\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value == null ? '' : value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'width' &&\n\t\t\tname !== 'height' &&\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname !== 'rowSpan' &&\n\t\t\tname !== 'colSpan' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// aria- and data- attributes have no boolean representation.\n\t\t// A `false` value is different from the attribute not being\n\t\t// present, so we can't remove it. For non-boolean aria\n\t\t// attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost too many bytes. On top of\n\t\t// that other frameworks generally stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (value != null && (value !== false || name[4] === '-')) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\treturn this._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\treturn this._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n", "import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, isArray, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\t\t\tc._vnode = newVNode;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) {\n\t\t\t\t\t\t// When we are dealing with a bail because of sCU we have to update\n\t\t\t\t\t\t// the props, state and dirty-state.\n\t\t\t\t\t\t// when we are dealing with strict-equality we don't as the child could still\n\t\t\t\t\t\t// be dirtied see #3883\n\t\t\t\t\t\tc.props = newProps;\n\t\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t\tc._dirty = false;\n\t\t\t\t\t}\n\n\t\t\t\t\t// In cases of bailing due to strict-equality we have to reset force as well\n\t\t\t\t\tc._force = false;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\n\t\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t\t}\n\t\t\t\t\tc._stateCallbacks = [];\n\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\tlet renderHook = options._render,\n\t\t\t\tcount = 0;\n\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\tc.state = c._nextState;\n\t\t\t\tc._dirty = false;\n\n\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\tfor (let i = 0; i < c._stateCallbacks.length; i++) {\n\t\t\t\t\tc._renderCallbacks.push(c._stateCallbacks[i]);\n\t\t\t\t}\n\t\t\t\tc._stateCallbacks = [];\n\t\t\t} else {\n\t\t\t\tdo {\n\t\t\t\t\tc._dirty = false;\n\t\t\t\t\tif (renderHook) renderHook(newVNode);\n\n\t\t\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t\t\t// Handle setState called in render, see #2553\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t} while (c._dirty && ++count < 25);\n\t\t\t}\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tisArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tisArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) {\n\t\t\tapplyRef(r, null, parentVNode);\n\t\t}\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t\tvnode._component = undefined;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(\n\t\t\t\t\tr[i],\n\t\t\t\t\tparentVNode,\n\t\t\t\t\tskipRemove || typeof vnode.type !== 'function'\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) {\n\t\tremoveNode(vnode._dom);\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._parent = vnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = ((!isHydrating && replaceNode) || parentDom)._children =\n\t\tcreateElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\n\tlet defaultProps;\n\n\tif (vnode.type && vnode.type.defaultProps) {\n\t\tdefaultProps = vnode.type.defaultProps;\n\t}\n\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse if (props[i] === undefined && defaultProps !== undefined) {\n\t\t\tnormalizedProps[i] = defaultProps[i];\n\t\t} else {\n\t\t\tnormalizedProps[i] = props[i];\n\t\t}\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "import { options } from 'preact';\n\n/** @type {number} */\nlet currentIndex;\n\n/** @type {import('./internal').Component} */\nlet currentComponent;\n\n/** @type {import('./internal').Component} */\nlet previousComponent;\n\n/** @type {number} */\nlet currentHook = 0;\n\n/** @type {Array<import('./internal').Component>} */\nlet afterPaintEffects = [];\n\nlet EMPTY = [];\n\nlet oldBeforeDiff = options._diff;\nlet oldBeforeRender = options._render;\nlet oldAfterDiff = options.diffed;\nlet oldCommit = options._commit;\nlet oldBeforeUnmount = options.unmount;\n\nconst RAF_TIMEOUT = 100;\nlet prevRaf;\n\noptions._diff = vnode => {\n\tcurrentComponent = null;\n\tif (oldBeforeDiff) oldBeforeDiff(vnode);\n};\n\noptions._render = vnode => {\n\tif (oldBeforeRender) oldBeforeRender(vnode);\n\n\tcurrentComponent = vnode._component;\n\tcurrentIndex = 0;\n\n\tconst hooks = currentComponent.__hooks;\n\tif (hooks) {\n\t\tif (previousComponent === currentComponent) {\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentComponent._renderCallbacks = [];\n\t\t\thooks._list.forEach(hookItem => {\n\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t}\n\t\t\t\thookItem._pendingValue = EMPTY;\n\t\t\t\thookItem._nextValue = hookItem._pendingArgs = undefined;\n\t\t\t});\n\t\t} else {\n\t\t\thooks._pendingEffects.forEach(invokeCleanup);\n\t\t\thooks._pendingEffects.forEach(invokeEffect);\n\t\t\thooks._pendingEffects = [];\n\t\t\tcurrentIndex = 0;\n\t\t}\n\t}\n\tpreviousComponent = currentComponent;\n};\n\noptions.diffed = vnode => {\n\tif (oldAfterDiff) oldAfterDiff(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tif (c.__hooks._pendingEffects.length) afterPaint(afterPaintEffects.push(c));\n\t\tc.__hooks._list.forEach(hookItem => {\n\t\t\tif (hookItem._pendingArgs) {\n\t\t\t\thookItem._args = hookItem._pendingArgs;\n\t\t\t}\n\t\t\tif (hookItem._pendingValue !== EMPTY) {\n\t\t\t\thookItem._value = hookItem._pendingValue;\n\t\t\t}\n\t\t\thookItem._pendingArgs = undefined;\n\t\t\thookItem._pendingValue = EMPTY;\n\t\t});\n\t}\n\tpreviousComponent = currentComponent = null;\n};\n\noptions._commit = (vnode, commitQueue) => {\n\tcommitQueue.some(component => {\n\t\ttry {\n\t\t\tcomponent._renderCallbacks.forEach(invokeCleanup);\n\t\t\tcomponent._renderCallbacks = component._renderCallbacks.filter(cb =>\n\t\t\t\tcb._value ? invokeEffect(cb) : true\n\t\t\t);\n\t\t} catch (e) {\n\t\t\tcommitQueue.some(c => {\n\t\t\t\tif (c._renderCallbacks) c._renderCallbacks = [];\n\t\t\t});\n\t\t\tcommitQueue = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t});\n\n\tif (oldCommit) oldCommit(vnode, commitQueue);\n};\n\noptions.unmount = vnode => {\n\tif (oldBeforeUnmount) oldBeforeUnmount(vnode);\n\n\tconst c = vnode._component;\n\tif (c && c.__hooks) {\n\t\tlet hasErrored;\n\t\tc.__hooks._list.forEach(s => {\n\t\t\ttry {\n\t\t\t\tinvokeCleanup(s);\n\t\t\t} catch (e) {\n\t\t\t\thasErrored = e;\n\t\t\t}\n\t\t});\n\t\tc.__hooks = undefined;\n\t\tif (hasErrored) options._catchError(hasErrored, c._vnode);\n\t}\n};\n\n/**\n * Get a hook's state from the currentComponent\n * @param {number} index The index of the hook to get\n * @param {number} type The index of the hook to get\n * @returns {any}\n */\nfunction getHookState(index, type) {\n\tif (options._hook) {\n\t\toptions._hook(currentComponent, index, currentHook || type);\n\t}\n\tcurrentHook = 0;\n\n\t// Largely inspired by:\n\t// * https://github.com/michael-klein/funcy.js/blob/f6be73468e6ec46b0ff5aa3cc4c9baf72a29025a/src/hooks/core_hooks.mjs\n\t// * https://github.com/michael-klein/funcy.js/blob/650beaa58c43c33a74820a3c98b3c7079cf2e333/src/renderer.mjs\n\t// Other implementations to look at:\n\t// * https://codesandbox.io/s/mnox05qp8\n\tconst hooks =\n\t\tcurrentComponent.__hooks ||\n\t\t(currentComponent.__hooks = {\n\t\t\t_list: [],\n\t\t\t_pendingEffects: []\n\t\t});\n\n\tif (index >= hooks._list.length) {\n\t\thooks._list.push({ _pendingValue: EMPTY });\n\t}\n\treturn hooks._list[index];\n}\n\n/**\n * @param {import('./index').StateUpdater<any>} [initialState]\n */\nexport function useState(initialState) {\n\tcurrentHook = 1;\n\treturn useReducer(invokeOrReturn, initialState);\n}\n\n/**\n * @param {import('./index').Reducer<any, any>} reducer\n * @param {import('./index').StateUpdater<any>} initialState\n * @param {(initialState: any) => void} [init]\n * @returns {[ any, (state: any) => void ]}\n */\nexport function useReducer(reducer, initialState, init) {\n\t/** @type {import('./internal').ReducerHookState} */\n\tconst hookState = getHookState(currentIndex++, 2);\n\thookState._reducer = reducer;\n\tif (!hookState._component) {\n\t\thookState._value = [\n\t\t\t!init ? invokeOrReturn(undefined, initialState) : init(initialState),\n\n\t\t\taction => {\n\t\t\t\tconst currentValue = hookState._nextValue\n\t\t\t\t\t? hookState._nextValue[0]\n\t\t\t\t\t: hookState._value[0];\n\t\t\t\tconst nextValue = hookState._reducer(currentValue, action);\n\n\t\t\t\tif (currentValue !== nextValue) {\n\t\t\t\t\thookState._nextValue = [nextValue, hookState._value[1]];\n\t\t\t\t\thookState._component.setState({});\n\t\t\t\t}\n\t\t\t}\n\t\t];\n\n\t\thookState._component = currentComponent;\n\n\t\tif (!currentComponent._hasScuFromHooks) {\n\t\t\tcurrentComponent._hasScuFromHooks = true;\n\t\t\tlet prevScu = currentComponent.shouldComponentUpdate;\n\t\t\tconst prevCWU = currentComponent.componentWillUpdate;\n\n\t\t\t// If we're dealing with a forced update `shouldComponentUpdate` will\n\t\t\t// not be called. But we use that to update the hook values, so we\n\t\t\t// need to call it.\n\t\t\tcurrentComponent.componentWillUpdate = function (p, s, c) {\n\t\t\t\tif (this._force) {\n\t\t\t\t\tlet tmp = prevScu;\n\t\t\t\t\t// Clear to avoid other sCU hooks from being called\n\t\t\t\t\tprevScu = undefined;\n\t\t\t\t\tupdateHookState(p, s, c);\n\t\t\t\t\tprevScu = tmp;\n\t\t\t\t}\n\n\t\t\t\tif (prevCWU) prevCWU.call(this, p, s, c);\n\t\t\t};\n\n\t\t\t// This SCU has the purpose of bailing out after repeated updates\n\t\t\t// to stateful hooks.\n\t\t\t// we store the next value in _nextValue[0] and keep doing that for all\n\t\t\t// state setters, if we have next states and\n\t\t\t// all next states within a component end up being equal to their original state\n\t\t\t// we are safe to bail out for this specific component.\n\t\t\t/**\n\t\t\t *\n\t\t\t * @type {import('./internal').Component[\"shouldComponentUpdate\"]}\n\t\t\t */\n\t\t\t// @ts-ignore - We don't use TS to downtranspile\n\t\t\t// eslint-disable-next-line no-inner-declarations\n\t\t\tfunction updateHookState(p, s, c) {\n\t\t\t\tif (!hookState._component.__hooks) return true;\n\n\t\t\t\tconst stateHooks = hookState._component.__hooks._list.filter(\n\t\t\t\t\tx => x._component\n\t\t\t\t);\n\t\t\t\tconst allHooksEmpty = stateHooks.every(x => !x._nextValue);\n\t\t\t\t// When we have no updated hooks in the component we invoke the previous SCU or\n\t\t\t\t// traverse the VDOM tree further.\n\t\t\t\tif (allHooksEmpty) {\n\t\t\t\t\treturn prevScu ? prevScu.call(this, p, s, c) : true;\n\t\t\t\t}\n\n\t\t\t\t// We check whether we have components with a nextValue set that\n\t\t\t\t// have values that aren't equal to one another this pushes\n\t\t\t\t// us to update further down the tree\n\t\t\t\tlet shouldUpdate = false;\n\t\t\t\tstateHooks.forEach(hookItem => {\n\t\t\t\t\tif (hookItem._nextValue) {\n\t\t\t\t\t\tconst currentValue = hookItem._value[0];\n\t\t\t\t\t\thookItem._value = hookItem._nextValue;\n\t\t\t\t\t\thookItem._nextValue = undefined;\n\t\t\t\t\t\tif (currentValue !== hookItem._value[0]) shouldUpdate = true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn shouldUpdate || hookState._component.props !== p\n\t\t\t\t\t? prevScu\n\t\t\t\t\t\t? prevScu.call(this, p, s, c)\n\t\t\t\t\t\t: true\n\t\t\t\t\t: false;\n\t\t\t}\n\n\t\t\tcurrentComponent.shouldComponentUpdate = updateHookState;\n\t\t}\n\t}\n\n\treturn hookState._nextValue || hookState._value;\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 3);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent.__hooks._pendingEffects.push(state);\n\t}\n}\n\n/**\n * @param {import('./internal').Effect} callback\n * @param {any[]} args\n */\nexport function useLayoutEffect(callback, args) {\n\t/** @type {import('./internal').EffectHookState} */\n\tconst state = getHookState(currentIndex++, 4);\n\tif (!options._skipEffects && argsChanged(state._args, args)) {\n\t\tstate._value = callback;\n\t\tstate._pendingArgs = args;\n\n\t\tcurrentComponent._renderCallbacks.push(state);\n\t}\n}\n\nexport function useRef(initialValue) {\n\tcurrentHook = 5;\n\treturn useMemo(() => ({ current: initialValue }), []);\n}\n\n/**\n * @param {object} ref\n * @param {() => object} createHandle\n * @param {any[]} args\n */\nexport function useImperativeHandle(ref, createHandle, args) {\n\tcurrentHook = 6;\n\tuseLayoutEffect(\n\t\t() => {\n\t\t\tif (typeof ref == 'function') {\n\t\t\t\tref(createHandle());\n\t\t\t\treturn () => ref(null);\n\t\t\t} else if (ref) {\n\t\t\t\tref.current = createHandle();\n\t\t\t\treturn () => (ref.current = null);\n\t\t\t}\n\t\t},\n\t\targs == null ? args : args.concat(ref)\n\t);\n}\n\n/**\n * @param {() => any} factory\n * @param {any[]} args\n */\nexport function useMemo(factory, args) {\n\t/** @type {import('./internal').MemoHookState} */\n\tconst state = getHookState(currentIndex++, 7);\n\tif (argsChanged(state._args, args)) {\n\t\tstate._pendingValue = factory();\n\t\tstate._pendingArgs = args;\n\t\tstate._factory = factory;\n\t\treturn state._pendingValue;\n\t}\n\n\treturn state._value;\n}\n\n/**\n * @param {() => void} callback\n * @param {any[]} args\n */\nexport function useCallback(callback, args) {\n\tcurrentHook = 8;\n\treturn useMemo(() => callback, args);\n}\n\n/**\n * @param {import('./internal').PreactContext} context\n */\nexport function useContext(context) {\n\tconst provider = currentComponent.context[context._id];\n\t// We could skip this call here, but than we'd not call\n\t// `options._hook`. We need to do that in order to make\n\t// the devtools aware of this hook.\n\t/** @type {import('./internal').ContextHookState} */\n\tconst state = getHookState(currentIndex++, 9);\n\t// The devtools needs access to the context object to\n\t// be able to pull of the default value when no provider\n\t// is present in the tree.\n\tstate._context = context;\n\tif (!provider) return context._defaultValue;\n\t// This is probably not safe to convert to \"!\"\n\tif (state._value == null) {\n\t\tstate._value = true;\n\t\tprovider.sub(currentComponent);\n\t}\n\treturn provider.props.value;\n}\n\n/**\n * Display a custom label for a custom hook for the devtools panel\n * @type {<T>(value: T, cb?: (value: T) => string | number) => void}\n */\nexport function useDebugValue(value, formatter) {\n\tif (options.useDebugValue) {\n\t\toptions.useDebugValue(formatter ? formatter(value) : value);\n\t}\n}\n\n/**\n * @param {(error: any, errorInfo: import('preact').ErrorInfo) => void} cb\n */\nexport function useErrorBoundary(cb) {\n\t/** @type {import('./internal').ErrorBoundaryHookState} */\n\tconst state = getHookState(currentIndex++, 10);\n\tconst errState = useState();\n\tstate._value = cb;\n\tif (!currentComponent.componentDidCatch) {\n\t\tcurrentComponent.componentDidCatch = (err, errorInfo) => {\n\t\t\tif (state._value) state._value(err, errorInfo);\n\t\t\terrState[1](err);\n\t\t};\n\t}\n\treturn [\n\t\terrState[0],\n\t\t() => {\n\t\t\terrState[1](undefined);\n\t\t}\n\t];\n}\n\nexport function useId() {\n\tconst state = getHookState(currentIndex++, 11);\n\tif (!state._value) {\n\t\t// Grab either the root node or the nearest async boundary node.\n\t\t/** @type {import('./internal.d').VNode} */\n\t\tlet root = currentComponent._vnode;\n\t\twhile (root !== null && !root._mask && root._parent !== null) {\n\t\t\troot = root._parent;\n\t\t}\n\n\t\tlet mask = root._mask || (root._mask = [0, 0]);\n\t\tstate._value = 'P' + mask[0] + '-' + mask[1]++;\n\t}\n\n\treturn state._value;\n}\n/**\n * After paint effects consumer.\n */\nfunction flushAfterPaintEffects() {\n\tlet component;\n\twhile ((component = afterPaintEffects.shift())) {\n\t\tif (!component._parentDom || !component.__hooks) continue;\n\t\ttry {\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeCleanup);\n\t\t\tcomponent.__hooks._pendingEffects.forEach(invokeEffect);\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t} catch (e) {\n\t\t\tcomponent.__hooks._pendingEffects = [];\n\t\t\toptions._catchError(e, component._vnode);\n\t\t}\n\t}\n}\n\nlet HAS_RAF = typeof requestAnimationFrame == 'function';\n\n/**\n * Schedule a callback to be invoked after the browser has a chance to paint a new frame.\n * Do this by combining requestAnimationFrame (rAF) + setTimeout to invoke a callback after\n * the next browser frame.\n *\n * Also, schedule a timeout in parallel to the the rAF to ensure the callback is invoked\n * even if RAF doesn't fire (for example if the browser tab is not visible)\n *\n * @param {() => void} callback\n */\nfunction afterNextFrame(callback) {\n\tconst done = () => {\n\t\tclearTimeout(timeout);\n\t\tif (HAS_RAF) cancelAnimationFrame(raf);\n\t\tsetTimeout(callback);\n\t};\n\tconst timeout = setTimeout(done, RAF_TIMEOUT);\n\n\tlet raf;\n\tif (HAS_RAF) {\n\t\traf = requestAnimationFrame(done);\n\t}\n}\n\n// Note: if someone used options.debounceRendering = requestAnimationFrame,\n// then effects will ALWAYS run on the NEXT frame instead of the current one, incurring a ~16ms delay.\n// Perhaps this is not such a big deal.\n/**\n * Schedule afterPaintEffects flush after the browser paints\n * @param {number} newQueueLength\n */\nfunction afterPaint(newQueueLength) {\n\tif (newQueueLength === 1 || prevRaf !== options.requestAnimationFrame) {\n\t\tprevRaf = options.requestAnimationFrame;\n\t\t(prevRaf || afterNextFrame)(flushAfterPaintEffects);\n\t}\n}\n\n/**\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeCleanup(hook) {\n\t// A hook cleanup can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\tlet cleanup = hook._cleanup;\n\tif (typeof cleanup == 'function') {\n\t\thook._cleanup = undefined;\n\t\tcleanup();\n\t}\n\n\tcurrentComponent = comp;\n}\n\n/**\n * Invoke a Hook's effect\n * @param {import('./internal').EffectHookState} hook\n */\nfunction invokeEffect(hook) {\n\t// A hook call can introduce a call to render which creates a new root, this will call options.vnode\n\t// and move the currentComponent away.\n\tconst comp = currentComponent;\n\thook._cleanup = hook._value();\n\tcurrentComponent = comp;\n}\n\n/**\n * @param {any[]} oldArgs\n * @param {any[]} newArgs\n */\nfunction argsChanged(oldArgs, newArgs) {\n\treturn (\n\t\t!oldArgs ||\n\t\toldArgs.length !== newArgs.length ||\n\t\tnewArgs.some((arg, index) => arg !== oldArgs[index])\n\t);\n}\n\nfunction invokeOrReturn(arg, f) {\n\treturn typeof f == 'function' ? f(arg) : f;\n}\n", "/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Check if two objects have a different shape\n * @param {object} a\n * @param {object} b\n * @returns {boolean}\n */\nexport function shallowDiffers(a, b) {\n\tfor (let i in a) if (i !== '__source' && !(i in b)) return true;\n\tfor (let i in b) if (i !== '__source' && a[i] !== b[i]) return true;\n\treturn false;\n}\n\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\n/**\n * Check if two values are the same value\n * @param {*} x\n * @param {*} y\n * @returns {boolean}\n */\nexport function is(x, y) {\n\treturn (x === y && (x !== 0 || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\n", "import { Component } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Component class with a predefined `shouldComponentUpdate` implementation\n */\nexport function PureComponent(p) {\n\tthis.props = p;\n}\nPureComponent.prototype = new Component();\n// Some third-party libraries check if this property is present\nPureComponent.prototype.isPureReactComponent = true;\nPureComponent.prototype.shouldComponentUpdate = function (props, state) {\n\treturn shallowDiffers(this.props, props) || shallowDiffers(this.state, state);\n};\n", "import { createElement } from 'preact';\nimport { shallowDiffers } from './util';\n\n/**\n * Memoize a component, so that it only updates when the props actually have\n * changed. This was previously known as `React.pure`.\n * @param {import('./internal').FunctionComponent} c functional component\n * @param {(prev: object, next: object) => boolean} [comparer] Custom equality function\n * @returns {import('./internal').FunctionComponent}\n */\nexport function memo(c, comparer) {\n\tfunction shouldUpdate(nextProps) {\n\t\tlet ref = this.props.ref;\n\t\tlet updateRef = ref == nextProps.ref;\n\t\tif (!updateRef && ref) {\n\t\t\tref.call ? ref(null) : (ref.current = null);\n\t\t}\n\n\t\tif (!comparer) {\n\t\t\treturn shallowDiffers(this.props, nextProps);\n\t\t}\n\n\t\treturn !comparer(this.props, nextProps) || !updateRef;\n\t}\n\n\tfunction Memoed(props) {\n\t\tthis.shouldComponentUpdate = shouldUpdate;\n\t\treturn createElement(c, props);\n\t}\n\tMemoed.displayName = 'Memo(' + (c.displayName || c.name) + ')';\n\tMemoed.prototype.isReactComponent = true;\n\tMemoed._forwarded = true;\n\treturn Memoed;\n}\n", "import { options } from 'preact';\nimport { assign } from './util';\n\nlet oldDiffHook = options._diff;\noptions._diff = vnode => {\n\tif (vnode.type && vnode.type._forwarded && vnode.ref) {\n\t\tvnode.props.ref = vnode.ref;\n\t\tvnode.ref = null;\n\t}\n\tif (oldDiffHook) oldDiffHook(vnode);\n};\n\nexport const REACT_FORWARD_SYMBOL =\n\t(typeof Symbol != 'undefined' &&\n\t\tSymbol.for &&\n\t\tSymbol.for('react.forward_ref')) ||\n\t0xf47;\n\n/**\n * Pass ref down to a child. This is mainly used in libraries with HOCs that\n * wrap components. Using `forwardRef` there is an easy way to get a reference\n * of the wrapped component instead of one of the wrapper itself.\n * @param {import('./index').ForwardFn} fn\n * @returns {import('./internal').FunctionComponent}\n */\nexport function forwardRef(fn) {\n\tfunction Forwarded(props) {\n\t\tlet clone = assign({}, props);\n\t\tdelete clone.ref;\n\t\treturn fn(clone, props.ref || null);\n\t}\n\n\t// mobx-react checks for this being present\n\tForwarded.$$typeof = REACT_FORWARD_SYMBOL;\n\t// mobx-react heavily relies on implementation details.\n\t// It expects an object here with a `render` property,\n\t// and prototype.render will fail. Without this\n\t// mobx-react throws.\n\tForwarded.render = Forwarded;\n\n\tForwarded.prototype.isReactComponent = Forwarded._forwarded = true;\n\tForwarded.displayName = 'ForwardRef(' + (fn.displayName || fn.name) + ')';\n\treturn Forwarded;\n}\n", "import { toChildArray } from 'preact';\n\nconst mapFn = (children, fn) => {\n\tif (children == null) return null;\n\treturn toChildArray(toChildArray(children).map(fn));\n};\n\n// This API is completely unnecessary for Preact, so it's basically passthrough.\nexport const Children = {\n\tmap: mapFn,\n\tforEach: mapFn,\n\tcount(children) {\n\t\treturn children ? toChildArray(children).length : 0;\n\t},\n\tonly(children) {\n\t\tconst normalized = toChildArray(children);\n\t\tif (normalized.length !== 1) throw 'Children.only';\n\t\treturn normalized[0];\n\t},\n\ttoArray: toChildArray\n};\n", "import { Component, createElement, options, Fragment } from 'preact';\nimport { assign } from './util';\n\nconst oldCatchError = options._catchError;\noptions._catchError = function (error, newVNode, oldVNode, errorInfo) {\n\tif (error.then) {\n\t\t/** @type {import('./internal').Component} */\n\t\tlet component;\n\t\tlet vnode = newVNode;\n\n\t\tfor (; (vnode = vnode._parent); ) {\n\t\t\tif ((component = vnode._component) && component._childDidSuspend) {\n\t\t\t\tif (newVNode._dom == null) {\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t}\n\t\t\t\t// Don't call oldCatchError if we found a Suspense\n\t\t\t\treturn component._childDidSuspend(error, newVNode);\n\t\t\t}\n\t\t}\n\t}\n\toldCatchError(error, newVNode, oldVNode, errorInfo);\n};\n\nconst oldUnmount = options.unmount;\noptions.unmount = function (vnode) {\n\t/** @type {import('./internal').Component} */\n\tconst component = vnode._component;\n\tif (component && component._onResolve) {\n\t\tcomponent._onResolve();\n\t}\n\n\t// if the component is still hydrating\n\t// most likely it is because the component is suspended\n\t// we set the vnode.type as `null` so that it is not a typeof function\n\t// so the unmount will remove the vnode._dom\n\tif (component && vnode._hydrating === true) {\n\t\tvnode.type = null;\n\t}\n\n\tif (oldUnmount) oldUnmount(vnode);\n};\n\nfunction detachedClone(vnode, detachedParent, parentDom) {\n\tif (vnode) {\n\t\tif (vnode._component && vnode._component.__hooks) {\n\t\t\tvnode._component.__hooks._list.forEach(effect => {\n\t\t\t\tif (typeof effect._cleanup == 'function') effect._cleanup();\n\t\t\t});\n\n\t\t\tvnode._component.__hooks = null;\n\t\t}\n\n\t\tvnode = assign({}, vnode);\n\t\tif (vnode._component != null) {\n\t\t\tif (vnode._component._parentDom === parentDom) {\n\t\t\t\tvnode._component._parentDom = detachedParent;\n\t\t\t}\n\t\t\tvnode._component = null;\n\t\t}\n\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tdetachedClone(child, detachedParent, parentDom)\n\t\t\t);\n\t}\n\n\treturn vnode;\n}\n\nfunction removeOriginal(vnode, detachedParent, originalParent) {\n\tif (vnode) {\n\t\tvnode._original = null;\n\t\tvnode._children =\n\t\t\tvnode._children &&\n\t\t\tvnode._children.map(child =>\n\t\t\t\tremoveOriginal(child, detachedParent, originalParent)\n\t\t\t);\n\n\t\tif (vnode._component) {\n\t\t\tif (vnode._component._parentDom === detachedParent) {\n\t\t\t\tif (vnode._dom) {\n\t\t\t\t\toriginalParent.insertBefore(vnode._dom, vnode._nextDom);\n\t\t\t\t}\n\t\t\t\tvnode._component._force = true;\n\t\t\t\tvnode._component._parentDom = originalParent;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn vnode;\n}\n\n// having custom inheritance instead of a class here saves a lot of bytes\nexport function Suspense() {\n\t// we do not call super here to golf some bytes...\n\tthis._pendingSuspensionCount = 0;\n\tthis._suspenders = null;\n\tthis._detachOnNextRender = null;\n}\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspense.prototype = new Component();\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {Promise} promise The thrown promise\n * @param {import('./internal').VNode<any, any>} suspendingVNode The suspending component\n */\nSuspense.prototype._childDidSuspend = function (promise, suspendingVNode) {\n\tconst suspendingComponent = suspendingVNode._component;\n\n\t/** @type {import('./internal').SuspenseComponent} */\n\tconst c = this;\n\n\tif (c._suspenders == null) {\n\t\tc._suspenders = [];\n\t}\n\tc._suspenders.push(suspendingComponent);\n\n\tconst resolve = suspended(c._vnode);\n\n\tlet resolved = false;\n\tconst onResolved = () => {\n\t\tif (resolved) return;\n\n\t\tresolved = true;\n\t\tsuspendingComponent._onResolve = null;\n\n\t\tif (resolve) {\n\t\t\tresolve(onSuspensionComplete);\n\t\t} else {\n\t\t\tonSuspensionComplete();\n\t\t}\n\t};\n\n\tsuspendingComponent._onResolve = onResolved;\n\n\tconst onSuspensionComplete = () => {\n\t\tif (!--c._pendingSuspensionCount) {\n\t\t\t// If the suspension was during hydration we don't need to restore the\n\t\t\t// suspended children into the _children array\n\t\t\tif (c.state._suspended) {\n\t\t\t\tconst suspendedVNode = c.state._suspended;\n\t\t\t\tc._vnode._children[0] = removeOriginal(\n\t\t\t\t\tsuspendedVNode,\n\t\t\t\t\tsuspendedVNode._component._parentDom,\n\t\t\t\t\tsuspendedVNode._component._originalParentDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tc.setState({ _suspended: (c._detachOnNextRender = null) });\n\n\t\t\tlet suspended;\n\t\t\twhile ((suspended = c._suspenders.pop())) {\n\t\t\t\tsuspended.forceUpdate();\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * We do not set `suspended: true` during hydration because we want the actual markup\n\t * to remain on screen and hydrate it when the suspense actually gets resolved.\n\t * While in non-hydration cases the usual fallback -> component flow would occour.\n\t */\n\tconst wasHydrating = suspendingVNode._hydrating === true;\n\tif (!c._pendingSuspensionCount++ && !wasHydrating) {\n\t\tc.setState({ _suspended: (c._detachOnNextRender = c._vnode._children[0]) });\n\t}\n\tpromise.then(onResolved, onResolved);\n};\n\nSuspense.prototype.componentWillUnmount = function () {\n\tthis._suspenders = [];\n};\n\n/**\n * @this {import('./internal').SuspenseComponent}\n * @param {import('./internal').SuspenseComponent[\"props\"]} props\n * @param {import('./internal').SuspenseState} state\n */\nSuspense.prototype.render = function (props, state) {\n\tif (this._detachOnNextRender) {\n\t\t// When the Suspense's _vnode was created by a call to createVNode\n\t\t// (i.e. due to a setState further up in the tree)\n\t\t// it's _children prop is null, in this case we \"forget\" about the parked vnodes to detach\n\t\tif (this._vnode._children) {\n\t\t\tconst detachedParent = document.createElement('div');\n\t\t\tconst detachedComponent = this._vnode._children[0]._component;\n\t\t\tthis._vnode._children[0] = detachedClone(\n\t\t\t\tthis._detachOnNextRender,\n\t\t\t\tdetachedParent,\n\t\t\t\t(detachedComponent._originalParentDom = detachedComponent._parentDom)\n\t\t\t);\n\t\t}\n\n\t\tthis._detachOnNextRender = null;\n\t}\n\n\t// Wrap fallback tree in a VNode that prevents itself from being marked as aborting mid-hydration:\n\t/** @type {import('./internal').VNode} */\n\tconst fallback =\n\t\tstate._suspended && createElement(Fragment, null, props.fallback);\n\tif (fallback) fallback._hydrating = null;\n\n\treturn [\n\t\tcreateElement(Fragment, null, state._suspended ? null : props.children),\n\t\tfallback\n\t];\n};\n\n/**\n * Checks and calls the parent component's _suspended method, passing in the\n * suspended vnode. This is a way for a parent (e.g. SuspenseList) to get notified\n * that one of its children/descendants suspended.\n *\n * The parent MAY return a callback. The callback will get called when the\n * suspension resolves, notifying the parent of the fact.\n * Moreover, the callback gets function `unsuspend` as a parameter. The resolved\n * child descendant will not actually get unsuspended until `unsuspend` gets called.\n * This is a way for the parent to delay unsuspending.\n *\n * If the parent does not return a callback then the resolved vnode\n * gets unsuspended immediately when it resolves.\n *\n * @param {import('./internal').VNode} vnode\n * @returns {((unsuspend: () => void) => void)?}\n */\nexport function suspended(vnode) {\n\t/** @type {import('./internal').Component} */\n\tlet component = vnode._parent._component;\n\treturn component && component._suspended && component._suspended(vnode);\n}\n\nexport function lazy(loader) {\n\tlet prom;\n\tlet component;\n\tlet error;\n\n\tfunction Lazy(props) {\n\t\tif (!prom) {\n\t\t\tprom = loader();\n\t\t\tprom.then(\n\t\t\t\texports => {\n\t\t\t\t\tcomponent = exports.default || exports;\n\t\t\t\t},\n\t\t\t\te => {\n\t\t\t\t\terror = e;\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\n\t\tif (error) {\n\t\t\tthrow error;\n\t\t}\n\n\t\tif (!component) {\n\t\t\tthrow prom;\n\t\t}\n\n\t\treturn createElement(component, props);\n\t}\n\n\tLazy.displayName = 'Lazy';\n\tLazy._forwarded = true;\n\treturn Lazy;\n}\n", "import { Component, toChildArray } from 'preact';\nimport { suspended } from './suspense.js';\n\n// Indexes to linked list nodes (nodes are stored as arrays to save bytes).\nconst SUSPENDED_COUNT = 0;\nconst RESOLVED_COUNT = 1;\nconst NEXT_NODE = 2;\n\n// Having custom inheritance instead of a class here saves a lot of bytes.\nexport function SuspenseList() {\n\tthis._next = null;\n\tthis._map = null;\n}\n\n// Mark one of child's earlier suspensions as resolved.\n// Some pending callbacks may become callable due to this\n// (e.g. the last suspended descendant gets resolved when\n// revealOrder === 'together'). Process those callbacks as well.\nconst resolve = (list, child, node) => {\n\tif (++node[RESOLVED_COUNT] === node[SUSPENDED_COUNT]) {\n\t\t// The number a child (or any of its descendants) has been suspended\n\t\t// matches the number of times it's been resolved. Therefore we\n\t\t// mark the child as completely resolved by deleting it from ._map.\n\t\t// This is used to figure out when *all* children have been completely\n\t\t// resolved when revealOrder is 'together'.\n\t\tlist._map.delete(child);\n\t}\n\n\t// If revealOrder is falsy then we can do an early exit, as the\n\t// callbacks won't get queued in the node anyway.\n\t// If revealOrder is 'together' then also do an early exit\n\t// if all suspended descendants have not yet been resolved.\n\tif (\n\t\t!list.props.revealOrder ||\n\t\t(list.props.revealOrder[0] === 't' && list._map.size)\n\t) {\n\t\treturn;\n\t}\n\n\t// Walk the currently suspended children in order, calling their\n\t// stored callbacks on the way. Stop if we encounter a child that\n\t// has not been completely resolved yet.\n\tnode = list._next;\n\twhile (node) {\n\t\twhile (node.length > 3) {\n\t\t\tnode.pop()();\n\t\t}\n\t\tif (node[RESOLVED_COUNT] < node[SUSPENDED_COUNT]) {\n\t\t\tbreak;\n\t\t}\n\t\tlist._next = node = node[NEXT_NODE];\n\t}\n};\n\n// Things we do here to save some bytes but are not proper JS inheritance:\n// - call `new Component()` as the prototype\n// - do not set `Suspense.prototype.constructor` to `Suspense`\nSuspenseList.prototype = new Component();\n\nSuspenseList.prototype._suspended = function (child) {\n\tconst list = this;\n\tconst delegated = suspended(list._vnode);\n\n\tlet node = list._map.get(child);\n\tnode[SUSPENDED_COUNT]++;\n\n\treturn unsuspend => {\n\t\tconst wrappedUnsuspend = () => {\n\t\t\tif (!list.props.revealOrder) {\n\t\t\t\t// Special case the undefined (falsy) revealOrder, as there\n\t\t\t\t// is no need to coordinate a specific order or unsuspends.\n\t\t\t\tunsuspend();\n\t\t\t} else {\n\t\t\t\tnode.push(unsuspend);\n\t\t\t\tresolve(list, child, node);\n\t\t\t}\n\t\t};\n\t\tif (delegated) {\n\t\t\tdelegated(wrappedUnsuspend);\n\t\t} else {\n\t\t\twrappedUnsuspend();\n\t\t}\n\t};\n};\n\nSuspenseList.prototype.render = function (props) {\n\tthis._next = null;\n\tthis._map = new Map();\n\n\tconst children = toChildArray(props.children);\n\tif (props.revealOrder && props.revealOrder[0] === 'b') {\n\t\t// If order === 'backwards' (or, well, anything starting with a 'b')\n\t\t// then flip the child list around so that the last child will be\n\t\t// the first in the linked list.\n\t\tchildren.reverse();\n\t}\n\t// Build the linked list. Iterate through the children in reverse order\n\t// so that `_next` points to the first linked list node to be resolved.\n\tfor (let i = children.length; i--; ) {\n\t\t// Create a new linked list node as an array of form:\n\t\t// \t[suspended_count, resolved_count, next_node]\n\t\t// where suspended_count and resolved_count are numeric counters for\n\t\t// keeping track how many times a node has been suspended and resolved.\n\t\t//\n\t\t// Note that suspended_count starts from 1 instead of 0, so we can block\n\t\t// processing callbacks until componentDidMount has been called. In a sense\n\t\t// node is suspended at least until componentDidMount gets called!\n\t\t//\n\t\t// Pending callbacks are added to the end of the node:\n\t\t// \t[suspended_count, resolved_count, next_node, callback_0, callback_1, ...]\n\t\tthis._map.set(children[i], (this._next = [1, 0, this._next]));\n\t}\n\treturn props.children;\n};\n\nSuspenseList.prototype.componentDidUpdate =\n\tSuspenseList.prototype.componentDidMount = function () {\n\t\t// Iterate through all children after mounting for two reasons:\n\t\t// 1. As each node[SUSPENDED_COUNT] starts from 1, this iteration increases\n\t\t//    each node[RELEASED_COUNT] by 1, therefore balancing the counters.\n\t\t//    The nodes can now be completely consumed from the linked list.\n\t\t// 2. Handle nodes that might have gotten resolved between render and\n\t\t//    componentDidMount.\n\t\tthis._map.forEach((node, child) => {\n\t\t\tresolve(this, child, node);\n\t\t});\n\t};\n", "import { createElement, render } from 'preact';\n\n/**\n * @param {import('../../src/index').RenderableProps<{ context: any }>} props\n */\nfunction ContextProvider(props) {\n\tthis.getChildContext = () => props.context;\n\treturn props.children;\n}\n\n/**\n * Portal component\n * @this {import('./internal').Component}\n * @param {object | null | undefined} props\n *\n * TODO: use createRoot() instead of fake root\n */\nfunction Portal(props) {\n\tconst _this = this;\n\tlet container = props._container;\n\n\t_this.componentWillUnmount = function () {\n\t\trender(null, _this._temp);\n\t\t_this._temp = null;\n\t\t_this._container = null;\n\t};\n\n\t// When we change container we should clear our old container and\n\t// indicate a new mount.\n\tif (_this._container && _this._container !== container) {\n\t\t_this.componentWillUnmount();\n\t}\n\n\t// When props.vnode is undefined/false/null we are dealing with some kind of\n\t// conditional vnode. This should not trigger a render.\n\tif (props._vnode) {\n\t\tif (!_this._temp) {\n\t\t\t_this._container = container;\n\n\t\t\t// Create a fake DOM parent node that manages a subset of `container`'s children:\n\t\t\t_this._temp = {\n\t\t\t\tnodeType: 1,\n\t\t\t\tparentNode: container,\n\t\t\t\tchildNodes: [],\n\t\t\t\tappendChild(child) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tinsertBefore(child, before) {\n\t\t\t\t\tthis.childNodes.push(child);\n\t\t\t\t\t_this._container.appendChild(child);\n\t\t\t\t},\n\t\t\t\tremoveChild(child) {\n\t\t\t\t\tthis.childNodes.splice(this.childNodes.indexOf(child) >>> 1, 1);\n\t\t\t\t\t_this._container.removeChild(child);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\t// Render our wrapping element into temp.\n\t\trender(\n\t\t\tcreateElement(ContextProvider, { context: _this.context }, props._vnode),\n\t\t\t_this._temp\n\t\t);\n\t}\n\t// When we come from a conditional render, on a mounted\n\t// portal we should clear the DOM.\n\telse if (_this._temp) {\n\t\t_this.componentWillUnmount();\n\t}\n}\n\n/**\n * Create a `Portal` to continue rendering the vnode tree at a different DOM node\n * @param {import('./internal').VNode} vnode The vnode to render\n * @param {import('./internal').PreactElement} container The DOM node to continue rendering in to.\n */\nexport function createPortal(vnode, container) {\n\tconst el = createElement(Portal, { _vnode: vnode, _container: container });\n\tel.containerInfo = container;\n\treturn el;\n}\n", "import {\n\trender as preactRender,\n\thydrate as preactHydrate,\n\toptions,\n\ttoChildArray,\n\tComponent\n} from 'preact';\n\nexport const REACT_ELEMENT_TYPE =\n\t(typeof Symbol != 'undefined' && Symbol.for && Symbol.for('react.element')) ||\n\t0xeac7;\n\nconst CAMEL_PROPS =\n\t/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;\nconst ON_ANI = /^on(Ani|Tra|Tou|BeforeInp|Compo)/;\nconst CAMEL_REPLACE = /[A-Z0-9]/g;\n\nconst IS_DOM = typeof document !== 'undefined';\n\n// Input types for which onchange should not be converted to oninput.\n// type=\"file|checkbox|radio\", plus \"range\" in IE11.\n// (IE11 doesn't support Symbol, which we use here to turn `rad` into `ra` which matches \"range\")\nconst onChangeInputType = type =>\n\t(typeof Symbol != 'undefined' && typeof Symbol() == 'symbol'\n\t\t? /fil|che|rad/\n\t\t: /fil|che|ra/\n\t).test(type);\n\n// Some libraries like `react-virtualized` explicitly check for this.\nComponent.prototype.isReactComponent = {};\n\n// `UNSAFE_*` lifecycle hooks\n// Preact only ever invokes the unprefixed methods.\n// Here we provide a base \"fallback\" implementation that calls any defined UNSAFE_ prefixed method.\n// - If a component defines its own `componentDidMount()` (including via defineProperty), use that.\n// - If a component defines `UNSAFE_componentDidMount()`, `componentDidMount` is the alias getter/setter.\n// - If anything assigns to an `UNSAFE_*` property, the assignment is forwarded to the unprefixed property.\n// See https://github.com/preactjs/preact/issues/1941\n[\n\t'componentWillMount',\n\t'componentWillReceiveProps',\n\t'componentWillUpdate'\n].forEach(key => {\n\tObject.defineProperty(Component.prototype, key, {\n\t\tconfigurable: true,\n\t\tget() {\n\t\t\treturn this['UNSAFE_' + key];\n\t\t},\n\t\tset(v) {\n\t\t\tObject.defineProperty(this, key, {\n\t\t\t\tconfigurable: true,\n\t\t\t\twritable: true,\n\t\t\t\tvalue: v\n\t\t\t});\n\t\t}\n\t});\n});\n\n/**\n * Proxy render() since React returns a Component reference.\n * @param {import('./internal').VNode} vnode VNode tree to render\n * @param {import('./internal').PreactElement} parent DOM node to render vnode tree into\n * @param {() => void} [callback] Optional callback that will be called after rendering\n * @returns {import('./internal').Component | null} The root component reference or null\n */\nexport function render(vnode, parent, callback) {\n\t// React destroys any existing DOM nodes, see #1727\n\t// ...but only on the first render, see #1828\n\tif (parent._children == null) {\n\t\tparent.textContent = '';\n\t}\n\n\tpreactRender(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nexport function hydrate(vnode, parent, callback) {\n\tpreactHydrate(vnode, parent);\n\tif (typeof callback == 'function') callback();\n\n\treturn vnode ? vnode._component : null;\n}\n\nlet oldEventHook = options.event;\noptions.event = e => {\n\tif (oldEventHook) e = oldEventHook(e);\n\n\te.persist = empty;\n\te.isPropagationStopped = isPropagationStopped;\n\te.isDefaultPrevented = isDefaultPrevented;\n\treturn (e.nativeEvent = e);\n};\n\nfunction empty() {}\n\nfunction isPropagationStopped() {\n\treturn this.cancelBubble;\n}\n\nfunction isDefaultPrevented() {\n\treturn this.defaultPrevented;\n}\n\nconst classNameDescriptorNonEnumberable = {\n\tenumerable: false,\n\tconfigurable: true,\n\tget() {\n\t\treturn this.class;\n\t}\n};\n\nfunction handleDomVNode(vnode) {\n\tlet props = vnode.props,\n\t\ttype = vnode.type,\n\t\tnormalizedProps = {};\n\n\tfor (let i in props) {\n\t\tlet value = props[i];\n\n\t\tif (\n\t\t\t(i === 'value' && 'defaultValue' in props && value == null) ||\n\t\t\t// Emulate React's behavior of not rendering the contents of noscript tags on the client.\n\t\t\t(IS_DOM && i === 'children' && type === 'noscript') ||\n\t\t\ti === 'class' ||\n\t\t\ti === 'className'\n\t\t) {\n\t\t\t// Skip applying value if it is null/undefined and we already set\n\t\t\t// a default value\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet lowerCased = i.toLowerCase();\n\t\tif (i === 'defaultValue' && 'value' in props && props.value == null) {\n\t\t\t// `defaultValue` is treated as a fallback `value` when a value prop is present but null/undefined.\n\t\t\t// `defaultValue` for Elements with no value prop is the same as the DOM defaultValue property.\n\t\t\ti = 'value';\n\t\t} else if (i === 'download' && value === true) {\n\t\t\t// Calling `setAttribute` with a truthy value will lead to it being\n\t\t\t// passed as a stringified value, e.g. `download=\"true\"`. React\n\t\t\t// converts it to an empty string instead, otherwise the attribute\n\t\t\t// value will be used as the file name and the file will be called\n\t\t\t// \"true\" upon downloading it.\n\t\t\tvalue = '';\n\t\t} else if (lowerCased === 'ondoubleclick') {\n\t\t\ti = 'ondblclick';\n\t\t} else if (\n\t\t\tlowerCased === 'onchange' &&\n\t\t\t(type === 'input' || type === 'textarea') &&\n\t\t\t!onChangeInputType(props.type)\n\t\t) {\n\t\t\tlowerCased = i = 'oninput';\n\t\t} else if (lowerCased === 'onfocus') {\n\t\t\ti = 'onfocusin';\n\t\t} else if (lowerCased === 'onblur') {\n\t\t\ti = 'onfocusout';\n\t\t} else if (ON_ANI.test(i)) {\n\t\t\ti = lowerCased;\n\t\t} else if (type.indexOf('-') === -1 && CAMEL_PROPS.test(i)) {\n\t\t\ti = i.replace(CAMEL_REPLACE, '-$&').toLowerCase();\n\t\t} else if (value === null) {\n\t\t\tvalue = undefined;\n\t\t}\n\n\t\t// Add support for onInput and onChange, see #3561\n\t\t// if we have an oninput prop already change it to oninputCapture\n\t\tif (lowerCased === 'oninput') {\n\t\t\ti = lowerCased;\n\t\t\tif (normalizedProps[i]) {\n\t\t\t\ti = 'oninputCapture';\n\t\t\t}\n\t\t}\n\n\t\tnormalizedProps[i] = value;\n\t}\n\n\t// Add support for array select values: <select multiple value={[]} />\n\tif (\n\t\ttype == 'select' &&\n\t\tnormalizedProps.multiple &&\n\t\tArray.isArray(normalizedProps.value)\n\t) {\n\t\t// forEach() always returns undefined, which we abuse here to unset the value prop.\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tchild.props.selected =\n\t\t\t\tnormalizedProps.value.indexOf(child.props.value) != -1;\n\t\t});\n\t}\n\n\t// Adding support for defaultValue in select tag\n\tif (type == 'select' && normalizedProps.defaultValue != null) {\n\t\tnormalizedProps.value = toChildArray(props.children).forEach(child => {\n\t\t\tif (normalizedProps.multiple) {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue.indexOf(child.props.value) != -1;\n\t\t\t} else {\n\t\t\t\tchild.props.selected =\n\t\t\t\t\tnormalizedProps.defaultValue == child.props.value;\n\t\t\t}\n\t\t});\n\t}\n\n\tif (props.class && !props.className) {\n\t\tnormalizedProps.class = props.class;\n\t\tObject.defineProperty(\n\t\t\tnormalizedProps,\n\t\t\t'className',\n\t\t\tclassNameDescriptorNonEnumberable\n\t\t);\n\t} else if (props.className && !props.class) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t} else if (props.class && props.className) {\n\t\tnormalizedProps.class = normalizedProps.className = props.className;\n\t}\n\n\tvnode.props = normalizedProps;\n}\n\nlet oldVNodeHook = options.vnode;\noptions.vnode = vnode => {\n\t// only normalize props on Element nodes\n\tif (typeof vnode.type === 'string') {\n\t\thandleDomVNode(vnode);\n\t}\n\n\tvnode.$$typeof = REACT_ELEMENT_TYPE;\n\n\tif (oldVNodeHook) oldVNodeHook(vnode);\n};\n\n// Only needed for react-relay\nlet currentComponent;\nconst oldBeforeRender = options._render;\noptions._render = function (vnode) {\n\tif (oldBeforeRender) {\n\t\toldBeforeRender(vnode);\n\t}\n\tcurrentComponent = vnode._component;\n};\n\nconst oldDiffed = options.diffed;\n/** @type {(vnode: import('./internal').VNode) => void} */\noptions.diffed = function (vnode) {\n\tif (oldDiffed) {\n\t\toldDiffed(vnode);\n\t}\n\n\tconst props = vnode.props;\n\tconst dom = vnode._dom;\n\n\tif (\n\t\tdom != null &&\n\t\tvnode.type === 'textarea' &&\n\t\t'value' in props &&\n\t\tprops.value !== dom.value\n\t) {\n\t\tdom.value = props.value == null ? '' : props.value;\n\t}\n\n\tcurrentComponent = null;\n};\n\n// This is a very very private internal function for React it\n// is used to sort-of do runtime dependency injection. So far\n// only `react-relay` makes use of it. It uses it to read the\n// context value.\nexport const __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED = {\n\tReactCurrentDispatcher: {\n\t\tcurrent: {\n\t\t\treadContext(context) {\n\t\t\t\treturn currentComponent._globalContext[context._id].props.value;\n\t\t\t}\n\t\t}\n\t}\n};\n", "import {\n\tcreateElement,\n\trender as preactRender,\n\tcloneElement as preactCloneElement,\n\tcreateRef,\n\tComponent,\n\tcreateContext,\n\tFragment\n} from 'preact';\nimport {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue\n} from 'preact/hooks';\nimport { PureComponent } from './PureComponent';\nimport { memo } from './memo';\nimport { forwardRef } from './forwardRef';\nimport { Children } from './Children';\nimport { Suspense, lazy } from './suspense';\nimport { SuspenseList } from './suspense-list';\nimport { createPortal } from './portals';\nimport { is } from './util';\nimport {\n\thydrate,\n\trender,\n\tREACT_ELEMENT_TYPE,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n} from './render';\n\nconst version = '17.0.2'; // trick libraries to think we are react\n\n/**\n * Legacy version of createElement.\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component constructor\n */\nfunction createFactory(type) {\n\treturn createElement.bind(null, type);\n}\n\n/**\n * Check if the passed element is a valid (p)react node.\n * @param {*} element The element to check\n * @returns {boolean}\n */\nfunction isValidElement(element) {\n\treturn !!element && element.$$typeof === REACT_ELEMENT_TYPE;\n}\n\n/**\n * Wrap `cloneElement` to abort if the passed element is not a valid element and apply\n * all vnode normalizations.\n * @param {import('./internal').VNode} element The vnode to clone\n * @param {object} props Props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Optional component children\n */\nfunction cloneElement(element) {\n\tif (!isValidElement(element)) return element;\n\treturn preactCloneElement.apply(null, arguments);\n}\n\n/**\n * Remove a component tree from the DOM, including state and event handlers.\n * @param {import('./internal').PreactElement} container\n * @returns {boolean}\n */\nfunction unmountComponentAtNode(container) {\n\tif (container._children) {\n\t\tpreactRender(null, container);\n\t\treturn true;\n\t}\n\treturn false;\n}\n\n/**\n * Get the matching DOM node for a component\n * @param {import('./internal').Component} component\n * @returns {import('./internal').PreactElement | null}\n */\nfunction findDOMNode(component) {\n\treturn (\n\t\t(component &&\n\t\t\t(component.base || (component.nodeType === 1 && component))) ||\n\t\tnull\n\t);\n}\n\n/**\n * Deprecated way to control batched rendering inside the reconciler, but we\n * already schedule in batches inside our rendering code\n * @template Arg\n * @param {(arg: Arg) => void} callback function that triggers the updated\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n */\n// eslint-disable-next-line camelcase\nconst unstable_batchedUpdates = (callback, arg) => callback(arg);\n\n/**\n * In React, `flushSync` flushes the entire tree and forces a rerender. It's\n * implmented here as a no-op.\n * @template Arg\n * @template Result\n * @param {(arg: Arg) => Result} callback function that runs before the flush\n * @param {Arg} [arg] Optional argument that can be passed to the callback\n * @returns\n */\nconst flushSync = (callback, arg) => callback(arg);\n\n/**\n * Strict Mode is not implemented in Preact, so we provide a stand-in for it\n * that just renders its children without imposing any restrictions.\n */\nconst StrictMode = Fragment;\n\nexport function startTransition(cb) {\n\tcb();\n}\n\nexport function useDeferredValue(val) {\n\treturn val;\n}\n\nexport function useTransition() {\n\treturn [false, startTransition];\n}\n\n// TODO: in theory this should be done after a VNode is diffed as we want to insert\n// styles/... before it attaches\nexport const useInsertionEffect = useLayoutEffect;\n\n/**\n * This is taken from https://github.com/facebook/react/blob/main/packages/use-sync-external-store/src/useSyncExternalStoreShimClient.js#L84\n * on a high level this cuts out the warnings, ... and attempts a smaller implementation\n */\nexport function useSyncExternalStore(subscribe, getSnapshot) {\n\tconst value = getSnapshot();\n\n\tconst [{ _instance }, forceUpdate] = useState({\n\t\t_instance: { _value: value, _getSnapshot: getSnapshot }\n\t});\n\n\tuseLayoutEffect(() => {\n\t\t_instance._value = value;\n\t\t_instance._getSnapshot = getSnapshot;\n\n\t\tif (!is(_instance._value, getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\t}, [subscribe, value, getSnapshot]);\n\n\tuseEffect(() => {\n\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\tforceUpdate({ _instance });\n\t\t}\n\n\t\treturn subscribe(() => {\n\t\t\tif (!is(_instance._value, _instance._getSnapshot())) {\n\t\t\t\tforceUpdate({ _instance });\n\t\t\t}\n\t\t});\n\t}, [subscribe]);\n\n\treturn value;\n}\n\nexport * from 'preact/hooks';\nexport {\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\t// eslint-disable-next-line camelcase\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n\n// React copies the named exports to the default one.\nexport default {\n\tuseState,\n\tuseId,\n\tuseReducer,\n\tuseEffect,\n\tuseLayoutEffect,\n\tuseInsertionEffect,\n\tuseTransition,\n\tuseDeferredValue,\n\tuseSyncExternalStore,\n\tstartTransition,\n\tuseRef,\n\tuseImperativeHandle,\n\tuseMemo,\n\tuseCallback,\n\tuseContext,\n\tuseDebugValue,\n\tversion,\n\tChildren,\n\trender,\n\thydrate,\n\tunmountComponentAtNode,\n\tcreatePortal,\n\tcreateElement,\n\tcreateContext,\n\tcreateFactory,\n\tcloneElement,\n\tcreateRef,\n\tFragment,\n\tisValidElement,\n\tfindDOMNode,\n\tComponent,\n\tPureComponent,\n\tmemo,\n\tforwardRef,\n\tflushSync,\n\tunstable_batchedUpdates,\n\tStrictMode,\n\tSuspense,\n\tSuspenseList,\n\tlazy,\n\t__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED\n};\n", "export * from 'preact/compat';\nexport { default } from 'preact/compat';\n", "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n", "var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n", "var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n", "/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n", "var baseGetTag = require('./_baseGetTag'),\n    isArray = require('./isArray'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar stringTag = '[object String]';\n\n/**\n * Checks if `value` is classified as a `String` primitive or object.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a string, else `false`.\n * @example\n *\n * _.isString('abc');\n * // => true\n *\n * _.isString(1);\n * // => false\n */\nfunction isString(value) {\n  return typeof value == 'string' ||\n    (!isArray(value) && isObjectLike(value) && baseGetTag(value) == stringTag);\n}\n\nmodule.exports = isString;\n", "/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n", "var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n", "/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n", "var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n", "/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n", "var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n", "var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n", "/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n", "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n", "var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n", "var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n", "/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n", "var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n", "var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n", "var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n", "var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n", "var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n", "/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n", "var identity = require('./identity');\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nmodule.exports = castFunction;\n", "var baseForOwn = require('./_baseForOwn'),\n    castFunction = require('./_castFunction');\n\n/**\n * Iterates over own enumerable string keyed properties of an object and\n * invokes `iteratee` for each property. The iteratee is invoked with three\n * arguments: (value, key, object). Iteratee functions may exit iteration\n * early by explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @since 0.3.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns `object`.\n * @see _.forOwnRight\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.forOwn(new Foo, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forOwn(object, iteratee) {\n  return object && baseForOwn(object, castFunction(iteratee));\n}\n\nmodule.exports = forOwn;\n", "var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n", "var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n", "/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n", "/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n", "/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n", "var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n", "var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n", "var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n", "var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n", "/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n", "/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n", "/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n", "var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n", "var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n", "/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n", "var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n", "/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n", "var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n", "var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n", "var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n", "/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n", "var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n", "var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n", "var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n", "/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n", "var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n", "var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n", "var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n", "var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n", "var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n", "/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n", "/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n", "var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n", "/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n", "/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n", "var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n", "var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n", "/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n", "/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n", "var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n", "/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n", "var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n", "/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n", "/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n", "var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n", "var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n", "var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n", "var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n", "var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n", "var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n", "var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n", "var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n", "var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n", "var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n", "/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n", "var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n", "var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n", "var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n", "var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n", "var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n", "var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n", "var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n", "var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n", "var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n", "var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n", "var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n", "var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n", "/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n", "var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n", "var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n", "var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n", "/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n", "var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n", "var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n", "var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n", "var isArrayLike = require('./isArrayLike');\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nmodule.exports = createBaseEach;\n", "var baseForOwn = require('./_baseForOwn'),\n    createBaseEach = require('./_createBaseEach');\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nmodule.exports = baseEach;\n", "var baseEach = require('./_baseEach'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nmodule.exports = baseMap;\n", "var arrayMap = require('./_arrayMap'),\n    baseIteratee = require('./_baseIteratee'),\n    baseMap = require('./_baseMap'),\n    isArray = require('./isArray');\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nmodule.exports = map;\n", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.flattenNames = undefined;\n\nvar _isString2 = require('lodash/isString');\n\nvar _isString3 = _interopRequireDefault(_isString2);\n\nvar _forOwn2 = require('lodash/forOwn');\n\nvar _forOwn3 = _interopRequireDefault(_forOwn2);\n\nvar _isPlainObject2 = require('lodash/isPlainObject');\n\nvar _isPlainObject3 = _interopRequireDefault(_isPlainObject2);\n\nvar _map2 = require('lodash/map');\n\nvar _map3 = _interopRequireDefault(_map2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar flattenNames = exports.flattenNames = function flattenNames() {\n  var things = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n  var names = [];\n\n  (0, _map3.default)(things, function (thing) {\n    if (Array.isArray(thing)) {\n      flattenNames(thing).map(function (name) {\n        return names.push(name);\n      });\n    } else if ((0, _isPlainObject3.default)(thing)) {\n      (0, _forOwn3.default)(thing, function (value, key) {\n        value === true && names.push(key);\n        names.push(key + '-' + value);\n      });\n    } else if ((0, _isString3.default)(thing)) {\n      names.push(thing);\n    }\n  });\n\n  return names;\n};\n\nexports.default = flattenNames;", "/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nmodule.exports = arrayEach;\n", "var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n", "var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n", "var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n", "var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n", "var copyObject = require('./_copyObject'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\nmodule.exports = baseAssign;\n", "/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n", "var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n", "var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n", "var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * The base implementation of `_.assignIn` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssignIn(object, source) {\n  return object && copyObject(source, keysIn(source), object);\n}\n\nmodule.exports = baseAssignIn;\n", "var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n", "/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n", "var copyObject = require('./_copyObject'),\n    getSymbols = require('./_getSymbols');\n\n/**\n * Copies own symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\nmodule.exports = copySymbols;\n", "var arrayPush = require('./_arrayPush'),\n    getPrototype = require('./_getPrototype'),\n    getSymbols = require('./_getSymbols'),\n    stubArray = require('./stubArray');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own and inherited enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbolsIn = !nativeGetSymbols ? stubArray : function(object) {\n  var result = [];\n  while (object) {\n    arrayPush(result, getSymbols(object));\n    object = getPrototype(object);\n  }\n  return result;\n};\n\nmodule.exports = getSymbolsIn;\n", "var copyObject = require('./_copyObject'),\n    getSymbolsIn = require('./_getSymbolsIn');\n\n/**\n * Copies own and inherited symbols of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbolsIn(source, object) {\n  return copyObject(source, getSymbolsIn(source), object);\n}\n\nmodule.exports = copySymbolsIn;\n", "var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbolsIn = require('./_getSymbolsIn'),\n    keysIn = require('./keysIn');\n\n/**\n * Creates an array of own and inherited enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeysIn(object) {\n  return baseGetAllKeys(object, keysIn, getSymbolsIn);\n}\n\nmodule.exports = getAllKeysIn;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = new array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\nmodule.exports = initCloneArray;\n", "var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\nmodule.exports = cloneDataView;\n", "/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\nmodule.exports = cloneRegExp;\n", "var Symbol = require('./_Symbol');\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\nmodule.exports = cloneSymbol;\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n", "var cloneArrayBuffer = require('./_cloneArrayBuffer'),\n    cloneDataView = require('./_cloneDataView'),\n    cloneRegExp = require('./_cloneRegExp'),\n    cloneSymbol = require('./_cloneSymbol'),\n    cloneTypedArray = require('./_cloneTypedArray');\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Map`, `Number`, `RegExp`, `Set`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return new Ctor;\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return new Ctor;\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\nmodule.exports = initCloneByTag;\n", "var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n", "var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n", "var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]';\n\n/**\n * The base implementation of `_.isMap` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n */\nfunction baseIsMap(value) {\n  return isObjectLike(value) && getTag(value) == mapTag;\n}\n\nmodule.exports = baseIsMap;\n", "var baseIsMap = require('./_baseIsMap'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsMap = nodeUtil && nodeUtil.isMap;\n\n/**\n * Checks if `value` is classified as a `Map` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a map, else `false`.\n * @example\n *\n * _.isMap(new Map);\n * // => true\n *\n * _.isMap(new WeakMap);\n * // => false\n */\nvar isMap = nodeIsMap ? baseUnary(nodeIsMap) : baseIsMap;\n\nmodule.exports = isMap;\n", "var getTag = require('./_getTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar setTag = '[object Set]';\n\n/**\n * The base implementation of `_.isSet` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n */\nfunction baseIsSet(value) {\n  return isObjectLike(value) && getTag(value) == setTag;\n}\n\nmodule.exports = baseIsSet;\n", "var baseIsSet = require('./_baseIsSet'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsSet = nodeUtil && nodeUtil.isSet;\n\n/**\n * Checks if `value` is classified as a `Set` object.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a set, else `false`.\n * @example\n *\n * _.isSet(new Set);\n * // => true\n *\n * _.isSet(new WeakSet);\n * // => false\n */\nvar isSet = nodeIsSet ? baseUnary(nodeIsSet) : baseIsSet;\n\nmodule.exports = isSet;\n", "var Stack = require('./_Stack'),\n    arrayEach = require('./_arrayEach'),\n    assignValue = require('./_assignValue'),\n    baseAssign = require('./_baseAssign'),\n    baseAssignIn = require('./_baseAssignIn'),\n    cloneBuffer = require('./_cloneBuffer'),\n    copyArray = require('./_copyArray'),\n    copySymbols = require('./_copySymbols'),\n    copySymbolsIn = require('./_copySymbolsIn'),\n    getAllKeys = require('./_getAllKeys'),\n    getAllKeysIn = require('./_getAllKeysIn'),\n    getTag = require('./_getTag'),\n    initCloneArray = require('./_initCloneArray'),\n    initCloneByTag = require('./_initCloneByTag'),\n    initCloneObject = require('./_initCloneObject'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isMap = require('./isMap'),\n    isObject = require('./isObject'),\n    isSet = require('./isSet'),\n    keys = require('./keys'),\n    keysIn = require('./keysIn');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_FLAT_FLAG = 2,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Deep clone\n *  2 - Flatten inherited properties\n *  4 - Clone symbols\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, bitmask, customizer, key, object, stack) {\n  var result,\n      isDeep = bitmask & CLONE_DEEP_FLAG,\n      isFlat = bitmask & CLONE_FLAT_FLAG,\n      isFull = bitmask & CLONE_SYMBOLS_FLAG;\n\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      result = (isFlat || isFunc) ? {} : initCloneObject(value);\n      if (!isDeep) {\n        return isFlat\n          ? copySymbolsIn(value, baseAssignIn(result, value))\n          : copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (isSet(value)) {\n    value.forEach(function(subValue) {\n      result.add(baseClone(subValue, bitmask, customizer, subValue, value, stack));\n    });\n  } else if (isMap(value)) {\n    value.forEach(function(subValue, key) {\n      result.set(key, baseClone(subValue, bitmask, customizer, key, value, stack));\n    });\n  }\n\n  var keysFunc = isFull\n    ? (isFlat ? getAllKeysIn : getAllKeys)\n    : (isFlat ? keysIn : keys);\n\n  var props = isArr ? undefined : keysFunc(value);\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, bitmask, customizer, key, value, stack));\n  });\n  return result;\n}\n\nmodule.exports = baseClone;\n", "var baseClone = require('./_baseClone');\n\n/** Used to compose bitmasks for cloning. */\nvar CLONE_DEEP_FLAG = 1,\n    CLONE_SYMBOLS_FLAG = 4;\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, CLONE_DEEP_FLAG | CLONE_SYMBOLS_FLAG);\n}\n\nmodule.exports = cloneDeep;\n", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mergeClasses = undefined;\n\nvar _forOwn2 = require('lodash/forOwn');\n\nvar _forOwn3 = _interopRequireDefault(_forOwn2);\n\nvar _cloneDeep2 = require('lodash/cloneDeep');\n\nvar _cloneDeep3 = _interopRequireDefault(_cloneDeep2);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mergeClasses = exports.mergeClasses = function mergeClasses(classes) {\n  var activeNames = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var styles = classes.default && (0, _cloneDeep3.default)(classes.default) || {};\n  activeNames.map(function (name) {\n    var toMerge = classes[name];\n    if (toMerge) {\n      (0, _forOwn3.default)(toMerge, function (value, key) {\n        if (!styles[key]) {\n          styles[key] = {};\n        }\n\n        styles[key] = _extends({}, styles[key], toMerge[key]);\n      });\n    }\n\n    return name;\n  });\n  return styles;\n};\n\nexports.default = mergeClasses;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.autoprefix = undefined;\n\nvar _forOwn2 = require('lodash/forOwn');\n\nvar _forOwn3 = _interopRequireDefault(_forOwn2);\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar transforms = {\n  borderRadius: function borderRadius(value) {\n    return {\n      msBorderRadius: value,\n      MozBorderRadius: value,\n      OBorderRadius: value,\n      WebkitBorderRadius: value,\n      borderRadius: value\n    };\n  },\n  boxShadow: function boxShadow(value) {\n    return {\n      msBoxShadow: value,\n      MozBoxShadow: value,\n      OBoxShadow: value,\n      WebkitBoxShadow: value,\n      boxShadow: value\n    };\n  },\n  userSelect: function userSelect(value) {\n    return {\n      WebkitTouchCallout: value,\n      KhtmlUserSelect: value,\n      MozUserSelect: value,\n      msUserSelect: value,\n      WebkitUserSelect: value,\n      userSelect: value\n    };\n  },\n\n  flex: function flex(value) {\n    return {\n      WebkitBoxFlex: value,\n      MozBoxFlex: value,\n      WebkitFlex: value,\n      msFlex: value,\n      flex: value\n    };\n  },\n  flexBasis: function flexBasis(value) {\n    return {\n      WebkitFlexBasis: value,\n      flexBasis: value\n    };\n  },\n  justifyContent: function justifyContent(value) {\n    return {\n      WebkitJustifyContent: value,\n      justifyContent: value\n    };\n  },\n\n  transition: function transition(value) {\n    return {\n      msTransition: value,\n      MozTransition: value,\n      OTransition: value,\n      WebkitTransition: value,\n      transition: value\n    };\n  },\n\n  transform: function transform(value) {\n    return {\n      msTransform: value,\n      MozTransform: value,\n      OTransform: value,\n      WebkitTransform: value,\n      transform: value\n    };\n  },\n  absolute: function absolute(value) {\n    var direction = value && value.split(' ');\n    return {\n      position: 'absolute',\n      top: direction && direction[0],\n      right: direction && direction[1],\n      bottom: direction && direction[2],\n      left: direction && direction[3]\n    };\n  },\n  extend: function extend(name, otherElementStyles) {\n    var otherStyle = otherElementStyles[name];\n    if (otherStyle) {\n      return otherStyle;\n    }\n    return {\n      'extend': name\n    };\n  }\n};\n\nvar autoprefix = exports.autoprefix = function autoprefix(elements) {\n  var prefixed = {};\n  (0, _forOwn3.default)(elements, function (styles, element) {\n    var expanded = {};\n    (0, _forOwn3.default)(styles, function (value, key) {\n      var transform = transforms[key];\n      if (transform) {\n        expanded = _extends({}, expanded, transform(value));\n      } else {\n        expanded[key] = value;\n      }\n    });\n    prefixed[element] = expanded;\n  });\n  return prefixed;\n};\n\nexports.default = autoprefix;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hover = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar hover = exports.hover = function hover(Component) {\n  var Span = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'span';\n\n  return function (_React$Component) {\n    _inherits(Hover, _React$Component);\n\n    function Hover() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Hover);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Hover.__proto__ || Object.getPrototypeOf(Hover)).call.apply(_ref, [this].concat(args))), _this), _this.state = { hover: false }, _this.handleMouseOver = function () {\n        return _this.setState({ hover: true });\n      }, _this.handleMouseOut = function () {\n        return _this.setState({ hover: false });\n      }, _this.render = function () {\n        return _react2.default.createElement(\n          Span,\n          { onMouseOver: _this.handleMouseOver, onMouseOut: _this.handleMouseOut },\n          _react2.default.createElement(Component, _extends({}, _this.props, _this.state))\n        );\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    return Hover;\n  }(_react2.default.Component);\n};\n\nexports.default = hover;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.active = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar active = exports.active = function active(Component) {\n  var Span = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'span';\n\n  return function (_React$Component) {\n    _inherits(Active, _React$Component);\n\n    function Active() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Active);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Active.__proto__ || Object.getPrototypeOf(Active)).call.apply(_ref, [this].concat(args))), _this), _this.state = { active: false }, _this.handleMouseDown = function () {\n        return _this.setState({ active: true });\n      }, _this.handleMouseUp = function () {\n        return _this.setState({ active: false });\n      }, _this.render = function () {\n        return _react2.default.createElement(\n          Span,\n          { onMouseDown: _this.handleMouseDown, onMouseUp: _this.handleMouseUp },\n          _react2.default.createElement(Component, _extends({}, _this.props, _this.state))\n        );\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    return Active;\n  }(_react2.default.Component);\n};\n\nexports.default = active;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar loopable = function loopable(i, length) {\n  var props = {};\n  var setProp = function setProp(name) {\n    var value = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n    props[name] = value;\n  };\n\n  i === 0 && setProp('first-child');\n  i === length - 1 && setProp('last-child');\n  (i === 0 || i % 2 === 0) && setProp('even');\n  Math.abs(i % 2) === 1 && setProp('odd');\n  setProp('nth-child', i);\n\n  return props;\n};\n\nexports.default = loopable;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ReactCSS = exports.loop = exports.handleActive = exports.handleHover = exports.hover = undefined;\n\nvar _flattenNames = require('./flattenNames');\n\nvar _flattenNames2 = _interopRequireDefault(_flattenNames);\n\nvar _mergeClasses = require('./mergeClasses');\n\nvar _mergeClasses2 = _interopRequireDefault(_mergeClasses);\n\nvar _autoprefix = require('./autoprefix');\n\nvar _autoprefix2 = _interopRequireDefault(_autoprefix);\n\nvar _hover2 = require('./components/hover');\n\nvar _hover3 = _interopRequireDefault(_hover2);\n\nvar _active = require('./components/active');\n\nvar _active2 = _interopRequireDefault(_active);\n\nvar _loop2 = require('./loop');\n\nvar _loop3 = _interopRequireDefault(_loop2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.hover = _hover3.default;\nexports.handleHover = _hover3.default;\nexports.handleActive = _active2.default;\nexports.loop = _loop3.default;\nvar ReactCSS = exports.ReactCSS = function ReactCSS(classes) {\n  for (var _len = arguments.length, activations = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    activations[_key - 1] = arguments[_key];\n  }\n\n  var activeNames = (0, _flattenNames2.default)(activations);\n  var merged = (0, _mergeClasses2.default)(classes, activeNames);\n  return (0, _autoprefix2.default)(merged);\n};\n\nexports.default = ReactCSS;", "/** @license React v16.13.1\n * react-is.development.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n\n\nif (process.env.NODE_ENV !== \"production\") {\n  (function() {\n'use strict';\n\n// The Symbol used to tag the ReactElement-like types. If there is no native Symbol\n// nor polyfill, then a plain number is used for performance.\nvar hasSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = hasSymbol ? Symbol.for('react.element') : 0xeac7;\nvar REACT_PORTAL_TYPE = hasSymbol ? Symbol.for('react.portal') : 0xeaca;\nvar REACT_FRAGMENT_TYPE = hasSymbol ? Symbol.for('react.fragment') : 0xeacb;\nvar REACT_STRICT_MODE_TYPE = hasSymbol ? Symbol.for('react.strict_mode') : 0xeacc;\nvar REACT_PROFILER_TYPE = hasSymbol ? Symbol.for('react.profiler') : 0xead2;\nvar REACT_PROVIDER_TYPE = hasSymbol ? Symbol.for('react.provider') : 0xeacd;\nvar REACT_CONTEXT_TYPE = hasSymbol ? Symbol.for('react.context') : 0xeace; // TODO: We don't use AsyncMode or ConcurrentMode anymore. They were temporary\n// (unstable) APIs that have been removed. Can we remove the symbols?\n\nvar REACT_ASYNC_MODE_TYPE = hasSymbol ? Symbol.for('react.async_mode') : 0xeacf;\nvar REACT_CONCURRENT_MODE_TYPE = hasSymbol ? Symbol.for('react.concurrent_mode') : 0xeacf;\nvar REACT_FORWARD_REF_TYPE = hasSymbol ? Symbol.for('react.forward_ref') : 0xead0;\nvar REACT_SUSPENSE_TYPE = hasSymbol ? Symbol.for('react.suspense') : 0xead1;\nvar REACT_SUSPENSE_LIST_TYPE = hasSymbol ? Symbol.for('react.suspense_list') : 0xead8;\nvar REACT_MEMO_TYPE = hasSymbol ? Symbol.for('react.memo') : 0xead3;\nvar REACT_LAZY_TYPE = hasSymbol ? Symbol.for('react.lazy') : 0xead4;\nvar REACT_BLOCK_TYPE = hasSymbol ? Symbol.for('react.block') : 0xead9;\nvar REACT_FUNDAMENTAL_TYPE = hasSymbol ? Symbol.for('react.fundamental') : 0xead5;\nvar REACT_RESPONDER_TYPE = hasSymbol ? Symbol.for('react.responder') : 0xead6;\nvar REACT_SCOPE_TYPE = hasSymbol ? Symbol.for('react.scope') : 0xead7;\n\nfunction isValidElementType(type) {\n  return typeof type === 'string' || typeof type === 'function' || // Note: its typeof might be other than 'symbol' or 'number' if it's a polyfill.\n  type === REACT_FRAGMENT_TYPE || type === REACT_CONCURRENT_MODE_TYPE || type === REACT_PROFILER_TYPE || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || typeof type === 'object' && type !== null && (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || type.$$typeof === REACT_FUNDAMENTAL_TYPE || type.$$typeof === REACT_RESPONDER_TYPE || type.$$typeof === REACT_SCOPE_TYPE || type.$$typeof === REACT_BLOCK_TYPE);\n}\n\nfunction typeOf(object) {\n  if (typeof object === 'object' && object !== null) {\n    var $$typeof = object.$$typeof;\n\n    switch ($$typeof) {\n      case REACT_ELEMENT_TYPE:\n        var type = object.type;\n\n        switch (type) {\n          case REACT_ASYNC_MODE_TYPE:\n          case REACT_CONCURRENT_MODE_TYPE:\n          case REACT_FRAGMENT_TYPE:\n          case REACT_PROFILER_TYPE:\n          case REACT_STRICT_MODE_TYPE:\n          case REACT_SUSPENSE_TYPE:\n            return type;\n\n          default:\n            var $$typeofType = type && type.$$typeof;\n\n            switch ($$typeofType) {\n              case REACT_CONTEXT_TYPE:\n              case REACT_FORWARD_REF_TYPE:\n              case REACT_LAZY_TYPE:\n              case REACT_MEMO_TYPE:\n              case REACT_PROVIDER_TYPE:\n                return $$typeofType;\n\n              default:\n                return $$typeof;\n            }\n\n        }\n\n      case REACT_PORTAL_TYPE:\n        return $$typeof;\n    }\n  }\n\n  return undefined;\n} // AsyncMode is deprecated along with isAsyncMode\n\nvar AsyncMode = REACT_ASYNC_MODE_TYPE;\nvar ConcurrentMode = REACT_CONCURRENT_MODE_TYPE;\nvar ContextConsumer = REACT_CONTEXT_TYPE;\nvar ContextProvider = REACT_PROVIDER_TYPE;\nvar Element = REACT_ELEMENT_TYPE;\nvar ForwardRef = REACT_FORWARD_REF_TYPE;\nvar Fragment = REACT_FRAGMENT_TYPE;\nvar Lazy = REACT_LAZY_TYPE;\nvar Memo = REACT_MEMO_TYPE;\nvar Portal = REACT_PORTAL_TYPE;\nvar Profiler = REACT_PROFILER_TYPE;\nvar StrictMode = REACT_STRICT_MODE_TYPE;\nvar Suspense = REACT_SUSPENSE_TYPE;\nvar hasWarnedAboutDeprecatedIsAsyncMode = false; // AsyncMode should be deprecated\n\nfunction isAsyncMode(object) {\n  {\n    if (!hasWarnedAboutDeprecatedIsAsyncMode) {\n      hasWarnedAboutDeprecatedIsAsyncMode = true; // Using console['warn'] to evade Babel and ESLint\n\n      console['warn']('The ReactIs.isAsyncMode() alias has been deprecated, ' + 'and will be removed in React 17+. Update your code to use ' + 'ReactIs.isConcurrentMode() instead. It has the exact same API.');\n    }\n  }\n\n  return isConcurrentMode(object) || typeOf(object) === REACT_ASYNC_MODE_TYPE;\n}\nfunction isConcurrentMode(object) {\n  return typeOf(object) === REACT_CONCURRENT_MODE_TYPE;\n}\nfunction isContextConsumer(object) {\n  return typeOf(object) === REACT_CONTEXT_TYPE;\n}\nfunction isContextProvider(object) {\n  return typeOf(object) === REACT_PROVIDER_TYPE;\n}\nfunction isElement(object) {\n  return typeof object === 'object' && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;\n}\nfunction isForwardRef(object) {\n  return typeOf(object) === REACT_FORWARD_REF_TYPE;\n}\nfunction isFragment(object) {\n  return typeOf(object) === REACT_FRAGMENT_TYPE;\n}\nfunction isLazy(object) {\n  return typeOf(object) === REACT_LAZY_TYPE;\n}\nfunction isMemo(object) {\n  return typeOf(object) === REACT_MEMO_TYPE;\n}\nfunction isPortal(object) {\n  return typeOf(object) === REACT_PORTAL_TYPE;\n}\nfunction isProfiler(object) {\n  return typeOf(object) === REACT_PROFILER_TYPE;\n}\nfunction isStrictMode(object) {\n  return typeOf(object) === REACT_STRICT_MODE_TYPE;\n}\nfunction isSuspense(object) {\n  return typeOf(object) === REACT_SUSPENSE_TYPE;\n}\n\nexports.AsyncMode = AsyncMode;\nexports.ConcurrentMode = ConcurrentMode;\nexports.ContextConsumer = ContextConsumer;\nexports.ContextProvider = ContextProvider;\nexports.Element = Element;\nexports.ForwardRef = ForwardRef;\nexports.Fragment = Fragment;\nexports.Lazy = Lazy;\nexports.Memo = Memo;\nexports.Portal = Portal;\nexports.Profiler = Profiler;\nexports.StrictMode = StrictMode;\nexports.Suspense = Suspense;\nexports.isAsyncMode = isAsyncMode;\nexports.isConcurrentMode = isConcurrentMode;\nexports.isContextConsumer = isContextConsumer;\nexports.isContextProvider = isContextProvider;\nexports.isElement = isElement;\nexports.isForwardRef = isForwardRef;\nexports.isFragment = isFragment;\nexports.isLazy = isLazy;\nexports.isMemo = isMemo;\nexports.isPortal = isPortal;\nexports.isProfiler = isProfiler;\nexports.isStrictMode = isStrictMode;\nexports.isSuspense = isSuspense;\nexports.isValidElementType = isValidElementType;\nexports.typeOf = typeOf;\n  })();\n}\n", "'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-is.production.min.js');\n} else {\n  module.exports = require('./cjs/react-is.development.js');\n}\n", "/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n", "module.exports = Function.call.bind(Object.prototype.hasOwnProperty);\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n  var loggedTypeFailures = {};\n  var has = require('./lib/has');\n\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) { /**/ }\n  };\n}\n\n/**\n * Assert that the values match with the type specs.\n * Error messages are memorized and will only be shown once.\n *\n * @param {object} typeSpecs Map of name to a ReactPropType\n * @param {object} values Runtime values that need to be type-checked\n * @param {string} location e.g. \"prop\", \"context\", \"child context\"\n * @param {string} componentName Name of the component for error messages.\n * @param {?Function} getStack Returns the component stack.\n * @private\n */\nfunction checkPropTypes(typeSpecs, values, location, componentName, getStack) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var typeSpecName in typeSpecs) {\n      if (has(typeSpecs, typeSpecName)) {\n        var error;\n        // Prop type validation may throw. In case they do, we don't want to\n        // fail the render phase where it didn't fail before. So we log it.\n        // After these have been cleaned up, we'll let them throw.\n        try {\n          // This is intentionally an invariant that gets caught. It's the same\n          // behavior as without this statement except with a better message.\n          if (typeof typeSpecs[typeSpecName] !== 'function') {\n            var err = Error(\n              (componentName || 'React class') + ': ' + location + ' type `' + typeSpecName + '` is invalid; ' +\n              'it must be a function, usually from the `prop-types` package, but received `' + typeof typeSpecs[typeSpecName] + '`.' +\n              'This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.'\n            );\n            err.name = 'Invariant Violation';\n            throw err;\n          }\n          error = typeSpecs[typeSpecName](values, typeSpecName, componentName, location, null, ReactPropTypesSecret);\n        } catch (ex) {\n          error = ex;\n        }\n        if (error && !(error instanceof Error)) {\n          printWarning(\n            (componentName || 'React class') + ': type specification of ' +\n            location + ' `' + typeSpecName + '` is invalid; the type checker ' +\n            'function must return `null` or an `Error` but returned a ' + typeof error + '. ' +\n            'You may have forgotten to pass an argument to the type checker ' +\n            'creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and ' +\n            'shape all require an argument).'\n          );\n        }\n        if (error instanceof Error && !(error.message in loggedTypeFailures)) {\n          // Only monitor this failure once because there tends to be a lot of the\n          // same error.\n          loggedTypeFailures[error.message] = true;\n\n          var stack = getStack ? getStack() : '';\n\n          printWarning(\n            'Failed ' + location + ' type: ' + error.message + (stack != null ? stack : '')\n          );\n        }\n      }\n    }\n  }\n}\n\n/**\n * Resets warning cache when testing.\n *\n * @private\n */\ncheckPropTypes.resetWarningCache = function() {\n  if (process.env.NODE_ENV !== 'production') {\n    loggedTypeFailures = {};\n  }\n}\n\nmodule.exports = checkPropTypes;\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactIs = require('react-is');\nvar assign = require('object-assign');\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\nvar has = require('./lib/has');\nvar checkPropTypes = require('./checkPropTypes');\n\nvar printWarning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  printWarning = function(text) {\n    var message = 'Warning: ' + text;\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  };\n}\n\nfunction emptyFunctionThatReturnsNull() {\n  return null;\n}\n\nmodule.exports = function(isValidElement, throwOnDirectAccess) {\n  /* global Symbol */\n  var ITERATOR_SYMBOL = typeof Symbol === 'function' && Symbol.iterator;\n  var FAUX_ITERATOR_SYMBOL = '@@iterator'; // Before Symbol spec.\n\n  /**\n   * Returns the iterator method function contained on the iterable object.\n   *\n   * Be sure to invoke the function with the iterable as context:\n   *\n   *     var iteratorFn = getIteratorFn(myIterable);\n   *     if (iteratorFn) {\n   *       var iterator = iteratorFn.call(myIterable);\n   *       ...\n   *     }\n   *\n   * @param {?object} maybeIterable\n   * @return {?function}\n   */\n  function getIteratorFn(maybeIterable) {\n    var iteratorFn = maybeIterable && (ITERATOR_SYMBOL && maybeIterable[ITERATOR_SYMBOL] || maybeIterable[FAUX_ITERATOR_SYMBOL]);\n    if (typeof iteratorFn === 'function') {\n      return iteratorFn;\n    }\n  }\n\n  /**\n   * Collection of methods that allow declaration and validation of props that are\n   * supplied to React components. Example usage:\n   *\n   *   var Props = require('ReactPropTypes');\n   *   var MyArticle = React.createClass({\n   *     propTypes: {\n   *       // An optional string prop named \"description\".\n   *       description: Props.string,\n   *\n   *       // A required enum prop named \"category\".\n   *       category: Props.oneOf(['News','Photos']).isRequired,\n   *\n   *       // A prop named \"dialog\" that requires an instance of Dialog.\n   *       dialog: Props.instanceOf(Dialog).isRequired\n   *     },\n   *     render: function() { ... }\n   *   });\n   *\n   * A more formal specification of how these methods are used:\n   *\n   *   type := array|bool|func|object|number|string|oneOf([...])|instanceOf(...)\n   *   decl := ReactPropTypes.{type}(.isRequired)?\n   *\n   * Each and every declaration produces a function with the same signature. This\n   * allows the creation of custom validation functions. For example:\n   *\n   *  var MyLink = React.createClass({\n   *    propTypes: {\n   *      // An optional string or URI prop named \"href\".\n   *      href: function(props, propName, componentName) {\n   *        var propValue = props[propName];\n   *        if (propValue != null && typeof propValue !== 'string' &&\n   *            !(propValue instanceof URI)) {\n   *          return new Error(\n   *            'Expected a string or an URI for ' + propName + ' in ' +\n   *            componentName\n   *          );\n   *        }\n   *      }\n   *    },\n   *    render: function() {...}\n   *  });\n   *\n   * @internal\n   */\n\n  var ANONYMOUS = '<<anonymous>>';\n\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithThrowingShims.js`.\n  var ReactPropTypes = {\n    array: createPrimitiveTypeChecker('array'),\n    bigint: createPrimitiveTypeChecker('bigint'),\n    bool: createPrimitiveTypeChecker('boolean'),\n    func: createPrimitiveTypeChecker('function'),\n    number: createPrimitiveTypeChecker('number'),\n    object: createPrimitiveTypeChecker('object'),\n    string: createPrimitiveTypeChecker('string'),\n    symbol: createPrimitiveTypeChecker('symbol'),\n\n    any: createAnyTypeChecker(),\n    arrayOf: createArrayOfTypeChecker,\n    element: createElementTypeChecker(),\n    elementType: createElementTypeTypeChecker(),\n    instanceOf: createInstanceTypeChecker,\n    node: createNodeChecker(),\n    objectOf: createObjectOfTypeChecker,\n    oneOf: createEnumTypeChecker,\n    oneOfType: createUnionTypeChecker,\n    shape: createShapeTypeChecker,\n    exact: createStrictShapeTypeChecker,\n  };\n\n  /**\n   * inlined Object.is polyfill to avoid requiring consumers ship their own\n   * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n   */\n  /*eslint-disable no-self-compare*/\n  function is(x, y) {\n    // SameValue algorithm\n    if (x === y) {\n      // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  }\n  /*eslint-enable no-self-compare*/\n\n  /**\n   * We use an Error-like object for backward compatibility as people may call\n   * PropTypes directly and inspect their output. However, we don't use real\n   * Errors anymore. We don't inspect their stack anyway, and creating them\n   * is prohibitively expensive if they are created too often, such as what\n   * happens in oneOfType() for any type before the one that matched.\n   */\n  function PropTypeError(message, data) {\n    this.message = message;\n    this.data = data && typeof data === 'object' ? data: {};\n    this.stack = '';\n  }\n  // Make `instanceof Error` still work for returned errors.\n  PropTypeError.prototype = Error.prototype;\n\n  function createChainableTypeChecker(validate) {\n    if (process.env.NODE_ENV !== 'production') {\n      var manualPropTypeCallCache = {};\n      var manualPropTypeWarningCount = 0;\n    }\n    function checkType(isRequired, props, propName, componentName, location, propFullName, secret) {\n      componentName = componentName || ANONYMOUS;\n      propFullName = propFullName || propName;\n\n      if (secret !== ReactPropTypesSecret) {\n        if (throwOnDirectAccess) {\n          // New behavior only for users of `prop-types` package\n          var err = new Error(\n            'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n            'Use `PropTypes.checkPropTypes()` to call them. ' +\n            'Read more at http://fb.me/use-check-prop-types'\n          );\n          err.name = 'Invariant Violation';\n          throw err;\n        } else if (process.env.NODE_ENV !== 'production' && typeof console !== 'undefined') {\n          // Old behavior for people using React.PropTypes\n          var cacheKey = componentName + ':' + propName;\n          if (\n            !manualPropTypeCallCache[cacheKey] &&\n            // Avoid spamming the console because they are often not actionable except for lib authors\n            manualPropTypeWarningCount < 3\n          ) {\n            printWarning(\n              'You are manually calling a React.PropTypes validation ' +\n              'function for the `' + propFullName + '` prop on `' + componentName + '`. This is deprecated ' +\n              'and will throw in the standalone `prop-types` package. ' +\n              'You may be seeing this warning due to a third-party PropTypes ' +\n              'library. See https://fb.me/react-warning-dont-call-proptypes ' + 'for details.'\n            );\n            manualPropTypeCallCache[cacheKey] = true;\n            manualPropTypeWarningCount++;\n          }\n        }\n      }\n      if (props[propName] == null) {\n        if (isRequired) {\n          if (props[propName] === null) {\n            return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required ' + ('in `' + componentName + '`, but its value is `null`.'));\n          }\n          return new PropTypeError('The ' + location + ' `' + propFullName + '` is marked as required in ' + ('`' + componentName + '`, but its value is `undefined`.'));\n        }\n        return null;\n      } else {\n        return validate(props, propName, componentName, location, propFullName);\n      }\n    }\n\n    var chainedCheckType = checkType.bind(null, false);\n    chainedCheckType.isRequired = checkType.bind(null, true);\n\n    return chainedCheckType;\n  }\n\n  function createPrimitiveTypeChecker(expectedType) {\n    function validate(props, propName, componentName, location, propFullName, secret) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== expectedType) {\n        // `propValue` being instance of, say, date/regexp, pass the 'object'\n        // check, but we can offer a more precise error message here rather than\n        // 'of type `object`'.\n        var preciseType = getPreciseType(propValue);\n\n        return new PropTypeError(\n          'Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + preciseType + '` supplied to `' + componentName + '`, expected ') + ('`' + expectedType + '`.'),\n          {expectedType: expectedType}\n        );\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createAnyTypeChecker() {\n    return createChainableTypeChecker(emptyFunctionThatReturnsNull);\n  }\n\n  function createArrayOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside arrayOf.');\n      }\n      var propValue = props[propName];\n      if (!Array.isArray(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an array.'));\n      }\n      for (var i = 0; i < propValue.length; i++) {\n        var error = typeChecker(propValue, i, componentName, location, propFullName + '[' + i + ']', ReactPropTypesSecret);\n        if (error instanceof Error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!isValidElement(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createElementTypeTypeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      if (!ReactIs.isValidElementType(propValue)) {\n        var propType = getPropType(propValue);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected a single ReactElement type.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createInstanceTypeChecker(expectedClass) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!(props[propName] instanceof expectedClass)) {\n        var expectedClassName = expectedClass.name || ANONYMOUS;\n        var actualClassName = getClassName(props[propName]);\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + actualClassName + '` supplied to `' + componentName + '`, expected ') + ('instance of `' + expectedClassName + '`.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createEnumTypeChecker(expectedValues) {\n    if (!Array.isArray(expectedValues)) {\n      if (process.env.NODE_ENV !== 'production') {\n        if (arguments.length > 1) {\n          printWarning(\n            'Invalid arguments supplied to oneOf, expected an array, got ' + arguments.length + ' arguments. ' +\n            'A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).'\n          );\n        } else {\n          printWarning('Invalid argument supplied to oneOf, expected an array.');\n        }\n      }\n      return emptyFunctionThatReturnsNull;\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      for (var i = 0; i < expectedValues.length; i++) {\n        if (is(propValue, expectedValues[i])) {\n          return null;\n        }\n      }\n\n      var valuesString = JSON.stringify(expectedValues, function replacer(key, value) {\n        var type = getPreciseType(value);\n        if (type === 'symbol') {\n          return String(value);\n        }\n        return value;\n      });\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of value `' + String(propValue) + '` ' + ('supplied to `' + componentName + '`, expected one of ' + valuesString + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createObjectOfTypeChecker(typeChecker) {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (typeof typeChecker !== 'function') {\n        return new PropTypeError('Property `' + propFullName + '` of component `' + componentName + '` has invalid PropType notation inside objectOf.');\n      }\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type ' + ('`' + propType + '` supplied to `' + componentName + '`, expected an object.'));\n      }\n      for (var key in propValue) {\n        if (has(propValue, key)) {\n          var error = typeChecker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n          if (error instanceof Error) {\n            return error;\n          }\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createUnionTypeChecker(arrayOfTypeCheckers) {\n    if (!Array.isArray(arrayOfTypeCheckers)) {\n      process.env.NODE_ENV !== 'production' ? printWarning('Invalid argument supplied to oneOfType, expected an instance of array.') : void 0;\n      return emptyFunctionThatReturnsNull;\n    }\n\n    for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n      var checker = arrayOfTypeCheckers[i];\n      if (typeof checker !== 'function') {\n        printWarning(\n          'Invalid argument supplied to oneOfType. Expected an array of check functions, but ' +\n          'received ' + getPostfixForTypeWarning(checker) + ' at index ' + i + '.'\n        );\n        return emptyFunctionThatReturnsNull;\n      }\n    }\n\n    function validate(props, propName, componentName, location, propFullName) {\n      var expectedTypes = [];\n      for (var i = 0; i < arrayOfTypeCheckers.length; i++) {\n        var checker = arrayOfTypeCheckers[i];\n        var checkerResult = checker(props, propName, componentName, location, propFullName, ReactPropTypesSecret);\n        if (checkerResult == null) {\n          return null;\n        }\n        if (checkerResult.data && has(checkerResult.data, 'expectedType')) {\n          expectedTypes.push(checkerResult.data.expectedType);\n        }\n      }\n      var expectedTypesMessage = (expectedTypes.length > 0) ? ', expected one of type [' + expectedTypes.join(', ') + ']': '';\n      return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`' + expectedTypesMessage + '.'));\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createNodeChecker() {\n    function validate(props, propName, componentName, location, propFullName) {\n      if (!isNode(props[propName])) {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` supplied to ' + ('`' + componentName + '`, expected a ReactNode.'));\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function invalidValidatorError(componentName, location, propFullName, key, type) {\n    return new PropTypeError(\n      (componentName || 'React class') + ': ' + location + ' type `' + propFullName + '.' + key + '` is invalid; ' +\n      'it must be a function, usually from the `prop-types` package, but received `' + type + '`.'\n    );\n  }\n\n  function createShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      for (var key in shapeTypes) {\n        var checker = shapeTypes[key];\n        if (typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n    return createChainableTypeChecker(validate);\n  }\n\n  function createStrictShapeTypeChecker(shapeTypes) {\n    function validate(props, propName, componentName, location, propFullName) {\n      var propValue = props[propName];\n      var propType = getPropType(propValue);\n      if (propType !== 'object') {\n        return new PropTypeError('Invalid ' + location + ' `' + propFullName + '` of type `' + propType + '` ' + ('supplied to `' + componentName + '`, expected `object`.'));\n      }\n      // We need to check all keys in case some are required but missing from props.\n      var allKeys = assign({}, props[propName], shapeTypes);\n      for (var key in allKeys) {\n        var checker = shapeTypes[key];\n        if (has(shapeTypes, key) && typeof checker !== 'function') {\n          return invalidValidatorError(componentName, location, propFullName, key, getPreciseType(checker));\n        }\n        if (!checker) {\n          return new PropTypeError(\n            'Invalid ' + location + ' `' + propFullName + '` key `' + key + '` supplied to `' + componentName + '`.' +\n            '\\nBad object: ' + JSON.stringify(props[propName], null, '  ') +\n            '\\nValid keys: ' + JSON.stringify(Object.keys(shapeTypes), null, '  ')\n          );\n        }\n        var error = checker(propValue, key, componentName, location, propFullName + '.' + key, ReactPropTypesSecret);\n        if (error) {\n          return error;\n        }\n      }\n      return null;\n    }\n\n    return createChainableTypeChecker(validate);\n  }\n\n  function isNode(propValue) {\n    switch (typeof propValue) {\n      case 'number':\n      case 'string':\n      case 'undefined':\n        return true;\n      case 'boolean':\n        return !propValue;\n      case 'object':\n        if (Array.isArray(propValue)) {\n          return propValue.every(isNode);\n        }\n        if (propValue === null || isValidElement(propValue)) {\n          return true;\n        }\n\n        var iteratorFn = getIteratorFn(propValue);\n        if (iteratorFn) {\n          var iterator = iteratorFn.call(propValue);\n          var step;\n          if (iteratorFn !== propValue.entries) {\n            while (!(step = iterator.next()).done) {\n              if (!isNode(step.value)) {\n                return false;\n              }\n            }\n          } else {\n            // Iterator will provide entry [k,v] tuples rather than values.\n            while (!(step = iterator.next()).done) {\n              var entry = step.value;\n              if (entry) {\n                if (!isNode(entry[1])) {\n                  return false;\n                }\n              }\n            }\n          }\n        } else {\n          return false;\n        }\n\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  function isSymbol(propType, propValue) {\n    // Native Symbol.\n    if (propType === 'symbol') {\n      return true;\n    }\n\n    // falsy value can't be a Symbol\n    if (!propValue) {\n      return false;\n    }\n\n    // 19.4.3.5 Symbol.prototype[@@toStringTag] === 'Symbol'\n    if (propValue['@@toStringTag'] === 'Symbol') {\n      return true;\n    }\n\n    // Fallback for non-spec compliant Symbols which are polyfilled.\n    if (typeof Symbol === 'function' && propValue instanceof Symbol) {\n      return true;\n    }\n\n    return false;\n  }\n\n  // Equivalent of `typeof` but with special handling for array and regexp.\n  function getPropType(propValue) {\n    var propType = typeof propValue;\n    if (Array.isArray(propValue)) {\n      return 'array';\n    }\n    if (propValue instanceof RegExp) {\n      // Old webkits (at least until Android 4.0) return 'function' rather than\n      // 'object' for typeof a RegExp. We'll normalize this here so that /bla/\n      // passes PropTypes.object.\n      return 'object';\n    }\n    if (isSymbol(propType, propValue)) {\n      return 'symbol';\n    }\n    return propType;\n  }\n\n  // This handles more types than `getPropType`. Only used for error messages.\n  // See `createPrimitiveTypeChecker`.\n  function getPreciseType(propValue) {\n    if (typeof propValue === 'undefined' || propValue === null) {\n      return '' + propValue;\n    }\n    var propType = getPropType(propValue);\n    if (propType === 'object') {\n      if (propValue instanceof Date) {\n        return 'date';\n      } else if (propValue instanceof RegExp) {\n        return 'regexp';\n      }\n    }\n    return propType;\n  }\n\n  // Returns a string that is postfixed to a warning about an invalid type.\n  // For example, \"undefined\" or \"of type array\"\n  function getPostfixForTypeWarning(value) {\n    var type = getPreciseType(value);\n    switch (type) {\n      case 'array':\n      case 'object':\n        return 'an ' + type;\n      case 'boolean':\n      case 'date':\n      case 'regexp':\n        return 'a ' + type;\n      default:\n        return type;\n    }\n  }\n\n  // Returns class name of the object, if any.\n  function getClassName(propValue) {\n    if (!propValue.constructor || !propValue.constructor.name) {\n      return ANONYMOUS;\n    }\n    return propValue.constructor.name;\n  }\n\n  ReactPropTypes.checkPropTypes = checkPropTypes;\n  ReactPropTypes.resetWarningCache = checkPropTypes.resetWarningCache;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n", "/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar DEFAULT_SIZE = 24;\n\nexports.default = function (_ref) {\n  var _ref$fill = _ref.fill,\n      fill = _ref$fill === undefined ? 'currentColor' : _ref$fill,\n      _ref$width = _ref.width,\n      width = _ref$width === undefined ? DEFAULT_SIZE : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === undefined ? DEFAULT_SIZE : _ref$height,\n      _ref$style = _ref.style,\n      style = _ref$style === undefined ? {} : _ref$style,\n      props = _objectWithoutProperties(_ref, ['fill', 'width', 'height', 'style']);\n\n  return _react2.default.createElement(\n    'svg',\n    _extends({\n      viewBox: '0 0 ' + DEFAULT_SIZE + ' ' + DEFAULT_SIZE,\n      style: _extends({ fill: fill, width: width, height: height }, style)\n    }, props),\n    _react2.default.createElement('path', { d: 'M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z' })\n  );\n};", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar DEFAULT_SIZE = 24;\n\nexports.default = function (_ref) {\n  var _ref$fill = _ref.fill,\n      fill = _ref$fill === undefined ? 'currentColor' : _ref$fill,\n      _ref$width = _ref.width,\n      width = _ref$width === undefined ? DEFAULT_SIZE : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === undefined ? DEFAULT_SIZE : _ref$height,\n      _ref$style = _ref.style,\n      style = _ref$style === undefined ? {} : _ref$style,\n      props = _objectWithoutProperties(_ref, ['fill', 'width', 'height', 'style']);\n\n  return _react2.default.createElement(\n    'svg',\n    _extends({\n      viewBox: '0 0 ' + DEFAULT_SIZE + ' ' + DEFAULT_SIZE,\n      style: _extends({ fill: fill, width: width, height: height }, style)\n    }, props),\n    _react2.default.createElement('path', { d: 'M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z' })\n  );\n};", "/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\nconst NODE_MODE = false;\nconst global = NODE_MODE ? globalThis : window;\n\n/**\n * Whether the current browser supports `adoptedStyleSheets`.\n */\nexport const supportsAdoptingStyleSheets: boolean =\n  global.ShadowRoot &&\n  (global.ShadyCSS === undefined || global.ShadyCSS.nativeShadow) &&\n  'adoptedStyleSheets' in Document.prototype &&\n  'replace' in CSSStyleSheet.prototype;\n\n/**\n * A CSSResult or native CSSStyleSheet.\n *\n * In browsers that support constructible CSS style sheets, CSSStyleSheet\n * object can be used for styling along side CSSResult from the `css`\n * template tag.\n */\nexport type CSSResultOrNative = CSSResult | CSSStyleSheet;\n\nexport type CSSResultArray = Array<CSSResultOrNative | CSSResultArray>;\n\n/**\n * A single CSSResult, CSSStyleSheet, or an array or nested arrays of those.\n */\nexport type CSSResultGroup = CSSResultOrNative | CSSResultArray;\n\nconst constructionToken = Symbol();\n\nconst cssTagCache = new WeakMap<TemplateStringsArray, CSSStyleSheet>();\n\n/**\n * A container for a string of CSS text, that may be used to create a CSSStyleSheet.\n *\n * CSSResult is the return value of `css`-tagged template literals and\n * `unsafeCSS()`. In order to ensure that CSSResults are only created via the\n * `css` tag and `unsafeCSS()`, CSSResult cannot be constructed directly.\n */\nexport class CSSResult {\n  // This property needs to remain unminified.\n  ['_$cssResult$'] = true;\n  readonly cssText: string;\n  private _styleSheet?: CSSStyleSheet;\n  private _strings: TemplateStringsArray | undefined;\n\n  private constructor(\n    cssText: string,\n    strings: TemplateStringsArray | undefined,\n    safeToken: symbol\n  ) {\n    if (safeToken !== constructionToken) {\n      throw new Error(\n        'CSSResult is not constructable. Use `unsafeCSS` or `css` instead.'\n      );\n    }\n    this.cssText = cssText;\n    this._strings = strings;\n  }\n\n  // This is a getter so that it's lazy. In practice, this means stylesheets\n  // are not created until the first element instance is made.\n  get styleSheet(): CSSStyleSheet | undefined {\n    // If `supportsAdoptingStyleSheets` is true then we assume CSSStyleSheet is\n    // constructable.\n    let styleSheet = this._styleSheet;\n    const strings = this._strings;\n    if (supportsAdoptingStyleSheets && styleSheet === undefined) {\n      const cacheable = strings !== undefined && strings.length === 1;\n      if (cacheable) {\n        styleSheet = cssTagCache.get(strings);\n      }\n      if (styleSheet === undefined) {\n        (this._styleSheet = styleSheet = new CSSStyleSheet()).replaceSync(\n          this.cssText\n        );\n        if (cacheable) {\n          cssTagCache.set(strings, styleSheet);\n        }\n      }\n    }\n    return styleSheet;\n  }\n\n  toString(): string {\n    return this.cssText;\n  }\n}\n\ntype ConstructableCSSResult = CSSResult & {\n  new (\n    cssText: string,\n    strings: TemplateStringsArray | undefined,\n    safeToken: symbol\n  ): CSSResult;\n};\n\nconst textFromCSSResult = (value: CSSResultGroup | number) => {\n  // This property needs to remain unminified.\n  if ((value as CSSResult)['_$cssResult$'] === true) {\n    return (value as CSSResult).cssText;\n  } else if (typeof value === 'number') {\n    return value;\n  } else {\n    throw new Error(\n      `Value passed to 'css' function must be a 'css' function result: ` +\n        `${value}. Use 'unsafeCSS' to pass non-literal values, but take care ` +\n        `to ensure page security.`\n    );\n  }\n};\n\n/**\n * Wrap a value for interpolation in a {@linkcode css} tagged template literal.\n *\n * This is unsafe because untrusted CSS text can be used to phone home\n * or exfiltrate data to an attacker controlled site. Take care to only use\n * this with trusted input.\n */\nexport const unsafeCSS = (value: unknown) =>\n  new (CSSResult as ConstructableCSSResult)(\n    typeof value === 'string' ? value : String(value),\n    undefined,\n    constructionToken\n  );\n\n/**\n * A template literal tag which can be used with LitElement's\n * {@linkcode LitElement.styles} property to set element styles.\n *\n * For security reasons, only literal string values and number may be used in\n * embedded expressions. To incorporate non-literal values {@linkcode unsafeCSS}\n * may be used inside an expression.\n */\nexport const css = (\n  strings: TemplateStringsArray,\n  ...values: (CSSResultGroup | number)[]\n): CSSResult => {\n  const cssText =\n    strings.length === 1\n      ? strings[0]\n      : values.reduce(\n          (acc, v, idx) => acc + textFromCSSResult(v) + strings[idx + 1],\n          strings[0]\n        );\n  return new (CSSResult as ConstructableCSSResult)(\n    cssText,\n    strings,\n    constructionToken\n  );\n};\n\n/**\n * Applies the given styles to a `shadowRoot`. When Shadow DOM is\n * available but `adoptedStyleSheets` is not, styles are appended to the\n * `shadowRoot` to [mimic spec behavior](https://wicg.github.io/construct-stylesheets/#using-constructed-stylesheets).\n * Note, when shimming is used, any styles that are subsequently placed into\n * the shadowRoot should be placed *before* any shimmed adopted styles. This\n * will match spec behavior that gives adopted sheets precedence over styles in\n * shadowRoot.\n */\nexport const adoptStyles = (\n  renderRoot: ShadowRoot,\n  styles: Array<CSSResultOrNative>\n) => {\n  if (supportsAdoptingStyleSheets) {\n    (renderRoot as ShadowRoot).adoptedStyleSheets = styles.map((s) =>\n      s instanceof CSSStyleSheet ? s : s.styleSheet!\n    );\n  } else {\n    styles.forEach((s) => {\n      const style = document.createElement('style');\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const nonce = (global as any)['litNonce'];\n      if (nonce !== undefined) {\n        style.setAttribute('nonce', nonce);\n      }\n      style.textContent = (s as CSSResult).cssText;\n      renderRoot.appendChild(style);\n    });\n  }\n};\n\nconst cssResultFromStyleSheet = (sheet: CSSStyleSheet) => {\n  let cssText = '';\n  for (const rule of sheet.cssRules) {\n    cssText += rule.cssText;\n  }\n  return unsafeCSS(cssText);\n};\n\nexport const getCompatibleStyle =\n  supportsAdoptingStyleSheets ||\n  (NODE_MODE && global.CSSStyleSheet === undefined)\n    ? (s: CSSResultOrNative) => s\n    : (s: CSSResultOrNative) =>\n        s instanceof CSSStyleSheet ? cssResultFromStyleSheet(s) : s;\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * Use this module if you want to create your own base class extending\n * {@link ReactiveElement}.\n * @packageDocumentation\n */\n\nimport {\n  getCompatibleStyle,\n  adoptStyles,\n  CSSResultGroup,\n  CSSResultOrNative,\n} from './css-tag.js';\nimport type {\n  ReactiveController,\n  ReactiveControllerHost,\n} from './reactive-controller.js';\n\n// In the Node build, this import will be injected by Rollup:\n// import {HTMLElement, customElements} from '@lit-labs/ssr-dom-shim';\n\nexport * from './css-tag.js';\nexport type {\n  ReactiveController,\n  ReactiveControllerHost,\n} from './reactive-controller.js';\n\nconst NODE_MODE = false;\nconst global = NODE_MODE ? globalThis : window;\n\nif (NODE_MODE) {\n  global.customElements ??= customElements;\n}\n\nconst DEV_MODE = true;\n\nlet requestUpdateThenable: (name: string) => {\n  then: (\n    onfulfilled?: (value: boolean) => void,\n    _onrejected?: () => void\n  ) => void;\n};\n\nlet issueWarning: (code: string, warning: string) => void;\n\nconst trustedTypes = (global as unknown as {trustedTypes?: {emptyScript: ''}})\n  .trustedTypes;\n\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n  ? (trustedTypes.emptyScript as unknown as '')\n  : '';\n\nconst polyfillSupport = DEV_MODE\n  ? global.reactiveElementPolyfillSupportDevMode\n  : global.reactiveElementPolyfillSupport;\n\nif (DEV_MODE) {\n  // Ensure warnings are issued only 1x, even if multiple versions of Lit\n  // are loaded.\n  const issuedWarnings: Set<string | undefined> = (global.litIssuedWarnings ??=\n    new Set());\n\n  // Issue a warning, if we haven't already.\n  issueWarning = (code: string, warning: string) => {\n    warning += ` See https://lit.dev/msg/${code} for more information.`;\n    if (!issuedWarnings.has(warning)) {\n      console.warn(warning);\n      issuedWarnings.add(warning);\n    }\n  };\n\n  issueWarning(\n    'dev-mode',\n    `Lit is in dev mode. Not recommended for production!`\n  );\n\n  // Issue polyfill support warning.\n  if (global.ShadyDOM?.inUse && polyfillSupport === undefined) {\n    issueWarning(\n      'polyfill-support-missing',\n      `Shadow DOM is being polyfilled via \\`ShadyDOM\\` but ` +\n        `the \\`polyfill-support\\` module has not been loaded.`\n    );\n  }\n\n  requestUpdateThenable = (name) => ({\n    then: (\n      onfulfilled?: (value: boolean) => void,\n      _onrejected?: () => void\n    ) => {\n      issueWarning(\n        'request-update-promise',\n        `The \\`requestUpdate\\` method should no longer return a Promise but ` +\n          `does so on \\`${name}\\`. Use \\`updateComplete\\` instead.`\n      );\n      if (onfulfilled !== undefined) {\n        onfulfilled(false);\n      }\n    },\n  });\n}\n\n/**\n * Contains types that are part of the unstable debug API.\n *\n * Everything in this API is not stable and may change or be removed in the future,\n * even on patch releases.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace ReactiveUnstable {\n  /**\n   * When Lit is running in dev mode and `window.emitLitDebugLogEvents` is true,\n   * we will emit 'lit-debug' events to window, with live details about the update and render\n   * lifecycle. These can be useful for writing debug tooling and visualizations.\n   *\n   * Please be aware that running with window.emitLitDebugLogEvents has performance overhead,\n   * making certain operations that are normally very cheap (like a no-op render) much slower,\n   * because we must copy data and dispatch events.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  export namespace DebugLog {\n    export type Entry = Update;\n    export interface Update {\n      kind: 'update';\n    }\n  }\n}\n\ninterface DebugLoggingWindow {\n  // Even in dev mode, we generally don't want to emit these events, as that's\n  // another level of cost, so only emit them when DEV_MODE is true _and_ when\n  // window.emitLitDebugEvents is true.\n  emitLitDebugLogEvents?: boolean;\n}\n\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = DEV_MODE\n  ? (event: ReactiveUnstable.DebugLog.Entry) => {\n      const shouldEmit = (global as unknown as DebugLoggingWindow)\n        .emitLitDebugLogEvents;\n      if (!shouldEmit) {\n        return;\n      }\n      global.dispatchEvent(\n        new CustomEvent<ReactiveUnstable.DebugLog.Entry>('lit-debug', {\n          detail: event,\n        })\n      );\n    }\n  : undefined;\n\n/*\n * When using Closure Compiler, JSCompiler_renameProperty(property, object) is\n * replaced at compile time by the munged name for object[property]. We cannot\n * alias this function, so we have to use a small shim that has the same\n * behavior when not compiling.\n */\n/*@__INLINE__*/\nconst JSCompiler_renameProperty = <P extends PropertyKey>(\n  prop: P,\n  _obj: unknown\n): P => prop;\n\n/**\n * Converts property values to and from attribute values.\n */\nexport interface ComplexAttributeConverter<Type = unknown, TypeHint = unknown> {\n  /**\n   * Called to convert an attribute value to a property\n   * value.\n   */\n  fromAttribute?(value: string | null, type?: TypeHint): Type;\n\n  /**\n   * Called to convert a property value to an attribute\n   * value.\n   *\n   * It returns unknown instead of string, to be compatible with\n   * https://github.com/WICG/trusted-types (and similar efforts).\n   */\n  toAttribute?(value: Type, type?: TypeHint): unknown;\n}\n\ntype AttributeConverter<Type = unknown, TypeHint = unknown> =\n  | ComplexAttributeConverter<Type>\n  | ((value: string | null, type?: TypeHint) => Type);\n\n/**\n * Defines options for a property accessor.\n */\nexport interface PropertyDeclaration<Type = unknown, TypeHint = unknown> {\n  /**\n   * When set to `true`, indicates the property is internal private state. The\n   * property should not be set by users. When using TypeScript, this property\n   * should be marked as `private` or `protected`, and it is also a common\n   * practice to use a leading `_` in the name. The property is not added to\n   * `observedAttributes`.\n   */\n  readonly state?: boolean;\n\n  /**\n   * Indicates how and whether the property becomes an observed attribute.\n   * If the value is `false`, the property is not added to `observedAttributes`.\n   * If true or absent, the lowercased property name is observed (e.g. `fooBar`\n   * becomes `foobar`). If a string, the string value is observed (e.g\n   * `attribute: 'foo-bar'`).\n   */\n  readonly attribute?: boolean | string;\n\n  /**\n   * Indicates the type of the property. This is used only as a hint for the\n   * `converter` to determine how to convert the attribute\n   * to/from a property.\n   */\n  readonly type?: TypeHint;\n\n  /**\n   * Indicates how to convert the attribute to/from a property. If this value\n   * is a function, it is used to convert the attribute value a the property\n   * value. If it's an object, it can have keys for `fromAttribute` and\n   * `toAttribute`. If no `toAttribute` function is provided and\n   * `reflect` is set to `true`, the property value is set directly to the\n   * attribute. A default `converter` is used if none is provided; it supports\n   * `Boolean`, `String`, `Number`, `Object`, and `Array`. Note,\n   * when a property changes and the converter is used to update the attribute,\n   * the property is never updated again as a result of the attribute changing,\n   * and vice versa.\n   */\n  readonly converter?: AttributeConverter<Type, TypeHint>;\n\n  /**\n   * Indicates if the property should reflect to an attribute.\n   * If `true`, when the property is set, the attribute is set using the\n   * attribute name determined according to the rules for the `attribute`\n   * property option and the value of the property converted using the rules\n   * from the `converter` property option.\n   */\n  readonly reflect?: boolean;\n\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n\n  /**\n   * Indicates whether an accessor will be created for this property. By\n   * default, an accessor will be generated for this property that requests an\n   * update when set. If this flag is `true`, no accessor will be created, and\n   * it will be the user's responsibility to call\n   * `this.requestUpdate(propertyName, oldValue)` to request an update when\n   * the property changes.\n   */\n  readonly noAccessor?: boolean;\n}\n\n/**\n * Map of properties to PropertyDeclaration options. For each property an\n * accessor is made, and the property is processed according to the\n * PropertyDeclaration options.\n */\nexport interface PropertyDeclarations {\n  readonly [key: string]: PropertyDeclaration;\n}\n\ntype PropertyDeclarationMap = Map<PropertyKey, PropertyDeclaration>;\n\ntype AttributeMap = Map<string, PropertyKey>;\n\n/**\n * A Map of property keys to values.\n *\n * Takes an optional type parameter T, which when specified as a non-any,\n * non-unknown type, will make the Map more strongly-typed, associating the map\n * keys with their corresponding value type on T.\n *\n * Use `PropertyValues<this>` when overriding ReactiveElement.update() and\n * other lifecycle methods in order to get stronger type-checking on keys\n * and values.\n */\n// This type is conditional so that if the parameter T is not specified, or\n// is `any`, the type will include `Map<PropertyKey, unknown>`. Since T is not\n// given in the uses of PropertyValues in this file, all uses here fallback to\n// meaning `Map<PropertyKey, unknown>`, but if a developer uses\n// `PropertyValues<this>` (or any other value for T) they will get a\n// strongly-typed Map type.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport type PropertyValues<T = any> = T extends object\n  ? PropertyValueMap<T>\n  : Map<PropertyKey, unknown>;\n\n/**\n * Do not use, instead prefer {@linkcode PropertyValues}.\n */\n// This type must be exported such that JavaScript generated by the Google\n// Closure Compiler can import a type reference.\nexport interface PropertyValueMap<T> extends Map<PropertyKey, unknown> {\n  get<K extends keyof T>(k: K): T[K];\n  set<K extends keyof T>(key: K, value: T[K]): this;\n  has<K extends keyof T>(k: K): boolean;\n  delete<K extends keyof T>(k: K): boolean;\n}\n\nexport const defaultConverter: ComplexAttributeConverter = {\n  toAttribute(value: unknown, type?: unknown): unknown {\n    switch (type) {\n      case Boolean:\n        value = value ? emptyStringForBooleanAttribute : null;\n        break;\n      case Object:\n      case Array:\n        // if the value is `null` or `undefined` pass this through\n        // to allow removing/no change behavior.\n        value = value == null ? value : JSON.stringify(value);\n        break;\n    }\n    return value;\n  },\n\n  fromAttribute(value: string | null, type?: unknown) {\n    let fromValue: unknown = value;\n    switch (type) {\n      case Boolean:\n        fromValue = value !== null;\n        break;\n      case Number:\n        fromValue = value === null ? null : Number(value);\n        break;\n      case Object:\n      case Array:\n        // Do *not* generate exception when invalid JSON is set as elements\n        // don't normally complain on being mis-configured.\n        // TODO(sorvell): Do generate exception in *dev mode*.\n        try {\n          // Assert to adhere to Bazel's \"must type assert JSON parse\" rule.\n          fromValue = JSON.parse(value!) as unknown;\n        } catch (e) {\n          fromValue = null;\n        }\n        break;\n    }\n    return fromValue;\n  },\n};\n\nexport interface HasChanged {\n  (value: unknown, old: unknown): boolean;\n}\n\n/**\n * Change function that returns true if `value` is different from `oldValue`.\n * This method is used as the default for a property's `hasChanged` function.\n */\nexport const notEqual: HasChanged = (value: unknown, old: unknown): boolean => {\n  // This ensures (old==NaN, value==NaN) always returns false\n  return old !== value && (old === old || value === value);\n};\n\nconst defaultPropertyDeclaration: PropertyDeclaration = {\n  attribute: true,\n  type: String,\n  converter: defaultConverter,\n  reflect: false,\n  hasChanged: notEqual,\n};\n\n/**\n * The Closure JS Compiler doesn't currently have good support for static\n * property semantics where \"this\" is dynamic (e.g.\n * https://github.com/google/closure-compiler/issues/3177 and others) so we use\n * this hack to bypass any rewriting by the compiler.\n */\nconst finalized = 'finalized';\n\n/**\n * A string representing one of the supported dev mode warning categories.\n */\nexport type WarningKind = 'change-in-update' | 'migration';\n\nexport type Initializer = (element: ReactiveElement) => void;\n\n/**\n * Base element class which manages element properties and attributes. When\n * properties change, the `update` method is asynchronously called. This method\n * should be supplied by subclassers to render updates as desired.\n * @noInheritDoc\n */\nexport abstract class ReactiveElement\n  // In the Node build, this `extends` clause will be substituted with\n  // `(globalThis.HTMLElement ?? HTMLElement)`.\n  //\n  // This way, we will first prefer any global `HTMLElement` polyfill that the\n  // user has assigned, and then fall back to the `HTMLElement` shim which has\n  // been imported (see note at the top of this file about how this import is\n  // generated by Rollup). Note that the `HTMLElement` variable has been\n  // shadowed by this import, so it no longer refers to the global.\n  extends HTMLElement\n  implements ReactiveControllerHost\n{\n  // Note: these are patched in only in DEV_MODE.\n  /**\n   * Read or set all the enabled warning categories for this class.\n   *\n   * This property is only used in development builds.\n   *\n   * @nocollapse\n   * @category dev-mode\n   */\n  static enabledWarnings?: WarningKind[];\n\n  /**\n   * Enable the given warning category for this class.\n   *\n   * This method only exists in development builds, so it should be accessed\n   * with a guard like:\n   *\n   * ```ts\n   * // Enable for all ReactiveElement subclasses\n   * ReactiveElement.enableWarning?.('migration');\n   *\n   * // Enable for only MyElement and subclasses\n   * MyElement.enableWarning?.('migration');\n   * ```\n   *\n   * @nocollapse\n   * @category dev-mode\n   */\n  static enableWarning?: (warningKind: WarningKind) => void;\n\n  /**\n   * Disable the given warning category for this class.\n   *\n   * This method only exists in development builds, so it should be accessed\n   * with a guard like:\n   *\n   * ```ts\n   * // Disable for all ReactiveElement subclasses\n   * ReactiveElement.disableWarning?.('migration');\n   *\n   * // Disable for only MyElement and subclasses\n   * MyElement.disableWarning?.('migration');\n   * ```\n   *\n   * @nocollapse\n   * @category dev-mode\n   */\n  static disableWarning?: (warningKind: WarningKind) => void;\n\n  /**\n   * Adds an initializer function to the class that is called during instance\n   * construction.\n   *\n   * This is useful for code that runs against a `ReactiveElement`\n   * subclass, such as a decorator, that needs to do work for each\n   * instance, such as setting up a `ReactiveController`.\n   *\n   * ```ts\n   * const myDecorator = (target: typeof ReactiveElement, key: string) => {\n   *   target.addInitializer((instance: ReactiveElement) => {\n   *     // This is run during construction of the element\n   *     new MyController(instance);\n   *   });\n   * }\n   * ```\n   *\n   * Decorating a field will then cause each instance to run an initializer\n   * that adds a controller:\n   *\n   * ```ts\n   * class MyElement extends LitElement {\n   *   @myDecorator foo;\n   * }\n   * ```\n   *\n   * Initializers are stored per-constructor. Adding an initializer to a\n   * subclass does not add it to a superclass. Since initializers are run in\n   * constructors, initializers will run in order of the class hierarchy,\n   * starting with superclasses and progressing to the instance's class.\n   *\n   * @nocollapse\n   */\n  static addInitializer(initializer: Initializer) {\n    this.finalize();\n    (this._initializers ??= []).push(initializer);\n  }\n\n  static _initializers?: Initializer[];\n\n  /*\n   * Due to closure compiler ES6 compilation bugs, @nocollapse is required on\n   * all static methods and properties with initializers.  Reference:\n   * - https://github.com/google/closure-compiler/issues/1776\n   */\n\n  /**\n   * Maps attribute names to properties; for example `foobar` attribute to\n   * `fooBar` property. Created lazily on user subclasses when finalizing the\n   * class.\n   * @nocollapse\n   */\n  private static __attributeToPropertyMap: AttributeMap;\n\n  /**\n   * Marks class as having finished creating properties.\n   */\n  protected static [finalized] = true;\n\n  /**\n   * Memoized list of all element properties, including any superclass properties.\n   * Created lazily on user subclasses when finalizing the class.\n   * @nocollapse\n   * @category properties\n   */\n  static elementProperties: PropertyDeclarationMap = new Map();\n\n  /**\n   * User-supplied object that maps property names to `PropertyDeclaration`\n   * objects containing options for configuring reactive properties. When\n   * a reactive property is set the element will update and render.\n   *\n   * By default properties are public fields, and as such, they should be\n   * considered as primarily settable by element users, either via attribute or\n   * the property itself.\n   *\n   * Generally, properties that are changed by the element should be private or\n   * protected fields and should use the `state: true` option. Properties\n   * marked as `state` do not reflect from the corresponding attribute\n   *\n   * However, sometimes element code does need to set a public property. This\n   * should typically only be done in response to user interaction, and an event\n   * should be fired informing the user; for example, a checkbox sets its\n   * `checked` property when clicked and fires a `changed` event. Mutating\n   * public properties should typically not be done for non-primitive (object or\n   * array) properties. In other cases when an element needs to manage state, a\n   * private property set with the `state: true` option should be used. When\n   * needed, state properties can be initialized via public properties to\n   * facilitate complex interactions.\n   * @nocollapse\n   * @category properties\n   */\n  static properties: PropertyDeclarations;\n\n  /**\n   * Memoized list of all element styles.\n   * Created lazily on user subclasses when finalizing the class.\n   * @nocollapse\n   * @category styles\n   */\n  static elementStyles: Array<CSSResultOrNative> = [];\n\n  /**\n   * Array of styles to apply to the element. The styles should be defined\n   * using the {@linkcode css} tag function, via constructible stylesheets, or\n   * imported from native CSS module scripts.\n   *\n   * Note on Content Security Policy:\n   *\n   * Element styles are implemented with `<style>` tags when the browser doesn't\n   * support adopted StyleSheets. To use such `<style>` tags with the style-src\n   * CSP directive, the style-src value must either include 'unsafe-inline' or\n   * `nonce-<base64-value>` with `<base64-value>` replaced be a server-generated\n   * nonce.\n   *\n   * To provide a nonce to use on generated `<style>` elements, set\n   * `window.litNonce` to a server-generated nonce in your page's HTML, before\n   * loading application code:\n   *\n   * ```html\n   * <script>\n   *   // Generated and unique per request:\n   *   window.litNonce = 'a1b2c3d4';\n   * </script>\n   * ```\n   * @nocollapse\n   * @category styles\n   */\n  static styles?: CSSResultGroup;\n\n  /**\n   * The set of properties defined by this class that caused an accessor to be\n   * added during `createProperty`.\n   * @nocollapse\n   */\n  private static __reactivePropertyKeys?: Set<PropertyKey>;\n\n  /**\n   * Returns a list of attributes corresponding to the registered properties.\n   * @nocollapse\n   * @category attributes\n   */\n  static get observedAttributes() {\n    // note: piggy backing on this to ensure we're finalized.\n    this.finalize();\n    const attributes: string[] = [];\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    this.elementProperties.forEach((v, p) => {\n      const attr = this.__attributeNameForProperty(p, v);\n      if (attr !== undefined) {\n        this.__attributeToPropertyMap.set(attr, p);\n        attributes.push(attr);\n      }\n    });\n    return attributes;\n  }\n\n  /**\n   * Creates a property accessor on the element prototype if one does not exist\n   * and stores a {@linkcode PropertyDeclaration} for the property with the\n   * given options. The property setter calls the property's `hasChanged`\n   * property option or uses a strict identity check to determine whether or not\n   * to request an update.\n   *\n   * This method may be overridden to customize properties; however,\n   * when doing so, it's important to call `super.createProperty` to ensure\n   * the property is setup correctly. This method calls\n   * `getPropertyDescriptor` internally to get a descriptor to install.\n   * To customize what properties do when they are get or set, override\n   * `getPropertyDescriptor`. To customize the options for a property,\n   * implement `createProperty` like this:\n   *\n   * ```ts\n   * static createProperty(name, options) {\n   *   options = Object.assign(options, {myOption: true});\n   *   super.createProperty(name, options);\n   * }\n   * ```\n   *\n   * @nocollapse\n   * @category properties\n   */\n  static createProperty(\n    name: PropertyKey,\n    options: PropertyDeclaration = defaultPropertyDeclaration\n  ) {\n    // if this is a state property, force the attribute to false.\n    if (options.state) {\n      // Cast as any since this is readonly.\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      (options as any).attribute = false;\n    }\n    // Note, since this can be called by the `@property` decorator which\n    // is called before `finalize`, we ensure finalization has been kicked off.\n    this.finalize();\n    this.elementProperties.set(name, options);\n    // Do not generate an accessor if the prototype already has one, since\n    // it would be lost otherwise and that would never be the user's intention;\n    // Instead, we expect users to call `requestUpdate` themselves from\n    // user-defined accessors. Note that if the super has an accessor we will\n    // still overwrite it\n    if (!options.noAccessor && !this.prototype.hasOwnProperty(name)) {\n      const key = typeof name === 'symbol' ? Symbol() : `__${name}`;\n      const descriptor = this.getPropertyDescriptor(name, key, options);\n      if (descriptor !== undefined) {\n        Object.defineProperty(this.prototype, name, descriptor);\n        if (DEV_MODE) {\n          // If this class doesn't have its own set, create one and initialize\n          // with the values in the set from the nearest ancestor class, if any.\n          if (!this.hasOwnProperty('__reactivePropertyKeys')) {\n            this.__reactivePropertyKeys = new Set(\n              this.__reactivePropertyKeys ?? []\n            );\n          }\n          this.__reactivePropertyKeys!.add(name);\n        }\n      }\n    }\n  }\n\n  /**\n   * Returns a property descriptor to be defined on the given named property.\n   * If no descriptor is returned, the property will not become an accessor.\n   * For example,\n   *\n   * ```ts\n   * class MyElement extends LitElement {\n   *   static getPropertyDescriptor(name, key, options) {\n   *     const defaultDescriptor =\n   *         super.getPropertyDescriptor(name, key, options);\n   *     const setter = defaultDescriptor.set;\n   *     return {\n   *       get: defaultDescriptor.get,\n   *       set(value) {\n   *         setter.call(this, value);\n   *         // custom action.\n   *       },\n   *       configurable: true,\n   *       enumerable: true\n   *     }\n   *   }\n   * }\n   * ```\n   *\n   * @nocollapse\n   * @category properties\n   */\n  protected static getPropertyDescriptor(\n    name: PropertyKey,\n    key: string | symbol,\n    options: PropertyDeclaration\n  ): PropertyDescriptor | undefined {\n    return {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      get(): any {\n        return (this as {[key: string]: unknown})[key as string];\n      },\n      set(this: ReactiveElement, value: unknown) {\n        const oldValue = (this as {} as {[key: string]: unknown})[\n          name as string\n        ];\n        (this as {} as {[key: string]: unknown})[key as string] = value;\n        (this as unknown as ReactiveElement).requestUpdate(\n          name,\n          oldValue,\n          options\n        );\n      },\n      configurable: true,\n      enumerable: true,\n    };\n  }\n\n  /**\n   * Returns the property options associated with the given property.\n   * These options are defined with a `PropertyDeclaration` via the `properties`\n   * object or the `@property` decorator and are registered in\n   * `createProperty(...)`.\n   *\n   * Note, this method should be considered \"final\" and not overridden. To\n   * customize the options for a given property, override\n   * {@linkcode createProperty}.\n   *\n   * @nocollapse\n   * @final\n   * @category properties\n   */\n  static getPropertyOptions(name: PropertyKey) {\n    return this.elementProperties.get(name) || defaultPropertyDeclaration;\n  }\n\n  /**\n   * Creates property accessors for registered properties, sets up element\n   * styling, and ensures any superclasses are also finalized. Returns true if\n   * the element was finalized.\n   * @nocollapse\n   */\n  protected static finalize() {\n    if (this.hasOwnProperty(finalized)) {\n      return false;\n    }\n    this[finalized] = true;\n    // finalize any superclasses\n    const superCtor = Object.getPrototypeOf(this) as typeof ReactiveElement;\n    superCtor.finalize();\n    // Create own set of initializers for this class if any exist on the\n    // superclass and copy them down. Note, for a small perf boost, avoid\n    // creating initializers unless needed.\n    if (superCtor._initializers !== undefined) {\n      this._initializers = [...superCtor._initializers];\n    }\n    this.elementProperties = new Map(superCtor.elementProperties);\n    // initialize Map populated in observedAttributes\n    this.__attributeToPropertyMap = new Map();\n    // make any properties\n    // Note, only process \"own\" properties since this element will inherit\n    // any properties defined on the superClass, and finalization ensures\n    // the entire prototype chain is finalized.\n    if (this.hasOwnProperty(JSCompiler_renameProperty('properties', this))) {\n      const props = this.properties;\n      // support symbols in properties (IE11 does not support this)\n      const propKeys = [\n        ...Object.getOwnPropertyNames(props),\n        ...Object.getOwnPropertySymbols(props),\n      ];\n      // This for/of is ok because propKeys is an array\n      for (const p of propKeys) {\n        // note, use of `any` is due to TypeScript lack of support for symbol in\n        // index types\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.createProperty(p, (props as any)[p]);\n      }\n    }\n    this.elementStyles = this.finalizeStyles(this.styles);\n    // DEV mode warnings\n    if (DEV_MODE) {\n      const warnRemovedOrRenamed = (name: string, renamed = false) => {\n        if (this.prototype.hasOwnProperty(name)) {\n          issueWarning(\n            renamed ? 'renamed-api' : 'removed-api',\n            `\\`${name}\\` is implemented on class ${this.name}. It ` +\n              `has been ${renamed ? 'renamed' : 'removed'} ` +\n              `in this version of LitElement.`\n          );\n        }\n      };\n      warnRemovedOrRenamed('initialize');\n      warnRemovedOrRenamed('requestUpdateInternal');\n      warnRemovedOrRenamed('_getUpdateComplete', true);\n    }\n    return true;\n  }\n\n  /**\n   * Options used when calling `attachShadow`. Set this property to customize\n   * the options for the shadowRoot; for example, to create a closed\n   * shadowRoot: `{mode: 'closed'}`.\n   *\n   * Note, these options are used in `createRenderRoot`. If this method\n   * is customized, options should be respected if possible.\n   * @nocollapse\n   * @category rendering\n   */\n  static shadowRootOptions: ShadowRootInit = {mode: 'open'};\n\n  /**\n   * Takes the styles the user supplied via the `static styles` property and\n   * returns the array of styles to apply to the element.\n   * Override this method to integrate into a style management system.\n   *\n   * Styles are deduplicated preserving the _last_ instance in the list. This\n   * is a performance optimization to avoid duplicated styles that can occur\n   * especially when composing via subclassing. The last item is kept to try\n   * to preserve the cascade order with the assumption that it's most important\n   * that last added styles override previous styles.\n   *\n   * @nocollapse\n   * @category styles\n   */\n  protected static finalizeStyles(\n    styles?: CSSResultGroup\n  ): Array<CSSResultOrNative> {\n    const elementStyles = [];\n    if (Array.isArray(styles)) {\n      // Dedupe the flattened array in reverse order to preserve the last items.\n      // Casting to Array<unknown> works around TS error that\n      // appears to come from trying to flatten a type CSSResultArray.\n      const set = new Set((styles as Array<unknown>).flat(Infinity).reverse());\n      // Then preserve original order by adding the set items in reverse order.\n      for (const s of set) {\n        elementStyles.unshift(getCompatibleStyle(s as CSSResultOrNative));\n      }\n    } else if (styles !== undefined) {\n      elementStyles.push(getCompatibleStyle(styles));\n    }\n    return elementStyles;\n  }\n\n  /**\n   * Node or ShadowRoot into which element DOM should be rendered. Defaults\n   * to an open shadowRoot.\n   * @category rendering\n   */\n  readonly renderRoot!: HTMLElement | ShadowRoot;\n\n  /**\n   * Returns the property name for the given attribute `name`.\n   * @nocollapse\n   */\n  private static __attributeNameForProperty(\n    name: PropertyKey,\n    options: PropertyDeclaration\n  ) {\n    const attribute = options.attribute;\n    return attribute === false\n      ? undefined\n      : typeof attribute === 'string'\n      ? attribute\n      : typeof name === 'string'\n      ? name.toLowerCase()\n      : undefined;\n  }\n\n  private __instanceProperties?: PropertyValues = new Map();\n  // Initialize to an unresolved Promise so we can make sure the element has\n  // connected before first update.\n  private __updatePromise!: Promise<boolean>;\n\n  /**\n   * True if there is a pending update as a result of calling `requestUpdate()`.\n   * Should only be read.\n   * @category updates\n   */\n  isUpdatePending = false;\n\n  /**\n   * Is set to `true` after the first update. The element code cannot assume\n   * that `renderRoot` exists before the element `hasUpdated`.\n   * @category updates\n   */\n  hasUpdated = false;\n\n  /**\n   * Map with keys for any properties that have changed since the last\n   * update cycle with previous values.\n   *\n   * @internal\n   */\n  _$changedProperties!: PropertyValues;\n\n  /**\n   * Map with keys of properties that should be reflected when updated.\n   */\n  private __reflectingProperties?: Map<PropertyKey, PropertyDeclaration>;\n\n  /**\n   * Name of currently reflecting property\n   */\n  private __reflectingProperty: PropertyKey | null = null;\n\n  /**\n   * Set of controllers.\n   */\n  private __controllers?: ReactiveController[];\n\n  constructor() {\n    super();\n    this._initialize();\n  }\n\n  /**\n   * Internal only override point for customizing work done when elements\n   * are constructed.\n   *\n   * @internal\n   */\n  _initialize() {\n    this.__updatePromise = new Promise<boolean>(\n      (res) => (this.enableUpdating = res)\n    );\n    this._$changedProperties = new Map();\n    this.__saveInstanceProperties();\n    // ensures first update will be caught by an early access of\n    // `updateComplete`\n    this.requestUpdate();\n    (this.constructor as typeof ReactiveElement)._initializers?.forEach((i) =>\n      i(this)\n    );\n  }\n\n  /**\n   * Registers a `ReactiveController` to participate in the element's reactive\n   * update cycle. The element automatically calls into any registered\n   * controllers during its lifecycle callbacks.\n   *\n   * If the element is connected when `addController()` is called, the\n   * controller's `hostConnected()` callback will be immediately called.\n   * @category controllers\n   */\n  addController(controller: ReactiveController) {\n    (this.__controllers ??= []).push(controller);\n    // If a controller is added after the element has been connected,\n    // call hostConnected. Note, re-using existence of `renderRoot` here\n    // (which is set in connectedCallback) to avoid the need to track a\n    // first connected state.\n    if (this.renderRoot !== undefined && this.isConnected) {\n      controller.hostConnected?.();\n    }\n  }\n\n  /**\n   * Removes a `ReactiveController` from the element.\n   * @category controllers\n   */\n  removeController(controller: ReactiveController) {\n    // Note, if the indexOf is -1, the >>> will flip the sign which makes the\n    // splice do nothing.\n    this.__controllers?.splice(this.__controllers.indexOf(controller) >>> 0, 1);\n  }\n\n  /**\n   * Fixes any properties set on the instance before upgrade time.\n   * Otherwise these would shadow the accessor and break these properties.\n   * The properties are stored in a Map which is played back after the\n   * constructor runs. Note, on very old versions of Safari (<=9) or Chrome\n   * (<=41), properties created for native platform properties like (`id` or\n   * `name`) may not have default values set in the element constructor. On\n   * these browsers native properties appear on instances and therefore their\n   * default value will overwrite any element default (e.g. if the element sets\n   * this.id = 'id' in the constructor, the 'id' will become '' since this is\n   * the native platform default).\n   */\n  private __saveInstanceProperties() {\n    // Use forEach so this works even if for/of loops are compiled to for loops\n    // expecting arrays\n    (this.constructor as typeof ReactiveElement).elementProperties.forEach(\n      (_v, p) => {\n        if (this.hasOwnProperty(p)) {\n          this.__instanceProperties!.set(p, this[p as keyof this]);\n          delete this[p as keyof this];\n        }\n      }\n    );\n  }\n\n  /**\n   * Returns the node into which the element should render and by default\n   * creates and returns an open shadowRoot. Implement to customize where the\n   * element's DOM is rendered. For example, to render into the element's\n   * childNodes, return `this`.\n   *\n   * @return Returns a node into which to render.\n   * @category rendering\n   */\n  protected createRenderRoot(): Element | ShadowRoot {\n    const renderRoot =\n      this.shadowRoot ??\n      this.attachShadow(\n        (this.constructor as typeof ReactiveElement).shadowRootOptions\n      );\n    adoptStyles(\n      renderRoot,\n      (this.constructor as typeof ReactiveElement).elementStyles\n    );\n    return renderRoot;\n  }\n\n  /**\n   * On first connection, creates the element's renderRoot, sets up\n   * element styling, and enables updating.\n   * @category lifecycle\n   */\n  connectedCallback() {\n    // create renderRoot before first update.\n    if (this.renderRoot === undefined) {\n      (\n        this as {\n          renderRoot: Element | DocumentFragment;\n        }\n      ).renderRoot = this.createRenderRoot();\n    }\n    this.enableUpdating(true);\n    this.__controllers?.forEach((c) => c.hostConnected?.());\n  }\n\n  /**\n   * Note, this method should be considered final and not overridden. It is\n   * overridden on the element instance with a function that triggers the first\n   * update.\n   * @category updates\n   */\n  protected enableUpdating(_requestedUpdate: boolean) {}\n\n  /**\n   * Allows for `super.disconnectedCallback()` in extensions while\n   * reserving the possibility of making non-breaking feature additions\n   * when disconnecting at some point in the future.\n   * @category lifecycle\n   */\n  disconnectedCallback() {\n    this.__controllers?.forEach((c) => c.hostDisconnected?.());\n  }\n\n  /**\n   * Synchronizes property values when attributes change.\n   *\n   * Specifically, when an attribute is set, the corresponding property is set.\n   * You should rarely need to implement this callback. If this method is\n   * overridden, `super.attributeChangedCallback(name, _old, value)` must be\n   * called.\n   *\n   * See [using the lifecycle callbacks](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_custom_elements#using_the_lifecycle_callbacks)\n   * on MDN for more information about the `attributeChangedCallback`.\n   * @category attributes\n   */\n  attributeChangedCallback(\n    name: string,\n    _old: string | null,\n    value: string | null\n  ) {\n    this._$attributeToProperty(name, value);\n  }\n\n  private __propertyToAttribute(\n    name: PropertyKey,\n    value: unknown,\n    options: PropertyDeclaration = defaultPropertyDeclaration\n  ) {\n    const attr = (\n      this.constructor as typeof ReactiveElement\n    ).__attributeNameForProperty(name, options);\n    if (attr !== undefined && options.reflect === true) {\n      const converter =\n        (options.converter as ComplexAttributeConverter)?.toAttribute !==\n        undefined\n          ? (options.converter as ComplexAttributeConverter)\n          : defaultConverter;\n      const attrValue = converter.toAttribute!(value, options.type);\n      if (\n        DEV_MODE &&\n        (this.constructor as typeof ReactiveElement).enabledWarnings!.indexOf(\n          'migration'\n        ) >= 0 &&\n        attrValue === undefined\n      ) {\n        issueWarning(\n          'undefined-attribute-value',\n          `The attribute value for the ${name as string} property is ` +\n            `undefined on element ${this.localName}. The attribute will be ` +\n            `removed, but in the previous version of \\`ReactiveElement\\`, ` +\n            `the attribute would not have changed.`\n        );\n      }\n      // Track if the property is being reflected to avoid\n      // setting the property again via `attributeChangedCallback`. Note:\n      // 1. this takes advantage of the fact that the callback is synchronous.\n      // 2. will behave incorrectly if multiple attributes are in the reaction\n      // stack at time of calling. However, since we process attributes\n      // in `update` this should not be possible (or an extreme corner case\n      // that we'd like to discover).\n      // mark state reflecting\n      this.__reflectingProperty = name;\n      if (attrValue == null) {\n        this.removeAttribute(attr);\n      } else {\n        this.setAttribute(attr, attrValue as string);\n      }\n      // mark state not reflecting\n      this.__reflectingProperty = null;\n    }\n  }\n\n  /** @internal */\n  _$attributeToProperty(name: string, value: string | null) {\n    const ctor = this.constructor as typeof ReactiveElement;\n    // Note, hint this as an `AttributeMap` so closure clearly understands\n    // the type; it has issues with tracking types through statics\n    const propName = (ctor.__attributeToPropertyMap as AttributeMap).get(name);\n    // Use tracking info to avoid reflecting a property value to an attribute\n    // if it was just set because the attribute changed.\n    if (propName !== undefined && this.__reflectingProperty !== propName) {\n      const options = ctor.getPropertyOptions(propName);\n      const converter =\n        typeof options.converter === 'function'\n          ? {fromAttribute: options.converter}\n          : options.converter?.fromAttribute !== undefined\n          ? options.converter\n          : defaultConverter;\n      // mark state reflecting\n      this.__reflectingProperty = propName;\n      this[propName as keyof this] = converter.fromAttribute!(\n        value,\n        options.type\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ) as any;\n      // mark state not reflecting\n      this.__reflectingProperty = null;\n    }\n  }\n\n  /**\n   * Requests an update which is processed asynchronously. This should be called\n   * when an element should update based on some state not triggered by setting\n   * a reactive property. In this case, pass no arguments. It should also be\n   * called when manually implementing a property setter. In this case, pass the\n   * property `name` and `oldValue` to ensure that any configured property\n   * options are honored.\n   *\n   * @param name name of requesting property\n   * @param oldValue old value of requesting property\n   * @param options property options to use instead of the previously\n   *     configured options\n   * @category updates\n   */\n  requestUpdate(\n    name?: PropertyKey,\n    oldValue?: unknown,\n    options?: PropertyDeclaration\n  ): void {\n    let shouldRequestUpdate = true;\n    // If we have a property key, perform property update steps.\n    if (name !== undefined) {\n      options =\n        options ||\n        (this.constructor as typeof ReactiveElement).getPropertyOptions(name);\n      const hasChanged = options.hasChanged || notEqual;\n      if (hasChanged(this[name as keyof this], oldValue)) {\n        if (!this._$changedProperties.has(name)) {\n          this._$changedProperties.set(name, oldValue);\n        }\n        // Add to reflecting properties set.\n        // Note, it's important that every change has a chance to add the\n        // property to `_reflectingProperties`. This ensures setting\n        // attribute + property reflects correctly.\n        if (options.reflect === true && this.__reflectingProperty !== name) {\n          if (this.__reflectingProperties === undefined) {\n            this.__reflectingProperties = new Map();\n          }\n          this.__reflectingProperties.set(name, options);\n        }\n      } else {\n        // Abort the request if the property should not be considered changed.\n        shouldRequestUpdate = false;\n      }\n    }\n    if (!this.isUpdatePending && shouldRequestUpdate) {\n      this.__updatePromise = this.__enqueueUpdate();\n    }\n    // Note, since this no longer returns a promise, in dev mode we return a\n    // thenable which warns if it's called.\n    return DEV_MODE\n      ? (requestUpdateThenable(this.localName) as unknown as void)\n      : undefined;\n  }\n\n  /**\n   * Sets up the element to asynchronously update.\n   */\n  private async __enqueueUpdate() {\n    this.isUpdatePending = true;\n    try {\n      // Ensure any previous update has resolved before updating.\n      // This `await` also ensures that property changes are batched.\n      await this.__updatePromise;\n    } catch (e) {\n      // Refire any previous errors async so they do not disrupt the update\n      // cycle. Errors are refired so developers have a chance to observe\n      // them, and this can be done by implementing\n      // `window.onunhandledrejection`.\n      Promise.reject(e);\n    }\n    const result = this.scheduleUpdate();\n    // If `scheduleUpdate` returns a Promise, we await it. This is done to\n    // enable coordinating updates with a scheduler. Note, the result is\n    // checked to avoid delaying an additional microtask unless we need to.\n    if (result != null) {\n      await result;\n    }\n    return !this.isUpdatePending;\n  }\n\n  /**\n   * Schedules an element update. You can override this method to change the\n   * timing of updates by returning a Promise. The update will await the\n   * returned Promise, and you should resolve the Promise to allow the update\n   * to proceed. If this method is overridden, `super.scheduleUpdate()`\n   * must be called.\n   *\n   * For instance, to schedule updates to occur just before the next frame:\n   *\n   * ```ts\n   * override protected async scheduleUpdate(): Promise<unknown> {\n   *   await new Promise((resolve) => requestAnimationFrame(() => resolve()));\n   *   super.scheduleUpdate();\n   * }\n   * ```\n   * @category updates\n   */\n  protected scheduleUpdate(): void | Promise<unknown> {\n    return this.performUpdate();\n  }\n\n  /**\n   * Performs an element update. Note, if an exception is thrown during the\n   * update, `firstUpdated` and `updated` will not be called.\n   *\n   * Call `performUpdate()` to immediately process a pending update. This should\n   * generally not be needed, but it can be done in rare cases when you need to\n   * update synchronously.\n   *\n   * Note: To ensure `performUpdate()` synchronously completes a pending update,\n   * it should not be overridden. In LitElement 2.x it was suggested to override\n   * `performUpdate()` to also customizing update scheduling. Instead, you should now\n   * override `scheduleUpdate()`. For backwards compatibility with LitElement 2.x,\n   * scheduling updates via `performUpdate()` continues to work, but will make\n   * also calling `performUpdate()` to synchronously process updates difficult.\n   *\n   * @category updates\n   */\n  protected performUpdate(): void | Promise<unknown> {\n    // Abort any update if one is not pending when this is called.\n    // This can happen if `performUpdate` is called early to \"flush\"\n    // the update.\n    if (!this.isUpdatePending) {\n      return;\n    }\n    debugLogEvent?.({kind: 'update'});\n    // create renderRoot before first update.\n    if (!this.hasUpdated) {\n      // Produce warning if any class properties are shadowed by class fields\n      if (DEV_MODE) {\n        const shadowedProperties: string[] = [];\n        (\n          this.constructor as typeof ReactiveElement\n        ).__reactivePropertyKeys?.forEach((p) => {\n          if (this.hasOwnProperty(p) && !this.__instanceProperties?.has(p)) {\n            shadowedProperties.push(p as string);\n          }\n        });\n        if (shadowedProperties.length) {\n          throw new Error(\n            `The following properties on element ${this.localName} will not ` +\n              `trigger updates as expected because they are set using class ` +\n              `fields: ${shadowedProperties.join(', ')}. ` +\n              `Native class fields and some compiled output will overwrite ` +\n              `accessors used for detecting changes. See ` +\n              `https://lit.dev/msg/class-field-shadowing ` +\n              `for more information.`\n          );\n        }\n      }\n    }\n    // Mixin instance properties once, if they exist.\n    if (this.__instanceProperties) {\n      // Use forEach so this works even if for/of loops are compiled to for loops\n      // expecting arrays\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      this.__instanceProperties!.forEach((v, p) => ((this as any)[p] = v));\n      this.__instanceProperties = undefined;\n    }\n    let shouldUpdate = false;\n    const changedProperties = this._$changedProperties;\n    try {\n      shouldUpdate = this.shouldUpdate(changedProperties);\n      if (shouldUpdate) {\n        this.willUpdate(changedProperties);\n        this.__controllers?.forEach((c) => c.hostUpdate?.());\n        this.update(changedProperties);\n      } else {\n        this.__markUpdated();\n      }\n    } catch (e) {\n      // Prevent `firstUpdated` and `updated` from running when there's an\n      // update exception.\n      shouldUpdate = false;\n      // Ensure element can accept additional updates after an exception.\n      this.__markUpdated();\n      throw e;\n    }\n    // The update is no longer considered pending and further updates are now allowed.\n    if (shouldUpdate) {\n      this._$didUpdate(changedProperties);\n    }\n  }\n\n  /**\n   * Invoked before `update()` to compute values needed during the update.\n   *\n   * Implement `willUpdate` to compute property values that depend on other\n   * properties and are used in the rest of the update process.\n   *\n   * ```ts\n   * willUpdate(changedProperties) {\n   *   // only need to check changed properties for an expensive computation.\n   *   if (changedProperties.has('firstName') || changedProperties.has('lastName')) {\n   *     this.sha = computeSHA(`${this.firstName} ${this.lastName}`);\n   *   }\n   * }\n   *\n   * render() {\n   *   return html`SHA: ${this.sha}`;\n   * }\n   * ```\n   *\n   * @category updates\n   */\n  protected willUpdate(_changedProperties: PropertyValues): void {}\n\n  // Note, this is an override point for polyfill-support.\n  // @internal\n  _$didUpdate(changedProperties: PropertyValues) {\n    this.__controllers?.forEach((c) => c.hostUpdated?.());\n    if (!this.hasUpdated) {\n      this.hasUpdated = true;\n      this.firstUpdated(changedProperties);\n    }\n    this.updated(changedProperties);\n    if (\n      DEV_MODE &&\n      this.isUpdatePending &&\n      (this.constructor as typeof ReactiveElement).enabledWarnings!.indexOf(\n        'change-in-update'\n      ) >= 0\n    ) {\n      issueWarning(\n        'change-in-update',\n        `Element ${this.localName} scheduled an update ` +\n          `(generally because a property was set) ` +\n          `after an update completed, causing a new update to be scheduled. ` +\n          `This is inefficient and should be avoided unless the next update ` +\n          `can only be scheduled as a side effect of the previous update.`\n      );\n    }\n  }\n\n  private __markUpdated() {\n    this._$changedProperties = new Map();\n    this.isUpdatePending = false;\n  }\n\n  /**\n   * Returns a Promise that resolves when the element has completed updating.\n   * The Promise value is a boolean that is `true` if the element completed the\n   * update without triggering another update. The Promise result is `false` if\n   * a property was set inside `updated()`. If the Promise is rejected, an\n   * exception was thrown during the update.\n   *\n   * To await additional asynchronous work, override the `getUpdateComplete`\n   * method. For example, it is sometimes useful to await a rendered element\n   * before fulfilling this Promise. To do this, first await\n   * `super.getUpdateComplete()`, then any subsequent state.\n   *\n   * @return A promise of a boolean that resolves to true if the update completed\n   *     without triggering another update.\n   * @category updates\n   */\n  get updateComplete(): Promise<boolean> {\n    return this.getUpdateComplete();\n  }\n\n  /**\n   * Override point for the `updateComplete` promise.\n   *\n   * It is not safe to override the `updateComplete` getter directly due to a\n   * limitation in TypeScript which means it is not possible to call a\n   * superclass getter (e.g. `super.updateComplete.then(...)`) when the target\n   * language is ES5 (https://github.com/microsoft/TypeScript/issues/338).\n   * This method should be overridden instead. For example:\n   *\n   * ```ts\n   * class MyElement extends LitElement {\n   *   override async getUpdateComplete() {\n   *     const result = await super.getUpdateComplete();\n   *     await this._myChild.updateComplete;\n   *     return result;\n   *   }\n   * }\n   * ```\n   *\n   * @return A promise of a boolean that resolves to true if the update completed\n   *     without triggering another update.\n   * @category updates\n   */\n  protected getUpdateComplete(): Promise<boolean> {\n    return this.__updatePromise;\n  }\n\n  /**\n   * Controls whether or not `update()` should be called when the element requests\n   * an update. By default, this method always returns `true`, but this can be\n   * customized to control when to update.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   * @category updates\n   */\n  protected shouldUpdate(_changedProperties: PropertyValues): boolean {\n    return true;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes.\n   * It can be overridden to render and keep updated element DOM.\n   * Setting properties inside this method will *not* trigger\n   * another update.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   * @category updates\n   */\n  protected update(_changedProperties: PropertyValues) {\n    if (this.__reflectingProperties !== undefined) {\n      // Use forEach so this works even if for/of loops are compiled to for\n      // loops expecting arrays\n      this.__reflectingProperties.forEach((v, k) =>\n        this.__propertyToAttribute(k, this[k as keyof this], v)\n      );\n      this.__reflectingProperties = undefined;\n    }\n    this.__markUpdated();\n  }\n\n  /**\n   * Invoked whenever the element is updated. Implement to perform\n   * post-updating tasks via DOM APIs, for example, focusing an element.\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   * @category updates\n   */\n  protected updated(_changedProperties: PropertyValues) {}\n\n  /**\n   * Invoked when the element is first updated. Implement to perform one time\n   * work on the element after update.\n   *\n   * ```ts\n   * firstUpdated() {\n   *   this.renderRoot.getElementById('my-text-area').focus();\n   * }\n   * ```\n   *\n   * Setting properties inside this method will trigger the element to update\n   * again after this update cycle completes.\n   *\n   * @param _changedProperties Map of changed properties with old values\n   * @category updates\n   */\n  protected firstUpdated(_changedProperties: PropertyValues) {}\n}\n\n// Apply polyfills if available\npolyfillSupport?.({ReactiveElement});\n\n// Dev mode warnings...\nif (DEV_MODE) {\n  // Default warning set.\n  ReactiveElement.enabledWarnings = ['change-in-update'];\n  const ensureOwnWarnings = function (ctor: typeof ReactiveElement) {\n    if (\n      !ctor.hasOwnProperty(JSCompiler_renameProperty('enabledWarnings', ctor))\n    ) {\n      ctor.enabledWarnings = ctor.enabledWarnings!.slice();\n    }\n  };\n  ReactiveElement.enableWarning = function (\n    this: typeof ReactiveElement,\n    warning: WarningKind\n  ) {\n    ensureOwnWarnings(this);\n    if (this.enabledWarnings!.indexOf(warning) < 0) {\n      this.enabledWarnings!.push(warning);\n    }\n  };\n  ReactiveElement.disableWarning = function (\n    this: typeof ReactiveElement,\n    warning: WarningKind\n  ) {\n    ensureOwnWarnings(this);\n    const i = this.enabledWarnings!.indexOf(warning);\n    if (i >= 0) {\n      this.enabledWarnings!.splice(i, 1);\n    }\n  };\n}\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for ReactiveElement usage.\n(global.reactiveElementVersions ??= []).push('1.6.2');\nif (DEV_MODE && global.reactiveElementVersions.length > 1) {\n  issueWarning!(\n    'multiple-versions',\n    `Multiple versions of Lit loaded. Loading multiple versions ` +\n      `is not recommended.`\n  );\n}\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n// IMPORTANT: these imports must be type-only\nimport type {Directive, DirectiveResult, PartInfo} from './directive.js';\n\nconst DEV_MODE = true;\nconst ENABLE_EXTRA_SECURITY_HOOKS = true;\nconst ENABLE_SHADYDOM_NOPATCH = true;\nconst NODE_MODE = false;\n// Use window for browser builds because IE11 doesn't have globalThis.\nconst global = NODE_MODE ? globalThis : window;\n\n/**\n * Contains types that are part of the unstable debug API.\n *\n * Everything in this API is not stable and may change or be removed in the future,\n * even on patch releases.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace LitUnstable {\n  /**\n   * When Lit is running in dev mode and `window.emitLitDebugLogEvents` is true,\n   * we will emit 'lit-debug' events to window, with live details about the update and render\n   * lifecycle. These can be useful for writing debug tooling and visualizations.\n   *\n   * Please be aware that running with window.emitLitDebugLogEvents has performance overhead,\n   * making certain operations that are normally very cheap (like a no-op render) much slower,\n   * because we must copy data and dispatch events.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  export namespace DebugLog {\n    export type Entry =\n      | TemplatePrep\n      | TemplateInstantiated\n      | TemplateInstantiatedAndUpdated\n      | TemplateUpdating\n      | BeginRender\n      | EndRender\n      | CommitPartEntry\n      | SetPartValue;\n    export interface TemplatePrep {\n      kind: 'template prep';\n      template: Template;\n      strings: TemplateStringsArray;\n      clonableTemplate: HTMLTemplateElement;\n      parts: TemplatePart[];\n    }\n    export interface BeginRender {\n      kind: 'begin render';\n      id: number;\n      value: unknown;\n      container: HTMLElement | DocumentFragment;\n      options: RenderOptions | undefined;\n      part: ChildPart | undefined;\n    }\n    export interface EndRender {\n      kind: 'end render';\n      id: number;\n      value: unknown;\n      container: HTMLElement | DocumentFragment;\n      options: RenderOptions | undefined;\n      part: ChildPart;\n    }\n    export interface TemplateInstantiated {\n      kind: 'template instantiated';\n      template: Template | CompiledTemplate;\n      instance: TemplateInstance;\n      options: RenderOptions | undefined;\n      fragment: Node;\n      parts: Array<Part | undefined>;\n      values: unknown[];\n    }\n    export interface TemplateInstantiatedAndUpdated {\n      kind: 'template instantiated and updated';\n      template: Template | CompiledTemplate;\n      instance: TemplateInstance;\n      options: RenderOptions | undefined;\n      fragment: Node;\n      parts: Array<Part | undefined>;\n      values: unknown[];\n    }\n    export interface TemplateUpdating {\n      kind: 'template updating';\n      template: Template | CompiledTemplate;\n      instance: TemplateInstance;\n      options: RenderOptions | undefined;\n      parts: Array<Part | undefined>;\n      values: unknown[];\n    }\n    export interface SetPartValue {\n      kind: 'set part';\n      part: Part;\n      value: unknown;\n      valueIndex: number;\n      values: unknown[];\n      templateInstance: TemplateInstance;\n    }\n\n    export type CommitPartEntry =\n      | CommitNothingToChildEntry\n      | CommitText\n      | CommitNode\n      | CommitAttribute\n      | CommitProperty\n      | CommitBooleanAttribute\n      | CommitEventListener\n      | CommitToElementBinding;\n\n    export interface CommitNothingToChildEntry {\n      kind: 'commit nothing to child';\n      start: ChildNode;\n      end: ChildNode | null;\n      parent: Disconnectable | undefined;\n      options: RenderOptions | undefined;\n    }\n\n    export interface CommitText {\n      kind: 'commit text';\n      node: Text;\n      value: unknown;\n      options: RenderOptions | undefined;\n    }\n\n    export interface CommitNode {\n      kind: 'commit node';\n      start: Node;\n      parent: Disconnectable | undefined;\n      value: Node;\n      options: RenderOptions | undefined;\n    }\n\n    export interface CommitAttribute {\n      kind: 'commit attribute';\n      element: Element;\n      name: string;\n      value: unknown;\n      options: RenderOptions | undefined;\n    }\n\n    export interface CommitProperty {\n      kind: 'commit property';\n      element: Element;\n      name: string;\n      value: unknown;\n      options: RenderOptions | undefined;\n    }\n\n    export interface CommitBooleanAttribute {\n      kind: 'commit boolean attribute';\n      element: Element;\n      name: string;\n      value: boolean;\n      options: RenderOptions | undefined;\n    }\n\n    export interface CommitEventListener {\n      kind: 'commit event listener';\n      element: Element;\n      name: string;\n      value: unknown;\n      oldListener: unknown;\n      options: RenderOptions | undefined;\n      // True if we're removing the old event listener (e.g. because settings changed, or value is nothing)\n      removeListener: boolean;\n      // True if we're adding a new event listener (e.g. because first render, or settings changed)\n      addListener: boolean;\n    }\n\n    export interface CommitToElementBinding {\n      kind: 'commit to element binding';\n      element: Element;\n      value: unknown;\n      options: RenderOptions | undefined;\n    }\n  }\n}\n\ninterface DebugLoggingWindow {\n  // Even in dev mode, we generally don't want to emit these events, as that's\n  // another level of cost, so only emit them when DEV_MODE is true _and_ when\n  // window.emitLitDebugEvents is true.\n  emitLitDebugLogEvents?: boolean;\n}\n\n/**\n * Useful for visualizing and logging insights into what the Lit template system is doing.\n *\n * Compiled out of prod mode builds.\n */\nconst debugLogEvent = DEV_MODE\n  ? (event: LitUnstable.DebugLog.Entry) => {\n      const shouldEmit = (global as unknown as DebugLoggingWindow)\n        .emitLitDebugLogEvents;\n      if (!shouldEmit) {\n        return;\n      }\n      global.dispatchEvent(\n        new CustomEvent<LitUnstable.DebugLog.Entry>('lit-debug', {\n          detail: event,\n        })\n      );\n    }\n  : undefined;\n// Used for connecting beginRender and endRender events when there are nested\n// renders when errors are thrown preventing an endRender event from being\n// called.\nlet debugLogRenderId = 0;\n\nlet issueWarning: (code: string, warning: string) => void;\n\nif (DEV_MODE) {\n  global.litIssuedWarnings ??= new Set();\n\n  // Issue a warning, if we haven't already.\n  issueWarning = (code: string, warning: string) => {\n    warning += code\n      ? ` See https://lit.dev/msg/${code} for more information.`\n      : '';\n    if (!global.litIssuedWarnings!.has(warning)) {\n      console.warn(warning);\n      global.litIssuedWarnings!.add(warning);\n    }\n  };\n\n  issueWarning(\n    'dev-mode',\n    `Lit is in dev mode. Not recommended for production!`\n  );\n}\n\nconst wrap =\n  ENABLE_SHADYDOM_NOPATCH &&\n  global.ShadyDOM?.inUse &&\n  global.ShadyDOM?.noPatch === true\n    ? global.ShadyDOM!.wrap\n    : (node: Node) => node;\n\nconst trustedTypes = (global as unknown as Partial<Window>).trustedTypes;\n\n/**\n * Our TrustedTypePolicy for HTML which is declared using the html template\n * tag function.\n *\n * That HTML is a developer-authored constant, and is parsed with innerHTML\n * before any untrusted expressions have been mixed in. Therefor it is\n * considered safe by construction.\n */\nconst policy = trustedTypes\n  ? trustedTypes.createPolicy('lit-html', {\n      createHTML: (s) => s,\n    })\n  : undefined;\n\n/**\n * Used to sanitize any value before it is written into the DOM. This can be\n * used to implement a security policy of allowed and disallowed values in\n * order to prevent XSS attacks.\n *\n * One way of using this callback would be to check attributes and properties\n * against a list of high risk fields, and require that values written to such\n * fields be instances of a class which is safe by construction. Closure's Safe\n * HTML Types is one implementation of this technique (\n * https://github.com/google/safe-html-types/blob/master/doc/safehtml-types.md).\n * The TrustedTypes polyfill in API-only mode could also be used as a basis\n * for this technique (https://github.com/WICG/trusted-types).\n *\n * @param node The HTML node (usually either a #text node or an Element) that\n *     is being written to. Note that this is just an exemplar node, the write\n *     may take place against another instance of the same class of node.\n * @param name The name of an attribute or property (for example, 'href').\n * @param type Indicates whether the write that's about to be performed will\n *     be to a property or a node.\n * @return A function that will sanitize this class of writes.\n */\nexport type SanitizerFactory = (\n  node: Node,\n  name: string,\n  type: 'property' | 'attribute'\n) => ValueSanitizer;\n\n/**\n * A function which can sanitize values that will be written to a specific kind\n * of DOM sink.\n *\n * See SanitizerFactory.\n *\n * @param value The value to sanitize. Will be the actual value passed into\n *     the lit-html template literal, so this could be of any type.\n * @return The value to write to the DOM. Usually the same as the input value,\n *     unless sanitization is needed.\n */\nexport type ValueSanitizer = (value: unknown) => unknown;\n\nconst identityFunction: ValueSanitizer = (value: unknown) => value;\nconst noopSanitizer: SanitizerFactory = (\n  _node: Node,\n  _name: string,\n  _type: 'property' | 'attribute'\n) => identityFunction;\n\n/** Sets the global sanitizer factory. */\nconst setSanitizer = (newSanitizer: SanitizerFactory) => {\n  if (!ENABLE_EXTRA_SECURITY_HOOKS) {\n    return;\n  }\n  if (sanitizerFactoryInternal !== noopSanitizer) {\n    throw new Error(\n      `Attempted to overwrite existing lit-html security policy.` +\n        ` setSanitizeDOMValueFactory should be called at most once.`\n    );\n  }\n  sanitizerFactoryInternal = newSanitizer;\n};\n\n/**\n * Only used in internal tests, not a part of the public API.\n */\nconst _testOnlyClearSanitizerFactoryDoNotCallOrElse = () => {\n  sanitizerFactoryInternal = noopSanitizer;\n};\n\nconst createSanitizer: SanitizerFactory = (node, name, type) => {\n  return sanitizerFactoryInternal(node, name, type);\n};\n\n// Added to an attribute name to mark the attribute as bound so we can find\n// it easily.\nconst boundAttributeSuffix = '$lit$';\n\n// This marker is used in many syntactic positions in HTML, so it must be\n// a valid element name and attribute name. We don't support dynamic names (yet)\n// but this at least ensures that the parse tree is closer to the template\n// intention.\nconst marker = `lit$${String(Math.random()).slice(9)}$`;\n\n// String used to tell if a comment is a marker comment\nconst markerMatch = '?' + marker;\n\n// Text used to insert a comment marker node. We use processing instruction\n// syntax because it's slightly smaller, but parses as a comment node.\nconst nodeMarker = `<${markerMatch}>`;\n\nconst d =\n  NODE_MODE && global.document === undefined\n    ? ({\n        createTreeWalker() {\n          return {};\n        },\n      } as unknown as Document)\n    : document;\n\n// Creates a dynamic marker. We never have to search for these in the DOM.\nconst createMarker = () => d.createComment('');\n\n// https://tc39.github.io/ecma262/#sec-typeof-operator\ntype Primitive = null | undefined | boolean | number | string | symbol | bigint;\nconst isPrimitive = (value: unknown): value is Primitive =>\n  value === null || (typeof value != 'object' && typeof value != 'function');\nconst isArray = Array.isArray;\nconst isIterable = (value: unknown): value is Iterable<unknown> =>\n  isArray(value) ||\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  typeof (value as any)?.[Symbol.iterator] === 'function';\n\nconst SPACE_CHAR = `[ \\t\\n\\f\\r]`;\nconst ATTR_VALUE_CHAR = `[^ \\t\\n\\f\\r\"'\\`<>=]`;\nconst NAME_CHAR = `[^\\\\s\"'>=/]`;\n\n// These regexes represent the five parsing states that we care about in the\n// Template's HTML scanner. They match the *end* of the state they're named\n// after.\n// Depending on the match, we transition to a new state. If there's no match,\n// we stay in the same state.\n// Note that the regexes are stateful. We utilize lastIndex and sync it\n// across the multiple regexes used. In addition to the five regexes below\n// we also dynamically create a regex to find the matching end tags for raw\n// text elements.\n\n/**\n * End of text is: `<` followed by:\n *   (comment start) or (tag) or (dynamic tag binding)\n */\nconst textEndRegex = /<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g;\nconst COMMENT_START = 1;\nconst TAG_NAME = 2;\nconst DYNAMIC_TAG_NAME = 3;\n\nconst commentEndRegex = /-->/g;\n/**\n * Comments not started with <!--, like </{, can be ended by a single `>`\n */\nconst comment2EndRegex = />/g;\n\n/**\n * The tagEnd regex matches the end of the \"inside an opening\" tag syntax\n * position. It either matches a `>`, an attribute-like sequence, or the end\n * of the string after a space (attribute-name position ending).\n *\n * See attributes in the HTML spec:\n * https://www.w3.org/TR/html5/syntax.html#elements-attributes\n *\n * \" \\t\\n\\f\\r\" are HTML space characters:\n * https://infra.spec.whatwg.org/#ascii-whitespace\n *\n * So an attribute is:\n *  * The name: any character except a whitespace character, (\"), ('), \">\",\n *    \"=\", or \"/\". Note: this is different from the HTML spec which also excludes control characters.\n *  * Followed by zero or more space characters\n *  * Followed by \"=\"\n *  * Followed by zero or more space characters\n *  * Followed by:\n *    * Any character except space, ('), (\"), \"<\", \">\", \"=\", (`), or\n *    * (\") then any non-(\"), or\n *    * (') then any non-(')\n */\nconst tagEndRegex = new RegExp(\n  `>|${SPACE_CHAR}(?:(${NAME_CHAR}+)(${SPACE_CHAR}*=${SPACE_CHAR}*(?:${ATTR_VALUE_CHAR}|(\"|')|))|$)`,\n  'g'\n);\nconst ENTIRE_MATCH = 0;\nconst ATTRIBUTE_NAME = 1;\nconst SPACES_AND_EQUALS = 2;\nconst QUOTE_CHAR = 3;\n\nconst singleQuoteAttrEndRegex = /'/g;\nconst doubleQuoteAttrEndRegex = /\"/g;\n/**\n * Matches the raw text elements.\n *\n * Comments are not parsed within raw text elements, so we need to search their\n * text content for marker strings.\n */\nconst rawTextElement = /^(?:script|style|textarea|title)$/i;\n\n/** TemplateResult types */\nconst HTML_RESULT = 1;\nconst SVG_RESULT = 2;\n\ntype ResultType = typeof HTML_RESULT | typeof SVG_RESULT;\n\n// TemplatePart types\n// IMPORTANT: these must match the values in PartType\nconst ATTRIBUTE_PART = 1;\nconst CHILD_PART = 2;\nconst PROPERTY_PART = 3;\nconst BOOLEAN_ATTRIBUTE_PART = 4;\nconst EVENT_PART = 5;\nconst ELEMENT_PART = 6;\nconst COMMENT_PART = 7;\n\n/**\n * The return type of the template tag functions, {@linkcode html} and\n * {@linkcode svg}.\n *\n * A `TemplateResult` object holds all the information about a template\n * expression required to render it: the template strings, expression values,\n * and type of template (html or svg).\n *\n * `TemplateResult` objects do not create any DOM on their own. To create or\n * update DOM you need to render the `TemplateResult`. See\n * [Rendering](https://lit.dev/docs/components/rendering) for more information.\n *\n */\nexport type TemplateResult<T extends ResultType = ResultType> = {\n  // This property needs to remain unminified.\n  ['_$litType$']: T;\n  strings: TemplateStringsArray;\n  values: unknown[];\n};\n\nexport type HTMLTemplateResult = TemplateResult<typeof HTML_RESULT>;\n\nexport type SVGTemplateResult = TemplateResult<typeof SVG_RESULT>;\n\nexport interface CompiledTemplateResult {\n  // This is a factory in order to make template initialization lazy\n  // and allow ShadyRenderOptions scope to be passed in.\n  // This property needs to remain unminified.\n  ['_$litType$']: CompiledTemplate;\n  values: unknown[];\n}\n\nexport interface CompiledTemplate extends Omit<Template, 'el'> {\n  // el is overridden to be optional. We initialize it on first render\n  el?: HTMLTemplateElement;\n\n  // The prepared HTML string to create a template element from.\n  h: TrustedHTML;\n}\n\n/**\n * Generates a template literal tag function that returns a TemplateResult with\n * the given result type.\n */\nconst tag =\n  <T extends ResultType>(type: T) =>\n  (strings: TemplateStringsArray, ...values: unknown[]): TemplateResult<T> => {\n    // Warn against templates octal escape sequences\n    // We do this here rather than in render so that the warning is closer to the\n    // template definition.\n    if (DEV_MODE && strings.some((s) => s === undefined)) {\n      console.warn(\n        'Some template strings are undefined.\\n' +\n          'This is probably caused by illegal octal escape sequences.'\n      );\n    }\n    return {\n      // This property needs to remain unminified.\n      ['_$litType$']: type,\n      strings,\n      values,\n    };\n  };\n\n/**\n * Interprets a template literal as an HTML template that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const header = (title: string) => html`<h1>${title}</h1>`;\n * ```\n *\n * The `html` tag returns a description of the DOM to render as a value. It is\n * lazy, meaning no work is done until the template is rendered. When rendering,\n * if a template comes from the same expression as a previously rendered result,\n * it's efficiently updated instead of replaced.\n */\nexport const html = tag(HTML_RESULT);\n\n/**\n * Interprets a template literal as an SVG fragment that can efficiently\n * render to and update a container.\n *\n * ```ts\n * const rect = svg`<rect width=\"10\" height=\"10\"></rect>`;\n *\n * const myImage = html`\n *   <svg viewBox=\"0 0 10 10\" xmlns=\"http://www.w3.org/2000/svg\">\n *     ${rect}\n *   </svg>`;\n * ```\n *\n * The `svg` *tag function* should only be used for SVG fragments, or elements\n * that would be contained **inside** an `<svg>` HTML element. A common error is\n * placing an `<svg>` *element* in a template tagged with the `svg` tag\n * function. The `<svg>` element is an HTML element and should be used within a\n * template tagged with the {@linkcode html} tag function.\n *\n * In LitElement usage, it's invalid to return an SVG fragment from the\n * `render()` method, as the SVG fragment will be contained within the element's\n * shadow root and thus cannot be used within an `<svg>` HTML element.\n */\nexport const svg = tag(SVG_RESULT);\n\n/**\n * A sentinel value that signals that a value was handled by a directive and\n * should not be written to the DOM.\n */\nexport const noChange = Symbol.for('lit-noChange');\n\n/**\n * A sentinel value that signals a ChildPart to fully clear its content.\n *\n * ```ts\n * const button = html`${\n *  user.isAdmin\n *    ? html`<button>DELETE</button>`\n *    : nothing\n * }`;\n * ```\n *\n * Prefer using `nothing` over other falsy values as it provides a consistent\n * behavior between various expression binding contexts.\n *\n * In child expressions, `undefined`, `null`, `''`, and `nothing` all behave the\n * same and render no nodes. In attribute expressions, `nothing` _removes_ the\n * attribute, while `undefined` and `null` will render an empty string. In\n * property expressions `nothing` becomes `undefined`.\n */\nexport const nothing = Symbol.for('lit-nothing');\n\n/**\n * The cache of prepared templates, keyed by the tagged TemplateStringsArray\n * and _not_ accounting for the specific template tag used. This means that\n * template tags cannot be dynamic - the must statically be one of html, svg,\n * or attr. This restriction simplifies the cache lookup, which is on the hot\n * path for rendering.\n */\nconst templateCache = new WeakMap<TemplateStringsArray, Template>();\n\n/**\n * Object specifying options for controlling lit-html rendering. Note that\n * while `render` may be called multiple times on the same `container` (and\n * `renderBefore` reference node) to efficiently update the rendered content,\n * only the options passed in during the first render are respected during\n * the lifetime of renders to that unique `container` + `renderBefore`\n * combination.\n */\nexport interface RenderOptions {\n  /**\n   * An object to use as the `this` value for event listeners. It's often\n   * useful to set this to the host component rendering a template.\n   */\n  host?: object;\n  /**\n   * A DOM node before which to render content in the container.\n   */\n  renderBefore?: ChildNode | null;\n  /**\n   * Node used for cloning the template (`importNode` will be called on this\n   * node). This controls the `ownerDocument` of the rendered DOM, along with\n   * any inherited context. Defaults to the global `document`.\n   */\n  creationScope?: {importNode(node: Node, deep?: boolean): Node};\n  /**\n   * The initial connected state for the top-level part being rendered. If no\n   * `isConnected` option is set, `AsyncDirective`s will be connected by\n   * default. Set to `false` if the initial render occurs in a disconnected tree\n   * and `AsyncDirective`s should see `isConnected === false` for their initial\n   * render. The `part.setConnected()` method must be used subsequent to initial\n   * render to change the connected state of the part.\n   */\n  isConnected?: boolean;\n}\n\nconst walker = d.createTreeWalker(\n  d,\n  129 /* NodeFilter.SHOW_{ELEMENT|COMMENT} */,\n  null,\n  false\n);\n\nlet sanitizerFactoryInternal: SanitizerFactory = noopSanitizer;\n\n//\n// Classes only below here, const variable declarations only above here...\n//\n// Keeping variable declarations and classes together improves minification.\n// Interfaces and type aliases can be interleaved freely.\n//\n\n// Type for classes that have a `_directive` or `_directives[]` field, used by\n// `resolveDirective`\nexport interface DirectiveParent {\n  _$parent?: DirectiveParent;\n  _$isConnected: boolean;\n  __directive?: Directive;\n  __directives?: Array<Directive | undefined>;\n}\n\n/**\n * Returns an HTML string for the given TemplateStringsArray and result type\n * (HTML or SVG), along with the case-sensitive bound attribute names in\n * template order. The HTML contains comment markers denoting the `ChildPart`s\n * and suffixes on bound attributes denoting the `AttributeParts`.\n *\n * @param strings template strings array\n * @param type HTML or SVG\n * @return Array containing `[html, attrNames]` (array returned for terseness,\n *     to avoid object fields since this code is shared with non-minified SSR\n *     code)\n */\nconst getTemplateHtml = (\n  strings: TemplateStringsArray,\n  type: ResultType\n): [TrustedHTML, Array<string | undefined>] => {\n  // Insert makers into the template HTML to represent the position of\n  // bindings. The following code scans the template strings to determine the\n  // syntactic position of the bindings. They can be in text position, where\n  // we insert an HTML comment, attribute value position, where we insert a\n  // sentinel string and re-write the attribute name, or inside a tag where\n  // we insert the sentinel string.\n  const l = strings.length - 1;\n  // Stores the case-sensitive bound attribute names in the order of their\n  // parts. ElementParts are also reflected in this array as undefined\n  // rather than a string, to disambiguate from attribute bindings.\n  const attrNames: Array<string | undefined> = [];\n  let html = type === SVG_RESULT ? '<svg>' : '';\n\n  // When we're inside a raw text tag (not it's text content), the regex\n  // will still be tagRegex so we can find attributes, but will switch to\n  // this regex when the tag ends.\n  let rawTextEndRegex: RegExp | undefined;\n\n  // The current parsing state, represented as a reference to one of the\n  // regexes\n  let regex = textEndRegex;\n\n  for (let i = 0; i < l; i++) {\n    const s = strings[i];\n    // The index of the end of the last attribute name. When this is\n    // positive at end of a string, it means we're in an attribute value\n    // position and need to rewrite the attribute name.\n    // We also use a special value of -2 to indicate that we encountered\n    // the end of a string in attribute name position.\n    let attrNameEndIndex = -1;\n    let attrName: string | undefined;\n    let lastIndex = 0;\n    let match!: RegExpExecArray | null;\n\n    // The conditions in this loop handle the current parse state, and the\n    // assignments to the `regex` variable are the state transitions.\n    while (lastIndex < s.length) {\n      // Make sure we start searching from where we previously left off\n      regex.lastIndex = lastIndex;\n      match = regex.exec(s);\n      if (match === null) {\n        break;\n      }\n      lastIndex = regex.lastIndex;\n      if (regex === textEndRegex) {\n        if (match[COMMENT_START] === '!--') {\n          regex = commentEndRegex;\n        } else if (match[COMMENT_START] !== undefined) {\n          // We started a weird comment, like </{\n          regex = comment2EndRegex;\n        } else if (match[TAG_NAME] !== undefined) {\n          if (rawTextElement.test(match[TAG_NAME])) {\n            // Record if we encounter a raw-text element. We'll switch to\n            // this regex at the end of the tag.\n            rawTextEndRegex = new RegExp(`</${match[TAG_NAME]}`, 'g');\n          }\n          regex = tagEndRegex;\n        } else if (match[DYNAMIC_TAG_NAME] !== undefined) {\n          if (DEV_MODE) {\n            throw new Error(\n              'Bindings in tag names are not supported. Please use static templates instead. ' +\n                'See https://lit.dev/docs/templates/expressions/#static-expressions'\n            );\n          }\n          regex = tagEndRegex;\n        }\n      } else if (regex === tagEndRegex) {\n        if (match[ENTIRE_MATCH] === '>') {\n          // End of a tag. If we had started a raw-text element, use that\n          // regex\n          regex = rawTextEndRegex ?? textEndRegex;\n          // We may be ending an unquoted attribute value, so make sure we\n          // clear any pending attrNameEndIndex\n          attrNameEndIndex = -1;\n        } else if (match[ATTRIBUTE_NAME] === undefined) {\n          // Attribute name position\n          attrNameEndIndex = -2;\n        } else {\n          attrNameEndIndex = regex.lastIndex - match[SPACES_AND_EQUALS].length;\n          attrName = match[ATTRIBUTE_NAME];\n          regex =\n            match[QUOTE_CHAR] === undefined\n              ? tagEndRegex\n              : match[QUOTE_CHAR] === '\"'\n              ? doubleQuoteAttrEndRegex\n              : singleQuoteAttrEndRegex;\n        }\n      } else if (\n        regex === doubleQuoteAttrEndRegex ||\n        regex === singleQuoteAttrEndRegex\n      ) {\n        regex = tagEndRegex;\n      } else if (regex === commentEndRegex || regex === comment2EndRegex) {\n        regex = textEndRegex;\n      } else {\n        // Not one of the five state regexes, so it must be the dynamically\n        // created raw text regex and we're at the close of that element.\n        regex = tagEndRegex;\n        rawTextEndRegex = undefined;\n      }\n    }\n\n    if (DEV_MODE) {\n      // If we have a attrNameEndIndex, which indicates that we should\n      // rewrite the attribute name, assert that we're in a valid attribute\n      // position - either in a tag, or a quoted attribute value.\n      console.assert(\n        attrNameEndIndex === -1 ||\n          regex === tagEndRegex ||\n          regex === singleQuoteAttrEndRegex ||\n          regex === doubleQuoteAttrEndRegex,\n        'unexpected parse state B'\n      );\n    }\n\n    // We have four cases:\n    //  1. We're in text position, and not in a raw text element\n    //     (regex === textEndRegex): insert a comment marker.\n    //  2. We have a non-negative attrNameEndIndex which means we need to\n    //     rewrite the attribute name to add a bound attribute suffix.\n    //  3. We're at the non-first binding in a multi-binding attribute, use a\n    //     plain marker.\n    //  4. We're somewhere else inside the tag. If we're in attribute name\n    //     position (attrNameEndIndex === -2), add a sequential suffix to\n    //     generate a unique attribute name.\n\n    // Detect a binding next to self-closing tag end and insert a space to\n    // separate the marker from the tag end:\n    const end =\n      regex === tagEndRegex && strings[i + 1].startsWith('/>') ? ' ' : '';\n    html +=\n      regex === textEndRegex\n        ? s + nodeMarker\n        : attrNameEndIndex >= 0\n        ? (attrNames.push(attrName!),\n          s.slice(0, attrNameEndIndex) +\n            boundAttributeSuffix +\n            s.slice(attrNameEndIndex)) +\n          marker +\n          end\n        : s +\n          marker +\n          (attrNameEndIndex === -2 ? (attrNames.push(undefined), i) : end);\n  }\n\n  const htmlResult: string | TrustedHTML =\n    html + (strings[l] || '<?>') + (type === SVG_RESULT ? '</svg>' : '');\n\n  // A security check to prevent spoofing of Lit template results.\n  // In the future, we may be able to replace this with Array.isTemplateObject,\n  // though we might need to make that check inside of the html and svg\n  // functions, because precompiled templates don't come in as\n  // TemplateStringArray objects.\n  if (!Array.isArray(strings) || !strings.hasOwnProperty('raw')) {\n    let message = 'invalid template strings array';\n    if (DEV_MODE) {\n      message = `\n          Internal Error: expected template strings to be an array\n          with a 'raw' field. Faking a template strings array by\n          calling html or svg like an ordinary function is effectively\n          the same as calling unsafeHtml and can lead to major security\n          issues, e.g. opening your code up to XSS attacks.\n\n          If you're using the html or svg tagged template functions normally\n          and still seeing this error, please file a bug at\n          https://github.com/lit/lit/issues/new?template=bug_report.md\n          and include information about your build tooling, if any.\n        `\n        .trim()\n        .replace(/\\n */g, '\\n');\n    }\n    throw new Error(message);\n  }\n  // Returned as an array for terseness\n  return [\n    policy !== undefined\n      ? policy.createHTML(htmlResult)\n      : (htmlResult as unknown as TrustedHTML),\n    attrNames,\n  ];\n};\n\n/** @internal */\nexport type {Template};\nclass Template {\n  /** @internal */\n  el!: HTMLTemplateElement;\n\n  parts: Array<TemplatePart> = [];\n\n  constructor(\n    // This property needs to remain unminified.\n    {strings, ['_$litType$']: type}: TemplateResult,\n    options?: RenderOptions\n  ) {\n    let node: Node | null;\n    let nodeIndex = 0;\n    let attrNameIndex = 0;\n    const partCount = strings.length - 1;\n    const parts = this.parts;\n\n    // Create template element\n    const [html, attrNames] = getTemplateHtml(strings, type);\n    this.el = Template.createElement(html, options);\n    walker.currentNode = this.el.content;\n\n    // Reparent SVG nodes into template root\n    if (type === SVG_RESULT) {\n      const content = this.el.content;\n      const svgElement = content.firstChild!;\n      svgElement.remove();\n      content.append(...svgElement.childNodes);\n    }\n\n    // Walk the template to find binding markers and create TemplateParts\n    while ((node = walker.nextNode()) !== null && parts.length < partCount) {\n      if (node.nodeType === 1) {\n        if (DEV_MODE) {\n          const tag = (node as Element).localName;\n          // Warn if `textarea` includes an expression and throw if `template`\n          // does since these are not supported. We do this by checking\n          // innerHTML for anything that looks like a marker. This catches\n          // cases like bindings in textarea there markers turn into text nodes.\n          if (\n            /^(?:textarea|template)$/i!.test(tag) &&\n            (node as Element).innerHTML.includes(marker)\n          ) {\n            const m =\n              `Expressions are not supported inside \\`${tag}\\` ` +\n              `elements. See https://lit.dev/msg/expression-in-${tag} for more ` +\n              `information.`;\n            if (tag === 'template') {\n              throw new Error(m);\n            } else issueWarning('', m);\n          }\n        }\n        // TODO (justinfagnani): for attempted dynamic tag names, we don't\n        // increment the bindingIndex, and it'll be off by 1 in the element\n        // and off by two after it.\n        if ((node as Element).hasAttributes()) {\n          // We defer removing bound attributes because on IE we might not be\n          // iterating attributes in their template order, and would sometimes\n          // remove an attribute that we still need to create a part for.\n          const attrsToRemove = [];\n          for (const name of (node as Element).getAttributeNames()) {\n            // `name` is the name of the attribute we're iterating over, but not\n            // _necessarily_ the name of the attribute we will create a part\n            // for. They can be different in browsers that don't iterate on\n            // attributes in source order. In that case the attrNames array\n            // contains the attribute name we'll process next. We only need the\n            // attribute name here to know if we should process a bound attribute\n            // on this element.\n            if (\n              name.endsWith(boundAttributeSuffix) ||\n              name.startsWith(marker)\n            ) {\n              const realName = attrNames[attrNameIndex++];\n              attrsToRemove.push(name);\n              if (realName !== undefined) {\n                // Lowercase for case-sensitive SVG attributes like viewBox\n                const value = (node as Element).getAttribute(\n                  realName.toLowerCase() + boundAttributeSuffix\n                )!;\n                const statics = value.split(marker);\n                const m = /([.?@])?(.*)/.exec(realName)!;\n                parts.push({\n                  type: ATTRIBUTE_PART,\n                  index: nodeIndex,\n                  name: m[2],\n                  strings: statics,\n                  ctor:\n                    m[1] === '.'\n                      ? PropertyPart\n                      : m[1] === '?'\n                      ? BooleanAttributePart\n                      : m[1] === '@'\n                      ? EventPart\n                      : AttributePart,\n                });\n              } else {\n                parts.push({\n                  type: ELEMENT_PART,\n                  index: nodeIndex,\n                });\n              }\n            }\n          }\n          for (const name of attrsToRemove) {\n            (node as Element).removeAttribute(name);\n          }\n        }\n        // TODO (justinfagnani): benchmark the regex against testing for each\n        // of the 3 raw text element names.\n        if (rawTextElement.test((node as Element).tagName)) {\n          // For raw text elements we need to split the text content on\n          // markers, create a Text node for each segment, and create\n          // a TemplatePart for each marker.\n          const strings = (node as Element).textContent!.split(marker);\n          const lastIndex = strings.length - 1;\n          if (lastIndex > 0) {\n            (node as Element).textContent = trustedTypes\n              ? (trustedTypes.emptyScript as unknown as '')\n              : '';\n            // Generate a new text node for each literal section\n            // These nodes are also used as the markers for node parts\n            // We can't use empty text nodes as markers because they're\n            // normalized when cloning in IE (could simplify when\n            // IE is no longer supported)\n            for (let i = 0; i < lastIndex; i++) {\n              (node as Element).append(strings[i], createMarker());\n              // Walk past the marker node we just added\n              walker.nextNode();\n              parts.push({type: CHILD_PART, index: ++nodeIndex});\n            }\n            // Note because this marker is added after the walker's current\n            // node, it will be walked to in the outer loop (and ignored), so\n            // we don't need to adjust nodeIndex here\n            (node as Element).append(strings[lastIndex], createMarker());\n          }\n        }\n      } else if (node.nodeType === 8) {\n        const data = (node as Comment).data;\n        if (data === markerMatch) {\n          parts.push({type: CHILD_PART, index: nodeIndex});\n        } else {\n          let i = -1;\n          while ((i = (node as Comment).data.indexOf(marker, i + 1)) !== -1) {\n            // Comment node has a binding marker inside, make an inactive part\n            // The binding won't work, but subsequent bindings will\n            parts.push({type: COMMENT_PART, index: nodeIndex});\n            // Move to the end of the match\n            i += marker.length - 1;\n          }\n        }\n      }\n      nodeIndex++;\n    }\n    // We could set walker.currentNode to another node here to prevent a memory\n    // leak, but every time we prepare a template, we immediately render it\n    // and re-use the walker in new TemplateInstance._clone().\n    debugLogEvent?.({\n      kind: 'template prep',\n      template: this,\n      clonableTemplate: this.el,\n      parts: this.parts,\n      strings,\n    });\n  }\n\n  // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n  /** @nocollapse */\n  static createElement(html: TrustedHTML, _options?: RenderOptions) {\n    const el = d.createElement('template');\n    el.innerHTML = html as unknown as string;\n    return el;\n  }\n}\n\nexport interface Disconnectable {\n  _$parent?: Disconnectable;\n  _$disconnectableChildren?: Set<Disconnectable>;\n  // Rather than hold connection state on instances, Disconnectables recursively\n  // fetch the connection state from the RootPart they are connected in via\n  // getters up the Disconnectable tree via _$parent references. This pushes the\n  // cost of tracking the isConnected state to `AsyncDirectives`, and avoids\n  // needing to pass all Disconnectables (parts, template instances, and\n  // directives) their connection state each time it changes, which would be\n  // costly for trees that have no AsyncDirectives.\n  _$isConnected: boolean;\n}\n\nfunction resolveDirective(\n  part: ChildPart | AttributePart | ElementPart,\n  value: unknown,\n  parent: DirectiveParent = part,\n  attributeIndex?: number\n): unknown {\n  // Bail early if the value is explicitly noChange. Note, this means any\n  // nested directive is still attached and is not run.\n  if (value === noChange) {\n    return value;\n  }\n  let currentDirective =\n    attributeIndex !== undefined\n      ? (parent as AttributePart).__directives?.[attributeIndex]\n      : (parent as ChildPart | ElementPart | Directive).__directive;\n  const nextDirectiveConstructor = isPrimitive(value)\n    ? undefined\n    : // This property needs to remain unminified.\n      (value as DirectiveResult)['_$litDirective$'];\n  if (currentDirective?.constructor !== nextDirectiveConstructor) {\n    // This property needs to remain unminified.\n    currentDirective?.['_$notifyDirectiveConnectionChanged']?.(false);\n    if (nextDirectiveConstructor === undefined) {\n      currentDirective = undefined;\n    } else {\n      currentDirective = new nextDirectiveConstructor(part as PartInfo);\n      currentDirective._$initialize(part, parent, attributeIndex);\n    }\n    if (attributeIndex !== undefined) {\n      ((parent as AttributePart).__directives ??= [])[attributeIndex] =\n        currentDirective;\n    } else {\n      (parent as ChildPart | Directive).__directive = currentDirective;\n    }\n  }\n  if (currentDirective !== undefined) {\n    value = resolveDirective(\n      part,\n      currentDirective._$resolve(part, (value as DirectiveResult).values),\n      currentDirective,\n      attributeIndex\n    );\n  }\n  return value;\n}\n\nexport type {TemplateInstance};\n/**\n * An updateable instance of a Template. Holds references to the Parts used to\n * update the template instance.\n */\nclass TemplateInstance implements Disconnectable {\n  _$template: Template;\n  _$parts: Array<Part | undefined> = [];\n\n  /** @internal */\n  _$parent: ChildPart;\n  /** @internal */\n  _$disconnectableChildren?: Set<Disconnectable> = undefined;\n\n  constructor(template: Template, parent: ChildPart) {\n    this._$template = template;\n    this._$parent = parent;\n  }\n\n  // Called by ChildPart parentNode getter\n  get parentNode() {\n    return this._$parent.parentNode;\n  }\n\n  // See comment in Disconnectable interface for why this is a getter\n  get _$isConnected() {\n    return this._$parent._$isConnected;\n  }\n\n  // This method is separate from the constructor because we need to return a\n  // DocumentFragment and we don't want to hold onto it with an instance field.\n  _clone(options: RenderOptions | undefined) {\n    const {\n      el: {content},\n      parts: parts,\n    } = this._$template;\n    const fragment = (options?.creationScope ?? d).importNode(content, true);\n    walker.currentNode = fragment;\n\n    let node = walker.nextNode()!;\n    let nodeIndex = 0;\n    let partIndex = 0;\n    let templatePart = parts[0];\n\n    while (templatePart !== undefined) {\n      if (nodeIndex === templatePart.index) {\n        let part: Part | undefined;\n        if (templatePart.type === CHILD_PART) {\n          part = new ChildPart(\n            node as HTMLElement,\n            node.nextSibling,\n            this,\n            options\n          );\n        } else if (templatePart.type === ATTRIBUTE_PART) {\n          part = new templatePart.ctor(\n            node as HTMLElement,\n            templatePart.name,\n            templatePart.strings,\n            this,\n            options\n          );\n        } else if (templatePart.type === ELEMENT_PART) {\n          part = new ElementPart(node as HTMLElement, this, options);\n        }\n        this._$parts.push(part);\n        templatePart = parts[++partIndex];\n      }\n      if (nodeIndex !== templatePart?.index) {\n        node = walker.nextNode()!;\n        nodeIndex++;\n      }\n    }\n    // We need to set the currentNode away from the cloned tree so that we\n    // don't hold onto the tree even if the tree is detached and should be\n    // freed.\n    walker.currentNode = d;\n    return fragment;\n  }\n\n  _update(values: Array<unknown>) {\n    let i = 0;\n    for (const part of this._$parts) {\n      if (part !== undefined) {\n        debugLogEvent?.({\n          kind: 'set part',\n          part,\n          value: values[i],\n          valueIndex: i,\n          values,\n          templateInstance: this,\n        });\n        if ((part as AttributePart).strings !== undefined) {\n          (part as AttributePart)._$setValue(values, part as AttributePart, i);\n          // The number of values the part consumes is part.strings.length - 1\n          // since values are in between template spans. We increment i by 1\n          // later in the loop, so increment it by part.strings.length - 2 here\n          i += (part as AttributePart).strings!.length - 2;\n        } else {\n          part._$setValue(values[i]);\n        }\n      }\n      i++;\n    }\n  }\n}\n\n/*\n * Parts\n */\ntype AttributeTemplatePart = {\n  readonly type: typeof ATTRIBUTE_PART;\n  readonly index: number;\n  readonly name: string;\n  readonly ctor: typeof AttributePart;\n  readonly strings: ReadonlyArray<string>;\n};\ntype NodeTemplatePart = {\n  readonly type: typeof CHILD_PART;\n  readonly index: number;\n};\ntype ElementTemplatePart = {\n  readonly type: typeof ELEMENT_PART;\n  readonly index: number;\n};\ntype CommentTemplatePart = {\n  readonly type: typeof COMMENT_PART;\n  readonly index: number;\n};\n\n/**\n * A TemplatePart represents a dynamic part in a template, before the template\n * is instantiated. When a template is instantiated Parts are created from\n * TemplateParts.\n */\ntype TemplatePart =\n  | NodeTemplatePart\n  | AttributeTemplatePart\n  | ElementTemplatePart\n  | CommentTemplatePart;\n\nexport type Part =\n  | ChildPart\n  | AttributePart\n  | PropertyPart\n  | BooleanAttributePart\n  | ElementPart\n  | EventPart;\n\nexport type {ChildPart};\nclass ChildPart implements Disconnectable {\n  readonly type = CHILD_PART;\n  readonly options: RenderOptions | undefined;\n  _$committedValue: unknown = nothing;\n  /** @internal */\n  __directive?: Directive;\n  /** @internal */\n  _$startNode: ChildNode;\n  /** @internal */\n  _$endNode: ChildNode | null;\n  private _textSanitizer: ValueSanitizer | undefined;\n  /** @internal */\n  _$parent: Disconnectable | undefined;\n  /**\n   * Connection state for RootParts only (i.e. ChildPart without _$parent\n   * returned from top-level `render`). This field is unsed otherwise. The\n   * intention would clearer if we made `RootPart` a subclass of `ChildPart`\n   * with this field (and a different _$isConnected getter), but the subclass\n   * caused a perf regression, possibly due to making call sites polymorphic.\n   * @internal\n   */\n  __isConnected: boolean;\n\n  // See comment in Disconnectable interface for why this is a getter\n  get _$isConnected() {\n    // ChildParts that are not at the root should always be created with a\n    // parent; only RootChildNode's won't, so they return the local isConnected\n    // state\n    return this._$parent?._$isConnected ?? this.__isConnected;\n  }\n\n  // The following fields will be patched onto ChildParts when required by\n  // AsyncDirective\n  /** @internal */\n  _$disconnectableChildren?: Set<Disconnectable> = undefined;\n  /** @internal */\n  _$notifyConnectionChanged?(\n    isConnected: boolean,\n    removeFromParent?: boolean,\n    from?: number\n  ): void;\n  /** @internal */\n  _$reparentDisconnectables?(parent: Disconnectable): void;\n\n  constructor(\n    startNode: ChildNode,\n    endNode: ChildNode | null,\n    parent: TemplateInstance | ChildPart | undefined,\n    options: RenderOptions | undefined\n  ) {\n    this._$startNode = startNode;\n    this._$endNode = endNode;\n    this._$parent = parent;\n    this.options = options;\n    // Note __isConnected is only ever accessed on RootParts (i.e. when there is\n    // no _$parent); the value on a non-root-part is \"don't care\", but checking\n    // for parent would be more code\n    this.__isConnected = options?.isConnected ?? true;\n    if (ENABLE_EXTRA_SECURITY_HOOKS) {\n      // Explicitly initialize for consistent class shape.\n      this._textSanitizer = undefined;\n    }\n  }\n\n  /**\n   * The parent node into which the part renders its content.\n   *\n   * A ChildPart's content consists of a range of adjacent child nodes of\n   * `.parentNode`, possibly bordered by 'marker nodes' (`.startNode` and\n   * `.endNode`).\n   *\n   * - If both `.startNode` and `.endNode` are non-null, then the part's content\n   * consists of all siblings between `.startNode` and `.endNode`, exclusively.\n   *\n   * - If `.startNode` is non-null but `.endNode` is null, then the part's\n   * content consists of all siblings following `.startNode`, up to and\n   * including the last child of `.parentNode`. If `.endNode` is non-null, then\n   * `.startNode` will always be non-null.\n   *\n   * - If both `.endNode` and `.startNode` are null, then the part's content\n   * consists of all child nodes of `.parentNode`.\n   */\n  get parentNode(): Node {\n    let parentNode: Node = wrap(this._$startNode).parentNode!;\n    const parent = this._$parent;\n    if (\n      parent !== undefined &&\n      parentNode?.nodeType === 11 /* Node.DOCUMENT_FRAGMENT */\n    ) {\n      // If the parentNode is a DocumentFragment, it may be because the DOM is\n      // still in the cloned fragment during initial render; if so, get the real\n      // parentNode the part will be committed into by asking the parent.\n      parentNode = (parent as ChildPart | TemplateInstance).parentNode;\n    }\n    return parentNode;\n  }\n\n  /**\n   * The part's leading marker node, if any. See `.parentNode` for more\n   * information.\n   */\n  get startNode(): Node | null {\n    return this._$startNode;\n  }\n\n  /**\n   * The part's trailing marker node, if any. See `.parentNode` for more\n   * information.\n   */\n  get endNode(): Node | null {\n    return this._$endNode;\n  }\n\n  _$setValue(value: unknown, directiveParent: DirectiveParent = this): void {\n    if (DEV_MODE && this.parentNode === null) {\n      throw new Error(\n        `This \\`ChildPart\\` has no \\`parentNode\\` and therefore cannot accept a value. This likely means the element containing the part was manipulated in an unsupported way outside of Lit's control such that the part's marker nodes were ejected from DOM. For example, setting the element's \\`innerHTML\\` or \\`textContent\\` can do this.`\n      );\n    }\n    value = resolveDirective(this, value, directiveParent);\n    if (isPrimitive(value)) {\n      // Non-rendering child values. It's important that these do not render\n      // empty text nodes to avoid issues with preventing default <slot>\n      // fallback content.\n      if (value === nothing || value == null || value === '') {\n        if (this._$committedValue !== nothing) {\n          debugLogEvent?.({\n            kind: 'commit nothing to child',\n            start: this._$startNode,\n            end: this._$endNode,\n            parent: this._$parent,\n            options: this.options,\n          });\n          this._$clear();\n        }\n        this._$committedValue = nothing;\n      } else if (value !== this._$committedValue && value !== noChange) {\n        this._commitText(value);\n      }\n      // This property needs to remain unminified.\n    } else if ((value as TemplateResult)['_$litType$'] !== undefined) {\n      this._commitTemplateResult(value as TemplateResult);\n    } else if ((value as Node).nodeType !== undefined) {\n      if (DEV_MODE && this.options?.host === value) {\n        this._commitText(\n          `[probable mistake: rendered a template's host in itself ` +\n            `(commonly caused by writing \\${this} in a template]`\n        );\n        console.warn(\n          `Attempted to render the template host`,\n          value,\n          `inside itself. This is almost always a mistake, and in dev mode `,\n          `we render some warning text. In production however, we'll `,\n          `render it, which will usually result in an error, and sometimes `,\n          `in the element disappearing from the DOM.`\n        );\n        return;\n      }\n      this._commitNode(value as Node);\n    } else if (isIterable(value)) {\n      this._commitIterable(value);\n    } else {\n      // Fallback, will render the string representation\n      this._commitText(value);\n    }\n  }\n\n  private _insert<T extends Node>(node: T) {\n    return wrap(wrap(this._$startNode).parentNode!).insertBefore(\n      node,\n      this._$endNode\n    );\n  }\n\n  private _commitNode(value: Node): void {\n    if (this._$committedValue !== value) {\n      this._$clear();\n      if (\n        ENABLE_EXTRA_SECURITY_HOOKS &&\n        sanitizerFactoryInternal !== noopSanitizer\n      ) {\n        const parentNodeName = this._$startNode.parentNode?.nodeName;\n        if (parentNodeName === 'STYLE' || parentNodeName === 'SCRIPT') {\n          let message = 'Forbidden';\n          if (DEV_MODE) {\n            if (parentNodeName === 'STYLE') {\n              message =\n                `Lit does not support binding inside style nodes. ` +\n                `This is a security risk, as style injection attacks can ` +\n                `exfiltrate data and spoof UIs. ` +\n                `Consider instead using css\\`...\\` literals ` +\n                `to compose styles, and make do dynamic styling with ` +\n                `css custom properties, ::parts, <slot>s, ` +\n                `and by mutating the DOM rather than stylesheets.`;\n            } else {\n              message =\n                `Lit does not support binding inside script nodes. ` +\n                `This is a security risk, as it could allow arbitrary ` +\n                `code execution.`;\n            }\n          }\n          throw new Error(message);\n        }\n      }\n      debugLogEvent?.({\n        kind: 'commit node',\n        start: this._$startNode,\n        parent: this._$parent,\n        value: value,\n        options: this.options,\n      });\n      this._$committedValue = this._insert(value);\n    }\n  }\n\n  private _commitText(value: unknown): void {\n    // If the committed value is a primitive it means we called _commitText on\n    // the previous render, and we know that this._$startNode.nextSibling is a\n    // Text node. We can now just replace the text content (.data) of the node.\n    if (\n      this._$committedValue !== nothing &&\n      isPrimitive(this._$committedValue)\n    ) {\n      const node = wrap(this._$startNode).nextSibling as Text;\n      if (ENABLE_EXTRA_SECURITY_HOOKS) {\n        if (this._textSanitizer === undefined) {\n          this._textSanitizer = createSanitizer(node, 'data', 'property');\n        }\n        value = this._textSanitizer(value);\n      }\n      debugLogEvent?.({\n        kind: 'commit text',\n        node,\n        value,\n        options: this.options,\n      });\n      (node as Text).data = value as string;\n    } else {\n      if (ENABLE_EXTRA_SECURITY_HOOKS) {\n        const textNode = d.createTextNode('');\n        this._commitNode(textNode);\n        // When setting text content, for security purposes it matters a lot\n        // what the parent is. For example, <style> and <script> need to be\n        // handled with care, while <span> does not. So first we need to put a\n        // text node into the document, then we can sanitize its content.\n        if (this._textSanitizer === undefined) {\n          this._textSanitizer = createSanitizer(textNode, 'data', 'property');\n        }\n        value = this._textSanitizer(value);\n        debugLogEvent?.({\n          kind: 'commit text',\n          node: textNode,\n          value,\n          options: this.options,\n        });\n        textNode.data = value as string;\n      } else {\n        this._commitNode(d.createTextNode(value as string));\n        debugLogEvent?.({\n          kind: 'commit text',\n          node: wrap(this._$startNode).nextSibling as Text,\n          value,\n          options: this.options,\n        });\n      }\n    }\n    this._$committedValue = value;\n  }\n\n  private _commitTemplateResult(\n    result: TemplateResult | CompiledTemplateResult\n  ): void {\n    // This property needs to remain unminified.\n    const {values, ['_$litType$']: type} = result;\n    // If $litType$ is a number, result is a plain TemplateResult and we get\n    // the template from the template cache. If not, result is a\n    // CompiledTemplateResult and _$litType$ is a CompiledTemplate and we need\n    // to create the <template> element the first time we see it.\n    const template: Template | CompiledTemplate =\n      typeof type === 'number'\n        ? this._$getTemplate(result as TemplateResult)\n        : (type.el === undefined &&\n            (type.el = Template.createElement(type.h, this.options)),\n          type);\n\n    if ((this._$committedValue as TemplateInstance)?._$template === template) {\n      debugLogEvent?.({\n        kind: 'template updating',\n        template,\n        instance: this._$committedValue as TemplateInstance,\n        parts: (this._$committedValue as TemplateInstance)._$parts,\n        options: this.options,\n        values,\n      });\n      (this._$committedValue as TemplateInstance)._update(values);\n    } else {\n      const instance = new TemplateInstance(template as Template, this);\n      const fragment = instance._clone(this.options);\n      debugLogEvent?.({\n        kind: 'template instantiated',\n        template,\n        instance,\n        parts: instance._$parts,\n        options: this.options,\n        fragment,\n        values,\n      });\n      instance._update(values);\n      debugLogEvent?.({\n        kind: 'template instantiated and updated',\n        template,\n        instance,\n        parts: instance._$parts,\n        options: this.options,\n        fragment,\n        values,\n      });\n      this._commitNode(fragment);\n      this._$committedValue = instance;\n    }\n  }\n\n  // Overridden via `litHtmlPolyfillSupport` to provide platform support.\n  /** @internal */\n  _$getTemplate(result: TemplateResult) {\n    let template = templateCache.get(result.strings);\n    if (template === undefined) {\n      templateCache.set(result.strings, (template = new Template(result)));\n    }\n    return template;\n  }\n\n  private _commitIterable(value: Iterable<unknown>): void {\n    // For an Iterable, we create a new InstancePart per item, then set its\n    // value to the item. This is a little bit of overhead for every item in\n    // an Iterable, but it lets us recurse easily and efficiently update Arrays\n    // of TemplateResults that will be commonly returned from expressions like:\n    // array.map((i) => html`${i}`), by reusing existing TemplateInstances.\n\n    // If value is an array, then the previous render was of an\n    // iterable and value will contain the ChildParts from the previous\n    // render. If value is not an array, clear this part and make a new\n    // array for ChildParts.\n    if (!isArray(this._$committedValue)) {\n      this._$committedValue = [];\n      this._$clear();\n    }\n\n    // Lets us keep track of how many items we stamped so we can clear leftover\n    // items from a previous render\n    const itemParts = this._$committedValue as ChildPart[];\n    let partIndex = 0;\n    let itemPart: ChildPart | undefined;\n\n    for (const item of value) {\n      if (partIndex === itemParts.length) {\n        // If no existing part, create a new one\n        // TODO (justinfagnani): test perf impact of always creating two parts\n        // instead of sharing parts between nodes\n        // https://github.com/lit/lit/issues/1266\n        itemParts.push(\n          (itemPart = new ChildPart(\n            this._insert(createMarker()),\n            this._insert(createMarker()),\n            this,\n            this.options\n          ))\n        );\n      } else {\n        // Reuse an existing part\n        itemPart = itemParts[partIndex];\n      }\n      itemPart._$setValue(item);\n      partIndex++;\n    }\n\n    if (partIndex < itemParts.length) {\n      // itemParts always have end nodes\n      this._$clear(\n        itemPart && wrap(itemPart._$endNode!).nextSibling,\n        partIndex\n      );\n      // Truncate the parts array so _value reflects the current state\n      itemParts.length = partIndex;\n    }\n  }\n\n  /**\n   * Removes the nodes contained within this Part from the DOM.\n   *\n   * @param start Start node to clear from, for clearing a subset of the part's\n   *     DOM (used when truncating iterables)\n   * @param from  When `start` is specified, the index within the iterable from\n   *     which ChildParts are being removed, used for disconnecting directives in\n   *     those Parts.\n   *\n   * @internal\n   */\n  _$clear(\n    start: ChildNode | null = wrap(this._$startNode).nextSibling,\n    from?: number\n  ) {\n    this._$notifyConnectionChanged?.(false, true, from);\n    while (start && start !== this._$endNode) {\n      const n = wrap(start!).nextSibling;\n      (wrap(start!) as Element).remove();\n      start = n;\n    }\n  }\n  /**\n   * Implementation of RootPart's `isConnected`. Note that this metod\n   * should only be called on `RootPart`s (the `ChildPart` returned from a\n   * top-level `render()` call). It has no effect on non-root ChildParts.\n   * @param isConnected Whether to set\n   * @internal\n   */\n  setConnected(isConnected: boolean) {\n    if (this._$parent === undefined) {\n      this.__isConnected = isConnected;\n      this._$notifyConnectionChanged?.(isConnected);\n    } else if (DEV_MODE) {\n      throw new Error(\n        'part.setConnected() may only be called on a ' +\n          'RootPart returned from render().'\n      );\n    }\n  }\n}\n\n/**\n * A top-level `ChildPart` returned from `render` that manages the connected\n * state of `AsyncDirective`s created throughout the tree below it.\n */\nexport interface RootPart extends ChildPart {\n  /**\n   * Sets the connection state for `AsyncDirective`s contained within this root\n   * ChildPart.\n   *\n   * lit-html does not automatically monitor the connectedness of DOM rendered;\n   * as such, it is the responsibility of the caller to `render` to ensure that\n   * `part.setConnected(false)` is called before the part object is potentially\n   * discarded, to ensure that `AsyncDirective`s have a chance to dispose of\n   * any resources being held. If a `RootPart` that was previously\n   * disconnected is subsequently re-connected (and its `AsyncDirective`s should\n   * re-connect), `setConnected(true)` should be called.\n   *\n   * @param isConnected Whether directives within this tree should be connected\n   * or not\n   */\n  setConnected(isConnected: boolean): void;\n}\n\nexport type {AttributePart};\nclass AttributePart implements Disconnectable {\n  readonly type = ATTRIBUTE_PART as\n    | typeof ATTRIBUTE_PART\n    | typeof PROPERTY_PART\n    | typeof BOOLEAN_ATTRIBUTE_PART\n    | typeof EVENT_PART;\n  readonly element: HTMLElement;\n  readonly name: string;\n  readonly options: RenderOptions | undefined;\n\n  /**\n   * If this attribute part represents an interpolation, this contains the\n   * static strings of the interpolation. For single-value, complete bindings,\n   * this is undefined.\n   */\n  readonly strings?: ReadonlyArray<string>;\n  /** @internal */\n  _$committedValue: unknown | Array<unknown> = nothing;\n  /** @internal */\n  __directives?: Array<Directive | undefined>;\n  /** @internal */\n  _$parent: Disconnectable;\n  /** @internal */\n  _$disconnectableChildren?: Set<Disconnectable> = undefined;\n\n  protected _sanitizer: ValueSanitizer | undefined;\n\n  get tagName() {\n    return this.element.tagName;\n  }\n\n  // See comment in Disconnectable interface for why this is a getter\n  get _$isConnected() {\n    return this._$parent._$isConnected;\n  }\n\n  constructor(\n    element: HTMLElement,\n    name: string,\n    strings: ReadonlyArray<string>,\n    parent: Disconnectable,\n    options: RenderOptions | undefined\n  ) {\n    this.element = element;\n    this.name = name;\n    this._$parent = parent;\n    this.options = options;\n    if (strings.length > 2 || strings[0] !== '' || strings[1] !== '') {\n      this._$committedValue = new Array(strings.length - 1).fill(new String());\n      this.strings = strings;\n    } else {\n      this._$committedValue = nothing;\n    }\n    if (ENABLE_EXTRA_SECURITY_HOOKS) {\n      this._sanitizer = undefined;\n    }\n  }\n\n  /**\n   * Sets the value of this part by resolving the value from possibly multiple\n   * values and static strings and committing it to the DOM.\n   * If this part is single-valued, `this._strings` will be undefined, and the\n   * method will be called with a single value argument. If this part is\n   * multi-value, `this._strings` will be defined, and the method is called\n   * with the value array of the part's owning TemplateInstance, and an offset\n   * into the value array from which the values should be read.\n   * This method is overloaded this way to eliminate short-lived array slices\n   * of the template instance values, and allow a fast-path for single-valued\n   * parts.\n   *\n   * @param value The part value, or an array of values for multi-valued parts\n   * @param valueIndex the index to start reading values from. `undefined` for\n   *   single-valued parts\n   * @param noCommit causes the part to not commit its value to the DOM. Used\n   *   in hydration to prime attribute parts with their first-rendered value,\n   *   but not set the attribute, and in SSR to no-op the DOM operation and\n   *   capture the value for serialization.\n   *\n   * @internal\n   */\n  _$setValue(\n    value: unknown | Array<unknown>,\n    directiveParent: DirectiveParent = this,\n    valueIndex?: number,\n    noCommit?: boolean\n  ) {\n    const strings = this.strings;\n\n    // Whether any of the values has changed, for dirty-checking\n    let change = false;\n\n    if (strings === undefined) {\n      // Single-value binding case\n      value = resolveDirective(this, value, directiveParent, 0);\n      change =\n        !isPrimitive(value) ||\n        (value !== this._$committedValue && value !== noChange);\n      if (change) {\n        this._$committedValue = value;\n      }\n    } else {\n      // Interpolation case\n      const values = value as Array<unknown>;\n      value = strings[0];\n\n      let i, v;\n      for (i = 0; i < strings.length - 1; i++) {\n        v = resolveDirective(this, values[valueIndex! + i], directiveParent, i);\n\n        if (v === noChange) {\n          // If the user-provided value is `noChange`, use the previous value\n          v = (this._$committedValue as Array<unknown>)[i];\n        }\n        change ||=\n          !isPrimitive(v) || v !== (this._$committedValue as Array<unknown>)[i];\n        if (v === nothing) {\n          value = nothing;\n        } else if (value !== nothing) {\n          value += (v ?? '') + strings[i + 1];\n        }\n        // We always record each value, even if one is `nothing`, for future\n        // change detection.\n        (this._$committedValue as Array<unknown>)[i] = v;\n      }\n    }\n    if (change && !noCommit) {\n      this._commitValue(value);\n    }\n  }\n\n  /** @internal */\n  _commitValue(value: unknown) {\n    if (value === nothing) {\n      (wrap(this.element) as Element).removeAttribute(this.name);\n    } else {\n      if (ENABLE_EXTRA_SECURITY_HOOKS) {\n        if (this._sanitizer === undefined) {\n          this._sanitizer = sanitizerFactoryInternal(\n            this.element,\n            this.name,\n            'attribute'\n          );\n        }\n        value = this._sanitizer(value ?? '');\n      }\n      debugLogEvent?.({\n        kind: 'commit attribute',\n        element: this.element,\n        name: this.name,\n        value,\n        options: this.options,\n      });\n      (wrap(this.element) as Element).setAttribute(\n        this.name,\n        (value ?? '') as string\n      );\n    }\n  }\n}\n\nexport type {PropertyPart};\nclass PropertyPart extends AttributePart {\n  override readonly type = PROPERTY_PART;\n\n  /** @internal */\n  override _commitValue(value: unknown) {\n    if (ENABLE_EXTRA_SECURITY_HOOKS) {\n      if (this._sanitizer === undefined) {\n        this._sanitizer = sanitizerFactoryInternal(\n          this.element,\n          this.name,\n          'property'\n        );\n      }\n      value = this._sanitizer(value);\n    }\n    debugLogEvent?.({\n      kind: 'commit property',\n      element: this.element,\n      name: this.name,\n      value,\n      options: this.options,\n    });\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (this.element as any)[this.name] = value === nothing ? undefined : value;\n  }\n}\n\n// Temporary workaround for https://crbug.com/993268\n// Currently, any attribute starting with \"on\" is considered to be a\n// TrustedScript source. Such boolean attributes must be set to the equivalent\n// trusted emptyScript value.\nconst emptyStringForBooleanAttribute = trustedTypes\n  ? (trustedTypes.emptyScript as unknown as '')\n  : '';\n\nexport type {BooleanAttributePart};\nclass BooleanAttributePart extends AttributePart {\n  override readonly type = BOOLEAN_ATTRIBUTE_PART;\n\n  /** @internal */\n  override _commitValue(value: unknown) {\n    debugLogEvent?.({\n      kind: 'commit boolean attribute',\n      element: this.element,\n      name: this.name,\n      value: !!(value && value !== nothing),\n      options: this.options,\n    });\n    if (value && value !== nothing) {\n      (wrap(this.element) as Element).setAttribute(\n        this.name,\n        emptyStringForBooleanAttribute\n      );\n    } else {\n      (wrap(this.element) as Element).removeAttribute(this.name);\n    }\n  }\n}\n\ntype EventListenerWithOptions = EventListenerOrEventListenerObject &\n  Partial<AddEventListenerOptions>;\n\n/**\n * An AttributePart that manages an event listener via add/removeEventListener.\n *\n * This part works by adding itself as the event listener on an element, then\n * delegating to the value passed to it. This reduces the number of calls to\n * add/removeEventListener if the listener changes frequently, such as when an\n * inline function is used as a listener.\n *\n * Because event options are passed when adding listeners, we must take case\n * to add and remove the part as a listener when the event options change.\n */\nexport type {EventPart};\nclass EventPart extends AttributePart {\n  override readonly type = EVENT_PART;\n\n  constructor(\n    element: HTMLElement,\n    name: string,\n    strings: ReadonlyArray<string>,\n    parent: Disconnectable,\n    options: RenderOptions | undefined\n  ) {\n    super(element, name, strings, parent, options);\n\n    if (DEV_MODE && this.strings !== undefined) {\n      throw new Error(\n        `A \\`<${element.localName}>\\` has a \\`@${name}=...\\` listener with ` +\n          'invalid content. Event listeners in templates must have exactly ' +\n          'one expression and no surrounding text.'\n      );\n    }\n  }\n\n  // EventPart does not use the base _$setValue/_resolveValue implementation\n  // since the dirty checking is more complex\n  /** @internal */\n  override _$setValue(\n    newListener: unknown,\n    directiveParent: DirectiveParent = this\n  ) {\n    newListener =\n      resolveDirective(this, newListener, directiveParent, 0) ?? nothing;\n    if (newListener === noChange) {\n      return;\n    }\n    const oldListener = this._$committedValue;\n\n    // If the new value is nothing or any options change we have to remove the\n    // part as a listener.\n    const shouldRemoveListener =\n      (newListener === nothing && oldListener !== nothing) ||\n      (newListener as EventListenerWithOptions).capture !==\n        (oldListener as EventListenerWithOptions).capture ||\n      (newListener as EventListenerWithOptions).once !==\n        (oldListener as EventListenerWithOptions).once ||\n      (newListener as EventListenerWithOptions).passive !==\n        (oldListener as EventListenerWithOptions).passive;\n\n    // If the new value is not nothing and we removed the listener, we have\n    // to add the part as a listener.\n    const shouldAddListener =\n      newListener !== nothing &&\n      (oldListener === nothing || shouldRemoveListener);\n\n    debugLogEvent?.({\n      kind: 'commit event listener',\n      element: this.element,\n      name: this.name,\n      value: newListener,\n      options: this.options,\n      removeListener: shouldRemoveListener,\n      addListener: shouldAddListener,\n      oldListener,\n    });\n    if (shouldRemoveListener) {\n      this.element.removeEventListener(\n        this.name,\n        this,\n        oldListener as EventListenerWithOptions\n      );\n    }\n    if (shouldAddListener) {\n      // Beware: IE11 and Chrome 41 don't like using the listener as the\n      // options object. Figure out how to deal w/ this in IE11 - maybe\n      // patch addEventListener?\n      this.element.addEventListener(\n        this.name,\n        this,\n        newListener as EventListenerWithOptions\n      );\n    }\n    this._$committedValue = newListener;\n  }\n\n  handleEvent(event: Event) {\n    if (typeof this._$committedValue === 'function') {\n      this._$committedValue.call(this.options?.host ?? this.element, event);\n    } else {\n      (this._$committedValue as EventListenerObject).handleEvent(event);\n    }\n  }\n}\n\nexport type {ElementPart};\nclass ElementPart implements Disconnectable {\n  readonly type = ELEMENT_PART;\n\n  /** @internal */\n  __directive?: Directive;\n\n  // This is to ensure that every Part has a _$committedValue\n  _$committedValue: undefined;\n\n  /** @internal */\n  _$parent!: Disconnectable;\n\n  /** @internal */\n  _$disconnectableChildren?: Set<Disconnectable> = undefined;\n\n  options: RenderOptions | undefined;\n\n  constructor(\n    public element: Element,\n    parent: Disconnectable,\n    options: RenderOptions | undefined\n  ) {\n    this._$parent = parent;\n    this.options = options;\n  }\n\n  // See comment in Disconnectable interface for why this is a getter\n  get _$isConnected() {\n    return this._$parent._$isConnected;\n  }\n\n  _$setValue(value: unknown): void {\n    debugLogEvent?.({\n      kind: 'commit to element binding',\n      element: this.element,\n      value,\n      options: this.options,\n    });\n    resolveDirective(this, value);\n  }\n}\n\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LH object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-element, which re-exports all of lit-html.\n *\n * @private\n */\nexport const _$LH = {\n  // Used in lit-ssr\n  _boundAttributeSuffix: boundAttributeSuffix,\n  _marker: marker,\n  _markerMatch: markerMatch,\n  _HTML_RESULT: HTML_RESULT,\n  _getTemplateHtml: getTemplateHtml,\n  // Used in tests and private-ssr-support\n  _TemplateInstance: TemplateInstance,\n  _isIterable: isIterable,\n  _resolveDirective: resolveDirective,\n  _ChildPart: ChildPart,\n  _AttributePart: AttributePart,\n  _BooleanAttributePart: BooleanAttributePart,\n  _EventPart: EventPart,\n  _PropertyPart: PropertyPart,\n  _ElementPart: ElementPart,\n};\n\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n  ? global.litHtmlPolyfillSupportDevMode\n  : global.litHtmlPolyfillSupport;\npolyfillSupport?.(Template, ChildPart);\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for lit-html usage.\n(global.litHtmlVersions ??= []).push('2.7.4');\nif (DEV_MODE && global.litHtmlVersions.length > 1) {\n  issueWarning!(\n    'multiple-versions',\n    `Multiple versions of Lit loaded. ` +\n      `Loading multiple versions is not recommended.`\n  );\n}\n\n/**\n * Renders a value, usually a lit-html TemplateResult, to the container.\n *\n * This example renders the text \"Hello, Zoe!\" inside a paragraph tag, appending\n * it to the container `document.body`.\n *\n * ```js\n * import {html, render} from 'lit';\n *\n * const name = \"Zoe\";\n * render(html`<p>Hello, ${name}!</p>`, document.body);\n * ```\n *\n * @param value Any [renderable\n *   value](https://lit.dev/docs/templates/expressions/#child-expressions),\n *   typically a {@linkcode TemplateResult} created by evaluating a template tag\n *   like {@linkcode html} or {@linkcode svg}.\n * @param container A DOM container to render to. The first render will append\n *   the rendered value to the container, and subsequent renders will\n *   efficiently update the rendered value if the same result type was\n *   previously rendered there.\n * @param options See {@linkcode RenderOptions} for options documentation.\n * @see\n * {@link https://lit.dev/docs/libraries/standalone-templates/#rendering-lit-html-templates| Rendering Lit HTML Templates}\n */\nexport const render = (\n  value: unknown,\n  container: HTMLElement | DocumentFragment,\n  options?: RenderOptions\n): RootPart => {\n  if (DEV_MODE && container == null) {\n    // Give a clearer error message than\n    //     Uncaught TypeError: Cannot read properties of null (reading\n    //     '_$litPart$')\n    // which reads like an internal Lit error.\n    throw new TypeError(`The container to render into may not be ${container}`);\n  }\n  const renderId = DEV_MODE ? debugLogRenderId++ : 0;\n  const partOwnerNode = options?.renderBefore ?? container;\n  // This property needs to remain unminified.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  let part: ChildPart = (partOwnerNode as any)['_$litPart$'];\n  debugLogEvent?.({\n    kind: 'begin render',\n    id: renderId,\n    value,\n    container,\n    options,\n    part,\n  });\n  if (part === undefined) {\n    const endNode = options?.renderBefore ?? null;\n    // This property needs to remain unminified.\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (partOwnerNode as any)['_$litPart$'] = part = new ChildPart(\n      container.insertBefore(createMarker(), endNode),\n      endNode,\n      undefined,\n      options ?? {}\n    );\n  }\n  part._$setValue(value);\n  debugLogEvent?.({\n    kind: 'end render',\n    id: renderId,\n    value,\n    container,\n    options,\n    part,\n  });\n  return part as RootPart;\n};\n\nif (ENABLE_EXTRA_SECURITY_HOOKS) {\n  render.setSanitizer = setSanitizer;\n  render.createSanitizer = createSanitizer;\n  if (DEV_MODE) {\n    render._testOnlyClearSanitizerFactoryDoNotCallOrElse =\n      _testOnlyClearSanitizerFactoryDoNotCallOrElse;\n  }\n}\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/**\n * The main LitElement module, which defines the {@linkcode LitElement} base\n * class and related APIs.\n *\n *  LitElement components can define a template and a set of observed\n * properties. Changing an observed property triggers a re-render of the\n * element.\n *\n *  Import {@linkcode LitElement} and {@linkcode html} from this module to\n * create a component:\n *\n *  ```js\n * import {LitElement, html} from 'lit-element';\n *\n * class MyElement extends LitElement {\n *\n *   // Declare observed properties\n *   static get properties() {\n *     return {\n *       adjective: {}\n *     }\n *   }\n *\n *   constructor() {\n *     this.adjective = 'awesome';\n *   }\n *\n *   // Define the element's template\n *   render() {\n *     return html`<p>your ${adjective} template here</p>`;\n *   }\n * }\n *\n * customElements.define('my-element', MyElement);\n * ```\n *\n * `LitElement` extends {@linkcode ReactiveElement} and adds lit-html\n * templating. The `ReactiveElement` class is provided for users that want to\n * build their own custom element base classes that don't use lit-html.\n *\n * @packageDocumentation\n */\nimport {PropertyValues, ReactiveElement} from '@lit/reactive-element';\nimport {render, RenderOptions, noChange, RootPart} from 'lit-html';\nexport * from '@lit/reactive-element';\nexport * from 'lit-html';\n\nimport {LitUnstable} from 'lit-html';\nimport {ReactiveUnstable} from '@lit/reactive-element';\n\n/**\n * Contains types that are part of the unstable debug API.\n *\n * Everything in this API is not stable and may change or be removed in the future,\n * even on patch releases.\n */\n// eslint-disable-next-line @typescript-eslint/no-namespace\nexport namespace Unstable {\n  /**\n   * When Lit is running in dev mode and `window.emitLitDebugLogEvents` is true,\n   * we will emit 'lit-debug' events to window, with live details about the update and render\n   * lifecycle. These can be useful for writing debug tooling and visualizations.\n   *\n   * Please be aware that running with window.emitLitDebugLogEvents has performance overhead,\n   * making certain operations that are normally very cheap (like a no-op render) much slower,\n   * because we must copy data and dispatch events.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-namespace\n  export namespace DebugLog {\n    export type Entry =\n      | LitUnstable.DebugLog.Entry\n      | ReactiveUnstable.DebugLog.Entry;\n  }\n}\n\n// For backwards compatibility export ReactiveElement as UpdatingElement. Note,\n// IE transpilation requires exporting like this.\nexport const UpdatingElement = ReactiveElement;\n\nconst DEV_MODE = true;\n\nlet issueWarning: (code: string, warning: string) => void;\n\nif (DEV_MODE) {\n  // Ensure warnings are issued only 1x, even if multiple versions of Lit\n  // are loaded.\n  const issuedWarnings: Set<string | undefined> =\n    (globalThis.litIssuedWarnings ??= new Set());\n\n  // Issue a warning, if we haven't already.\n  issueWarning = (code: string, warning: string) => {\n    warning += ` See https://lit.dev/msg/${code} for more information.`;\n    if (!issuedWarnings.has(warning)) {\n      console.warn(warning);\n      issuedWarnings.add(warning);\n    }\n  };\n}\n\n/**\n * Base element class that manages element properties and attributes, and\n * renders a lit-html template.\n *\n * To define a component, subclass `LitElement` and implement a\n * `render` method to provide the component's template. Define properties\n * using the {@linkcode LitElement.properties properties} property or the\n * {@linkcode property} decorator.\n */\nexport class LitElement extends ReactiveElement {\n  /**\n   * Ensure this class is marked as `finalized` as an optimization ensuring\n   * it will not needlessly try to `finalize`.\n   *\n   * Note this property name is a string to prevent breaking Closure JS Compiler\n   * optimizations. See @lit/reactive-element for more information.\n   */\n  protected static override ['finalized'] = true;\n\n  // This property needs to remain unminified.\n  static ['_$litElement$'] = true;\n\n  /**\n   * @category rendering\n   */\n  readonly renderOptions: RenderOptions = {host: this};\n\n  private __childPart: RootPart | undefined = undefined;\n\n  /**\n   * @category rendering\n   */\n  protected override createRenderRoot() {\n    const renderRoot = super.createRenderRoot();\n    // When adoptedStyleSheets are shimmed, they are inserted into the\n    // shadowRoot by createRenderRoot. Adjust the renderBefore node so that\n    // any styles in Lit content render before adoptedStyleSheets. This is\n    // important so that adoptedStyleSheets have precedence over styles in\n    // the shadowRoot.\n    this.renderOptions.renderBefore ??= renderRoot!.firstChild as ChildNode;\n    return renderRoot;\n  }\n\n  /**\n   * Updates the element. This method reflects property values to attributes\n   * and calls `render` to render DOM via lit-html. Setting properties inside\n   * this method will *not* trigger another update.\n   * @param changedProperties Map of changed properties with old values\n   * @category updates\n   */\n  protected override update(changedProperties: PropertyValues) {\n    // Setting properties in `render` should not trigger an update. Since\n    // updates are allowed after super.update, it's important to call `render`\n    // before that.\n    const value = this.render();\n    if (!this.hasUpdated) {\n      this.renderOptions.isConnected = this.isConnected;\n    }\n    super.update(changedProperties);\n    this.__childPart = render(value, this.renderRoot, this.renderOptions);\n  }\n\n  /**\n   * Invoked when the component is added to the document's DOM.\n   *\n   * In `connectedCallback()` you should setup tasks that should only occur when\n   * the element is connected to the document. The most common of these is\n   * adding event listeners to nodes external to the element, like a keydown\n   * event handler added to the window.\n   *\n   * ```ts\n   * connectedCallback() {\n   *   super.connectedCallback();\n   *   addEventListener('keydown', this._handleKeydown);\n   * }\n   * ```\n   *\n   * Typically, anything done in `connectedCallback()` should be undone when the\n   * element is disconnected, in `disconnectedCallback()`.\n   *\n   * @category lifecycle\n   */\n  override connectedCallback() {\n    super.connectedCallback();\n    this.__childPart?.setConnected(true);\n  }\n\n  /**\n   * Invoked when the component is removed from the document's DOM.\n   *\n   * This callback is the main signal to the element that it may no longer be\n   * used. `disconnectedCallback()` should ensure that nothing is holding a\n   * reference to the element (such as event listeners added to nodes external\n   * to the element), so that it is free to be garbage collected.\n   *\n   * ```ts\n   * disconnectedCallback() {\n   *   super.disconnectedCallback();\n   *   window.removeEventListener('keydown', this._handleKeydown);\n   * }\n   * ```\n   *\n   * An element may be re-connected after being disconnected.\n   *\n   * @category lifecycle\n   */\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this.__childPart?.setConnected(false);\n  }\n\n  /**\n   * Invoked on each update to perform rendering tasks. This method may return\n   * any value renderable by lit-html's `ChildPart` - typically a\n   * `TemplateResult`. Setting properties inside this method will *not* trigger\n   * the element to update.\n   * @category rendering\n   */\n  protected render(): unknown {\n    return noChange;\n  }\n}\n\n// Install hydration if available\nglobalThis.litElementHydrateSupport?.({LitElement});\n\n// Apply polyfills if available\nconst polyfillSupport = DEV_MODE\n  ? globalThis.litElementPolyfillSupportDevMode\n  : globalThis.litElementPolyfillSupport;\npolyfillSupport?.({LitElement});\n\n// DEV mode warnings\nif (DEV_MODE) {\n  /* eslint-disable @typescript-eslint/no-explicit-any */\n  // Note, for compatibility with closure compilation, this access\n  // needs to be as a string property index.\n  (LitElement as any)['finalize'] = function (this: typeof LitElement) {\n    const finalized = (ReactiveElement as any).finalize.call(this);\n    if (!finalized) {\n      return false;\n    }\n    const warnRemovedOrRenamed = (obj: any, name: string, renamed = false) => {\n      if (obj.hasOwnProperty(name)) {\n        const ctorName = (typeof obj === 'function' ? obj : obj.constructor)\n          .name;\n        issueWarning(\n          renamed ? 'renamed-api' : 'removed-api',\n          `\\`${name}\\` is implemented on class ${ctorName}. It ` +\n            `has been ${renamed ? 'renamed' : 'removed'} ` +\n            `in this version of LitElement.`\n        );\n      }\n    };\n    warnRemovedOrRenamed(this, 'render');\n    warnRemovedOrRenamed(this, 'getStyles', true);\n    warnRemovedOrRenamed((this as typeof LitElement).prototype, 'adoptStyles');\n    return true;\n  };\n  /* eslint-enable @typescript-eslint/no-explicit-any */\n}\n\n/**\n * END USERS SHOULD NOT RELY ON THIS OBJECT.\n *\n * Private exports for use by other Lit packages, not intended for use by\n * external users.\n *\n * We currently do not make a mangled rollup build of the lit-ssr code. In order\n * to keep a number of (otherwise private) top-level exports  mangled in the\n * client side code, we export a _$LE object containing those members (or\n * helper methods for accessing private fields of those members), and then\n * re-export them for use in lit-ssr. This keeps lit-ssr agnostic to whether the\n * client-side code is being used in `dev` mode or `prod` mode.\n *\n * This has a unique name, to disambiguate it from private exports in\n * lit-html, since this module re-exports all of lit-html.\n *\n * @private\n */\nexport const _$LE = {\n  _$attributeToProperty: (\n    el: LitElement,\n    name: string,\n    value: string | null\n  ) => {\n    // eslint-disable-next-line\n    (el as any)._$attributeToProperty(name, value);\n  },\n  // eslint-disable-next-line\n  _$changedProperties: (el: LitElement) => (el as any)._$changedProperties,\n};\n\n// IMPORTANT: do not change the property name or the assignment expression.\n// This line will be used in regexes to search for LitElement usage.\n(globalThis.litElementVersions ??= []).push('3.3.2');\nif (DEV_MODE && globalThis.litElementVersions.length > 1) {\n  issueWarning!(\n    'multiple-versions',\n    `Multiple versions of Lit loaded. Loading multiple versions ` +\n      `is not recommended.`\n  );\n}\n", "import { LitElement, css, html } from \"lit\";\n\ntype CollapseDir = \"right\" | \"left\" | \"bottom\" | \"top\";\n\n/* eslint-disable @typescript-eslint/naming-convention */\nconst dirToIcon = {\n  right: \"\u25BA\",\n  left: \"\u25C0\uFE0E\",\n  bottom: \"\u25B2\",\n  top: \"\u25B2\",\n};\n/* eslint-enable @typescript-eslint/naming-convention */\n\nconst horizontalCollapseStyles = css`\n  .horizontal .content {\n    max-width: 100vw;\n    transition: max-width var(--transition), transform var(--transition),\n      padding-inline var(--transition);\n  }\n\n  .horizontal .content > * {\n    min-width: 0;\n  }\n\n  .horizontal .toggle {\n    padding-inline: var(--size-xs);\n  }\n\n  .horizontal.closed .toggle > .icon {\n    transform: scaleX(-1);\n  }\n\n  .horizontal.closed .content {\n    max-width: 0;\n    transform: scaleX(0);\n    padding-inline: 0;\n  }\n`;\n\nconst toLeftCollapseStyles = css`\n  .left .content {\n    transform-origin: left;\n  }\n\n  .left .toggle {\n    top: var(--size-xs);\n    right: var(--space-small);\n    width: var(--toggle-size);\n    height: auto;\n  }\n`;\n\nconst toRightCollapseStyles = css`\n  .right .content {\n    transform-origin: left;\n  }\n\n  .right .toggle {\n    order: -1;\n    top: var(--size-xs);\n    right: 0;\n    width: var(--toggle-size);\n    height: auto;\n  }\n`;\n\nconst verticalCollapseStyles = css`\n  .vertical {\n    flex-direction: column;\n  }\n\n  .vertical > .content {\n    max-height: 100vh;\n    transition: max-height var(--transition), transform var(--transition),\n      padding-block var(--transition);\n  }\n\n  .vertical > .toggle {\n    min-height: var(--size-l);\n  }\n\n  .vertical .toggle > .icon {\n    position: absolute;\n    right: var(--space-x-small);\n  }\n\n  .vertical.closed .toggle > .icon {\n    transform: rotate(180deg);\n  }\n\n  .vertical.content > ::slotted(*) {\n    min-height: 0;\n  }\n\n  .vertical.closed .content {\n    transform: scaleY(0);\n    max-height: 0;\n    padding-block: 0;\n  }\n`;\n\nconst toBottomCollapseStyles = css`\n  .bottom .toggle {\n    order: -1;\n    right: var(--space-medium);\n    bottom: 0;\n  }\n`;\n\nconst toTopCollapseStyles = css`\n  .top .toggle {\n    right: var(--size-xs);\n  }\n`;\n\nexport class Collapsible extends LitElement {\n  label: string | null;\n  // eslint-disable-next-line @typescript-eslint/naming-convention\n  start_state: string;\n  opened: boolean | null;\n  // Which direction should the collapsible collapse in? \"right\" = left to right, etc...\n  dir: CollapseDir;\n\n  static properties = {\n    label: {},\n    opened: { type: \"boolean\" },\n    start_state: {},\n    dir: {},\n  };\n\n  // Styles are scoped to this element: they won't conflict with styles\n  // on the main page or in other components. Styling API can be exposed\n  // via CSS custom properties.\n  static styles = [\n    css`\n      :host {\n        --transition: 0.4s var(--ease-3);\n        --toggle-size: 20px;\n        --accent-color: var(--stone-3);\n\n        display: block;\n        font-family: var(--font-family, sans-serif);\n        position: relative;\n        outline: 1px solid var(--accent-color, pink);\n        margin: var(--size-s);\n        border-radius: var(--radius-s);\n      }\n\n      .container {\n        display: flex;\n      }\n\n      .content {\n        overflow: auto;\n        transition: transform var(--transition);\n        padding: var(--size-fluid-1);\n      }\n\n      .toggle {\n        background-color: var(--accent-color);\n        font-size: var(--font-size-m);\n        display: grid;\n        place-content: center;\n        cursor: pointer;\n      }\n\n      .toggle > .icon {\n        transition: transform var(--transition);\n        user-select: none;\n        color: var(--color-action);\n      }\n    `,\n    horizontalCollapseStyles,\n    toRightCollapseStyles,\n    toLeftCollapseStyles,\n    verticalCollapseStyles,\n    toBottomCollapseStyles,\n    toTopCollapseStyles,\n  ];\n\n  constructor() {\n    super();\n    // Define reactive properties--updating a reactive property causes\n    // the component to update.\n\n    // By making opened a property we allow the user to set its initial state or toggle\n    // from outside the component\n    this.start_state = \"open\";\n\n    this.opened = null;\n    this.dir = \"top\";\n    this.label = null;\n  }\n\n  render() {\n    return html`\n      <div\n        class=\"container ${this.dir} ${this.dir === \"bottom\" ||\n        this.dir === \"top\"\n          ? \"vertical\"\n          : \"horizontal\"} ${this.isOpen ? \"open\" : \"closed\"}\"\n      >\n        <div class=\"content\">\n          <slot></slot>\n        </div>\n        <div\n          class=\"toggle\"\n          @click=${this.toggleOpen}\n          title=${this.isOpen ? \"Close collapsible\" : \"Open collapsible\"}\n        >\n          ${this.label ? html`<span>${this.label}</span>` : \"\"}\n          <span class=\"icon\"> ${dirToIcon[this.dir]} </span>\n        </div>\n      </div>\n    `;\n  }\n\n  get isOpen(): boolean {\n    if (this.opened === null) {\n      return this.start_state === \"open\";\n    }\n    return this.opened;\n  }\n\n  toggleOpen() {\n    if (this.opened === null) {\n      this.opened = this.start_state !== \"open\";\n      return;\n    }\n    this.opened = !this.opened;\n\n    // Trigger resize event so things inside the collapser are properly effected\n    window.dispatchEvent(new Event(\"resize\"));\n  }\n}\ncustomElements.define(\"shiny-collapsible\", Collapsible);\n", "import React from \"react\";\nimport type { ColorResult } from \"react-color\";\nimport { SketchPicker } from \"react-color\";\nimport { createRoot } from \"react-dom/client\";\nimport { makeValueChangeEmitter } from \"./make_value_change_emitter\";\nimport {\n  CustomElementInputValue,\n  makeInputBinding,\n} from \"./shiny/make-input-binding\";\n\n// Color Picker React component\nfunction ColorPickerReact({\n  currentColorCallback,\n}: {\n  currentColorCallback: (x: string) => void;\n}) {\n  const [currentColor, setCurrentColor] = React.useState<string>(\"#fff\");\n\n  function handleChange(color: ColorResult) {\n    setCurrentColor(color.hex);\n    currentColorCallback(color.hex);\n  }\n\n  return <SketchPicker color={currentColor} onChange={handleChange} />;\n}\n\n// Color Picker WebComponent\nexport class ColorPicker\n  extends HTMLElement\n  implements CustomElementInputValue<string>\n{\n  value: string;\n  onChangeCallback: (x: boolean) => void;\n  onValueChange = makeValueChangeEmitter(this, this.id);\n\n  constructor() {\n    super();\n    this.value = \"#ffffff\";\n    this.onChangeCallback = (x: boolean) => {};\n  }\n\n  currentColorCallback(x: string): void {\n    this.value = x;\n    this.notifyChange();\n  }\n\n  notifyChange() {\n    this.onChangeCallback(true); // Tell the output binding we've changed\n    this.onValueChange({ type: \"string\", value: this.value });\n  }\n\n  connectedCallback() {\n    const shadowRoot = this.attachShadow({ mode: \"open\" });\n    const root = createRoot(shadowRoot);\n\n    setTimeout(() => {\n      this.notifyChange();\n    }, 0);\n\n    root.render(\n      <ColorPickerReact\n        currentColorCallback={(x) => this.currentColorCallback(x)}\n      />\n    );\n  }\n}\n\ncustomElements.define(\"color-picker\", ColorPicker);\n\nmakeInputBinding(\"color-picker\");\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"color-picker\": ColorPicker;\n  }\n}\n", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport reactCSS from 'reactcss';\n\nimport { ColorWrap, Alpha } from '../common';\nimport AlphaPointer from './AlphaPointer';\n\nexport var AlphaPicker = function AlphaPicker(_ref) {\n  var rgb = _ref.rgb,\n      hsl = _ref.hsl,\n      width = _ref.width,\n      height = _ref.height,\n      onChange = _ref.onChange,\n      direction = _ref.direction,\n      style = _ref.style,\n      renderers = _ref.renderers,\n      pointer = _ref.pointer,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        position: 'relative',\n        width: width,\n        height: height\n      },\n      alpha: {\n        radius: '2px',\n        style: style\n      }\n    }\n  });\n\n  return React.createElement(\n    'div',\n    { style: styles.picker, className: 'alpha-picker ' + className },\n    React.createElement(Alpha, _extends({}, styles.alpha, {\n      rgb: rgb,\n      hsl: hsl,\n      pointer: pointer,\n      renderers: renderers,\n      onChange: onChange,\n      direction: direction\n    }))\n  );\n};\n\nAlphaPicker.defaultProps = {\n  width: '316px',\n  height: '16px',\n  direction: 'horizontal',\n  pointer: AlphaPointer\n};\n\nexport default ColorWrap(AlphaPicker);", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component, PureComponent } from 'react';\nimport reactCSS from 'reactcss';\nimport * as alpha from '../../helpers/alpha';\n\nimport Checkboard from './Checkboard';\n\nexport var Alpha = function (_ref) {\n  _inherits(Alpha, _ref);\n\n  function Alpha() {\n    var _ref2;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Alpha);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = Alpha.__proto__ || Object.getPrototypeOf(Alpha)).call.apply(_ref2, [this].concat(args))), _this), _this.handleChange = function (e) {\n      var change = alpha.calculateChange(e, _this.props.hsl, _this.props.direction, _this.props.a, _this.container);\n      change && typeof _this.props.onChange === 'function' && _this.props.onChange(change, e);\n    }, _this.handleMouseDown = function (e) {\n      _this.handleChange(e);\n      window.addEventListener('mousemove', _this.handleChange);\n      window.addEventListener('mouseup', _this.handleMouseUp);\n    }, _this.handleMouseUp = function () {\n      _this.unbindEventListeners();\n    }, _this.unbindEventListeners = function () {\n      window.removeEventListener('mousemove', _this.handleChange);\n      window.removeEventListener('mouseup', _this.handleMouseUp);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Alpha, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.unbindEventListeners();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var rgb = this.props.rgb;\n      var styles = reactCSS({\n        'default': {\n          alpha: {\n            absolute: '0px 0px 0px 0px',\n            borderRadius: this.props.radius\n          },\n          checkboard: {\n            absolute: '0px 0px 0px 0px',\n            overflow: 'hidden',\n            borderRadius: this.props.radius\n          },\n          gradient: {\n            absolute: '0px 0px 0px 0px',\n            background: 'linear-gradient(to right, rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 0) 0%,\\n           rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 1) 100%)',\n            boxShadow: this.props.shadow,\n            borderRadius: this.props.radius\n          },\n          container: {\n            position: 'relative',\n            height: '100%',\n            margin: '0 3px'\n          },\n          pointer: {\n            position: 'absolute',\n            left: rgb.a * 100 + '%'\n          },\n          slider: {\n            width: '4px',\n            borderRadius: '1px',\n            height: '8px',\n            boxShadow: '0 0 2px rgba(0, 0, 0, .6)',\n            background: '#fff',\n            marginTop: '1px',\n            transform: 'translateX(-2px)'\n          }\n        },\n        'vertical': {\n          gradient: {\n            background: 'linear-gradient(to bottom, rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 0) 0%,\\n           rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 1) 100%)'\n          },\n          pointer: {\n            left: 0,\n            top: rgb.a * 100 + '%'\n          }\n        },\n        'overwrite': _extends({}, this.props.style)\n      }, {\n        vertical: this.props.direction === 'vertical',\n        overwrite: true\n      });\n\n      return React.createElement(\n        'div',\n        { style: styles.alpha },\n        React.createElement(\n          'div',\n          { style: styles.checkboard },\n          React.createElement(Checkboard, { renderers: this.props.renderers })\n        ),\n        React.createElement('div', { style: styles.gradient }),\n        React.createElement(\n          'div',\n          {\n            style: styles.container,\n            ref: function ref(container) {\n              return _this2.container = container;\n            },\n            onMouseDown: this.handleMouseDown,\n            onTouchMove: this.handleChange,\n            onTouchStart: this.handleChange\n          },\n          React.createElement(\n            'div',\n            { style: styles.pointer },\n            this.props.pointer ? React.createElement(this.props.pointer, this.props) : React.createElement('div', { style: styles.slider })\n          )\n        )\n      );\n    }\n  }]);\n\n  return Alpha;\n}(PureComponent || Component);\n\nexport default Alpha;", "export var calculateChange = function calculateChange(e, hsl, direction, initialA, container) {\n  var containerWidth = container.clientWidth;\n  var containerHeight = container.clientHeight;\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\n\n  if (direction === 'vertical') {\n    var a = void 0;\n    if (top < 0) {\n      a = 0;\n    } else if (top > containerHeight) {\n      a = 1;\n    } else {\n      a = Math.round(top * 100 / containerHeight) / 100;\n    }\n\n    if (hsl.a !== a) {\n      return {\n        h: hsl.h,\n        s: hsl.s,\n        l: hsl.l,\n        a: a,\n        source: 'rgb'\n      };\n    }\n  } else {\n    var _a = void 0;\n    if (left < 0) {\n      _a = 0;\n    } else if (left > containerWidth) {\n      _a = 1;\n    } else {\n      _a = Math.round(left * 100 / containerWidth) / 100;\n    }\n\n    if (initialA !== _a) {\n      return {\n        h: hsl.h,\n        s: hsl.s,\n        l: hsl.l,\n        a: _a,\n        source: 'rgb'\n      };\n    }\n  }\n  return null;\n};", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React, { isValidElement } from 'react';\nimport reactCSS from 'reactcss';\nimport * as checkboard from '../../helpers/checkboard';\n\nexport var Checkboard = function Checkboard(_ref) {\n  var white = _ref.white,\n      grey = _ref.grey,\n      size = _ref.size,\n      renderers = _ref.renderers,\n      borderRadius = _ref.borderRadius,\n      boxShadow = _ref.boxShadow,\n      children = _ref.children;\n\n  var styles = reactCSS({\n    'default': {\n      grid: {\n        borderRadius: borderRadius,\n        boxShadow: boxShadow,\n        absolute: '0px 0px 0px 0px',\n        background: 'url(' + checkboard.get(white, grey, size, renderers.canvas) + ') center left'\n      }\n    }\n  });\n  return isValidElement(children) ? React.cloneElement(children, _extends({}, children.props, { style: _extends({}, children.props.style, styles.grid) })) : React.createElement('div', { style: styles.grid });\n};\n\nCheckboard.defaultProps = {\n  size: 8,\n  white: 'transparent',\n  grey: 'rgba(0,0,0,.08)',\n  renderers: {}\n};\n\nexport default Checkboard;", "var checkboardCache = {};\n\nexport var render = function render(c1, c2, size, serverCanvas) {\n  if (typeof document === 'undefined' && !serverCanvas) {\n    return null;\n  }\n  var canvas = serverCanvas ? new serverCanvas() : document.createElement('canvas');\n  canvas.width = size * 2;\n  canvas.height = size * 2;\n  var ctx = canvas.getContext('2d');\n  if (!ctx) {\n    return null;\n  } // If no context can be found, return early.\n  ctx.fillStyle = c1;\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\n  ctx.fillStyle = c2;\n  ctx.fillRect(0, 0, size, size);\n  ctx.translate(size, size);\n  ctx.fillRect(0, 0, size, size);\n  return canvas.toDataURL();\n};\n\nexport var get = function get(c1, c2, size, serverCanvas) {\n  var key = c1 + '-' + c2 + '-' + size + (serverCanvas ? '-server' : '');\n\n  if (checkboardCache[key]) {\n    return checkboardCache[key];\n  }\n\n  var checkboard = render(c1, c2, size, serverCanvas);\n  checkboardCache[key] = checkboard;\n  return checkboard;\n};", "var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component, PureComponent } from 'react';\nimport reactCSS from 'reactcss';\n\nvar DEFAULT_ARROW_OFFSET = 1;\n\nvar UP_KEY_CODE = 38;\nvar DOWN_KEY_CODE = 40;\nvar VALID_KEY_CODES = [UP_KEY_CODE, DOWN_KEY_CODE];\nvar isValidKeyCode = function isValidKeyCode(keyCode) {\n  return VALID_KEY_CODES.indexOf(keyCode) > -1;\n};\nvar getNumberValue = function getNumberValue(value) {\n  return Number(String(value).replace(/%/g, ''));\n};\n\nvar idCounter = 1;\n\nexport var EditableInput = function (_ref) {\n  _inherits(EditableInput, _ref);\n\n  function EditableInput(props) {\n    _classCallCheck(this, EditableInput);\n\n    var _this = _possibleConstructorReturn(this, (EditableInput.__proto__ || Object.getPrototypeOf(EditableInput)).call(this));\n\n    _this.handleBlur = function () {\n      if (_this.state.blurValue) {\n        _this.setState({ value: _this.state.blurValue, blurValue: null });\n      }\n    };\n\n    _this.handleChange = function (e) {\n      _this.setUpdatedValue(e.target.value, e);\n    };\n\n    _this.handleKeyDown = function (e) {\n      // In case `e.target.value` is a percentage remove the `%` character\n      // and update accordingly with a percentage\n      // https://github.com/casesandberg/react-color/issues/383\n      var value = getNumberValue(e.target.value);\n      if (!isNaN(value) && isValidKeyCode(e.keyCode)) {\n        var offset = _this.getArrowOffset();\n        var updatedValue = e.keyCode === UP_KEY_CODE ? value + offset : value - offset;\n\n        _this.setUpdatedValue(updatedValue, e);\n      }\n    };\n\n    _this.handleDrag = function (e) {\n      if (_this.props.dragLabel) {\n        var newValue = Math.round(_this.props.value + e.movementX);\n        if (newValue >= 0 && newValue <= _this.props.dragMax) {\n          _this.props.onChange && _this.props.onChange(_this.getValueObjectWithLabel(newValue), e);\n        }\n      }\n    };\n\n    _this.handleMouseDown = function (e) {\n      if (_this.props.dragLabel) {\n        e.preventDefault();\n        _this.handleDrag(e);\n        window.addEventListener('mousemove', _this.handleDrag);\n        window.addEventListener('mouseup', _this.handleMouseUp);\n      }\n    };\n\n    _this.handleMouseUp = function () {\n      _this.unbindEventListeners();\n    };\n\n    _this.unbindEventListeners = function () {\n      window.removeEventListener('mousemove', _this.handleDrag);\n      window.removeEventListener('mouseup', _this.handleMouseUp);\n    };\n\n    _this.state = {\n      value: String(props.value).toUpperCase(),\n      blurValue: String(props.value).toUpperCase()\n    };\n\n    _this.inputId = 'rc-editable-input-' + idCounter++;\n    return _this;\n  }\n\n  _createClass(EditableInput, [{\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (this.props.value !== this.state.value && (prevProps.value !== this.props.value || prevState.value !== this.state.value)) {\n        if (this.input === document.activeElement) {\n          this.setState({ blurValue: String(this.props.value).toUpperCase() });\n        } else {\n          this.setState({ value: String(this.props.value).toUpperCase(), blurValue: !this.state.blurValue && String(this.props.value).toUpperCase() });\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.unbindEventListeners();\n    }\n  }, {\n    key: 'getValueObjectWithLabel',\n    value: function getValueObjectWithLabel(value) {\n      return _defineProperty({}, this.props.label, value);\n    }\n  }, {\n    key: 'getArrowOffset',\n    value: function getArrowOffset() {\n      return this.props.arrowOffset || DEFAULT_ARROW_OFFSET;\n    }\n  }, {\n    key: 'setUpdatedValue',\n    value: function setUpdatedValue(value, e) {\n      var onChangeValue = this.props.label ? this.getValueObjectWithLabel(value) : value;\n      this.props.onChange && this.props.onChange(onChangeValue, e);\n\n      this.setState({ value: value });\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var styles = reactCSS({\n        'default': {\n          wrap: {\n            position: 'relative'\n          }\n        },\n        'user-override': {\n          wrap: this.props.style && this.props.style.wrap ? this.props.style.wrap : {},\n          input: this.props.style && this.props.style.input ? this.props.style.input : {},\n          label: this.props.style && this.props.style.label ? this.props.style.label : {}\n        },\n        'dragLabel-true': {\n          label: {\n            cursor: 'ew-resize'\n          }\n        }\n      }, {\n        'user-override': true\n      }, this.props);\n\n      return React.createElement(\n        'div',\n        { style: styles.wrap },\n        React.createElement('input', {\n          id: this.inputId,\n          style: styles.input,\n          ref: function ref(input) {\n            return _this2.input = input;\n          },\n          value: this.state.value,\n          onKeyDown: this.handleKeyDown,\n          onChange: this.handleChange,\n          onBlur: this.handleBlur,\n          placeholder: this.props.placeholder,\n          spellCheck: 'false'\n        }),\n        this.props.label && !this.props.hideLabel ? React.createElement(\n          'label',\n          {\n            htmlFor: this.inputId,\n            style: styles.label,\n            onMouseDown: this.handleMouseDown\n          },\n          this.props.label\n        ) : null\n      );\n    }\n  }]);\n\n  return EditableInput;\n}(PureComponent || Component);\n\nexport default EditableInput;", "var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component, PureComponent } from 'react';\nimport reactCSS from 'reactcss';\nimport * as hue from '../../helpers/hue';\n\nexport var Hue = function (_ref) {\n  _inherits(Hue, _ref);\n\n  function Hue() {\n    var _ref2;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Hue);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = Hue.__proto__ || Object.getPrototypeOf(Hue)).call.apply(_ref2, [this].concat(args))), _this), _this.handleChange = function (e) {\n      var change = hue.calculateChange(e, _this.props.direction, _this.props.hsl, _this.container);\n      change && typeof _this.props.onChange === 'function' && _this.props.onChange(change, e);\n    }, _this.handleMouseDown = function (e) {\n      _this.handleChange(e);\n      window.addEventListener('mousemove', _this.handleChange);\n      window.addEventListener('mouseup', _this.handleMouseUp);\n    }, _this.handleMouseUp = function () {\n      _this.unbindEventListeners();\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Hue, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.unbindEventListeners();\n    }\n  }, {\n    key: 'unbindEventListeners',\n    value: function unbindEventListeners() {\n      window.removeEventListener('mousemove', this.handleChange);\n      window.removeEventListener('mouseup', this.handleMouseUp);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props$direction = this.props.direction,\n          direction = _props$direction === undefined ? 'horizontal' : _props$direction;\n\n\n      var styles = reactCSS({\n        'default': {\n          hue: {\n            absolute: '0px 0px 0px 0px',\n            borderRadius: this.props.radius,\n            boxShadow: this.props.shadow\n          },\n          container: {\n            padding: '0 2px',\n            position: 'relative',\n            height: '100%',\n            borderRadius: this.props.radius\n          },\n          pointer: {\n            position: 'absolute',\n            left: this.props.hsl.h * 100 / 360 + '%'\n          },\n          slider: {\n            marginTop: '1px',\n            width: '4px',\n            borderRadius: '1px',\n            height: '8px',\n            boxShadow: '0 0 2px rgba(0, 0, 0, .6)',\n            background: '#fff',\n            transform: 'translateX(-2px)'\n          }\n        },\n        'vertical': {\n          pointer: {\n            left: '0px',\n            top: -(this.props.hsl.h * 100 / 360) + 100 + '%'\n          }\n        }\n      }, { vertical: direction === 'vertical' });\n\n      return React.createElement(\n        'div',\n        { style: styles.hue },\n        React.createElement(\n          'div',\n          {\n            className: 'hue-' + direction,\n            style: styles.container,\n            ref: function ref(container) {\n              return _this2.container = container;\n            },\n            onMouseDown: this.handleMouseDown,\n            onTouchMove: this.handleChange,\n            onTouchStart: this.handleChange\n          },\n          React.createElement(\n            'style',\n            null,\n            '\\n            .hue-horizontal {\\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n\\n            .hue-vertical {\\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n          '\n          ),\n          React.createElement(\n            'div',\n            { style: styles.pointer },\n            this.props.pointer ? React.createElement(this.props.pointer, this.props) : React.createElement('div', { style: styles.slider })\n          )\n        )\n      );\n    }\n  }]);\n\n  return Hue;\n}(PureComponent || Component);\n\nexport default Hue;", "export var calculateChange = function calculateChange(e, direction, hsl, container) {\n  var containerWidth = container.clientWidth;\n  var containerHeight = container.clientHeight;\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\n\n  if (direction === 'vertical') {\n    var h = void 0;\n    if (top < 0) {\n      h = 359;\n    } else if (top > containerHeight) {\n      h = 0;\n    } else {\n      var percent = -(top * 100 / containerHeight) + 100;\n      h = 360 * percent / 100;\n    }\n\n    if (hsl.h !== h) {\n      return {\n        h: h,\n        s: hsl.s,\n        l: hsl.l,\n        a: hsl.a,\n        source: 'hsl'\n      };\n    }\n  } else {\n    var _h = void 0;\n    if (left < 0) {\n      _h = 0;\n    } else if (left > containerWidth) {\n      _h = 359;\n    } else {\n      var _percent = left * 100 / containerWidth;\n      _h = 360 * _percent / 100;\n    }\n\n    if (hsl.h !== _h) {\n      return {\n        h: _h,\n        s: hsl.s,\n        l: hsl.l,\n        a: hsl.a,\n        source: 'hsl'\n      };\n    }\n  }\n  return null;\n};", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\n\nexport var Raised = function Raised(_ref) {\n  var zDepth = _ref.zDepth,\n      radius = _ref.radius,\n      background = _ref.background,\n      children = _ref.children,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles;\n\n  var styles = reactCSS(merge({\n    'default': {\n      wrap: {\n        position: 'relative',\n        display: 'inline-block'\n      },\n      content: {\n        position: 'relative'\n      },\n      bg: {\n        absolute: '0px 0px 0px 0px',\n        boxShadow: '0 ' + zDepth + 'px ' + zDepth * 4 + 'px rgba(0,0,0,.24)',\n        borderRadius: radius,\n        background: background\n      }\n    },\n    'zDepth-0': {\n      bg: {\n        boxShadow: 'none'\n      }\n    },\n\n    'zDepth-1': {\n      bg: {\n        boxShadow: '0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)'\n      }\n    },\n    'zDepth-2': {\n      bg: {\n        boxShadow: '0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)'\n      }\n    },\n    'zDepth-3': {\n      bg: {\n        boxShadow: '0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)'\n      }\n    },\n    'zDepth-4': {\n      bg: {\n        boxShadow: '0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)'\n      }\n    },\n    'zDepth-5': {\n      bg: {\n        boxShadow: '0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)'\n      }\n    },\n    'square': {\n      bg: {\n        borderRadius: '0'\n      }\n    },\n    'circle': {\n      bg: {\n        borderRadius: '50%'\n      }\n    }\n  }, passedStyles), { 'zDepth-1': zDepth === 1 });\n\n  return React.createElement(\n    'div',\n    { style: styles.wrap },\n    React.createElement('div', { style: styles.bg }),\n    React.createElement(\n      'div',\n      { style: styles.content },\n      children\n    )\n  );\n};\n\nRaised.propTypes = {\n  background: PropTypes.string,\n  zDepth: PropTypes.oneOf([0, 1, 2, 3, 4, 5]),\n  radius: PropTypes.number,\n  styles: PropTypes.object\n};\n\nRaised.defaultProps = {\n  background: '#fff',\n  zDepth: 1,\n  radius: 2,\n  styles: {}\n};\n\nexport default Raised;", "/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nexport default listCacheClear;\n", "/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nexport default eq;\n", "import eq from './eq.js';\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nexport default assocIndexOf;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nexport default listCacheDelete;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nexport default listCacheGet;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nexport default listCacheHas;\n", "import assocIndexOf from './_assocIndexOf.js';\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nexport default listCacheSet;\n", "import listCacheClear from './_listCacheClear.js';\nimport listCacheDelete from './_listCacheDelete.js';\nimport listCacheGet from './_listCacheGet.js';\nimport listCacheHas from './_listCacheHas.js';\nimport listCacheSet from './_listCacheSet.js';\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nexport default ListCache;\n", "import ListCache from './_ListCache.js';\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nexport default stackClear;\n", "/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nexport default stackDelete;\n", "/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nexport default stackGet;\n", "/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nexport default stackHas;\n", "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nexport default freeGlobal;\n", "import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nexport default root;\n", "import root from './_root.js';\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nexport default Symbol;\n", "import Symbol from './_Symbol.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nexport default getRawTag;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nexport default objectToString;\n", "import Symbol from './_Symbol.js';\nimport getRawTag from './_getRawTag.js';\nimport objectToString from './_objectToString.js';\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nexport default baseGetTag;\n", "/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nexport default isObject;\n", "import baseGetTag from './_baseGetTag.js';\nimport isObject from './isObject.js';\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nexport default isFunction;\n", "import root from './_root.js';\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nexport default coreJsData;\n", "import coreJsData from './_coreJsData.js';\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nexport default isMasked;\n", "/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nexport default toSource;\n", "import isFunction from './isFunction.js';\nimport isMasked from './_isMasked.js';\nimport isObject from './isObject.js';\nimport toSource from './_toSource.js';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nexport default baseIsNative;\n", "/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nexport default getValue;\n", "import baseIsNative from './_baseIsNative.js';\nimport getValue from './_getValue.js';\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nexport default getNative;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nexport default Map;\n", "import getNative from './_getNative.js';\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nexport default nativeCreate;\n", "import nativeCreate from './_nativeCreate.js';\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nexport default hashClear;\n", "/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default hashDelete;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nexport default hashGet;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nexport default hashHas;\n", "import nativeCreate from './_nativeCreate.js';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nexport default hashSet;\n", "import hashClear from './_hashClear.js';\nimport hashDelete from './_hashDelete.js';\nimport hashGet from './_hashGet.js';\nimport hashHas from './_hashHas.js';\nimport hashSet from './_hashSet.js';\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nexport default Hash;\n", "import Hash from './_Hash.js';\nimport ListCache from './_ListCache.js';\nimport Map from './_Map.js';\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nexport default mapCacheClear;\n", "/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nexport default isKeyable;\n", "import isKeyable from './_isKeyable.js';\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nexport default getMapData;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nexport default mapCacheDelete;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nexport default mapCacheGet;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nexport default mapCacheHas;\n", "import getMapData from './_getMapData.js';\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nexport default mapCacheSet;\n", "import mapCacheClear from './_mapCacheClear.js';\nimport mapCacheDelete from './_mapCacheDelete.js';\nimport mapCacheGet from './_mapCacheGet.js';\nimport mapCacheHas from './_mapCacheHas.js';\nimport mapCacheSet from './_mapCacheSet.js';\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nexport default MapCache;\n", "import ListCache from './_ListCache.js';\nimport Map from './_Map.js';\nimport MapCache from './_MapCache.js';\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nexport default stackSet;\n", "import ListCache from './_ListCache.js';\nimport stackClear from './_stackClear.js';\nimport stackDelete from './_stackDelete.js';\nimport stackGet from './_stackGet.js';\nimport stackHas from './_stackHas.js';\nimport stackSet from './_stackSet.js';\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nexport default Stack;\n", "import getNative from './_getNative.js';\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nexport default defineProperty;\n", "import defineProperty from './_defineProperty.js';\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nexport default baseAssignValue;\n", "import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignMergeValue;\n", "/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nexport default createBaseFor;\n", "import createBaseFor from './_createBaseFor.js';\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nexport default baseFor;\n", "import root from './_root.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nexport default cloneBuffer;\n", "import root from './_root.js';\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nexport default Uint8Array;\n", "import Uint8Array from './_Uint8Array.js';\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nexport default cloneArrayBuffer;\n", "import cloneArrayBuffer from './_cloneArrayBuffer.js';\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nexport default cloneTypedArray;\n", "/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nexport default copyArray;\n", "import isObject from './isObject.js';\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nexport default baseCreate;\n", "/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nexport default overArg;\n", "import overArg from './_overArg.js';\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nexport default getPrototype;\n", "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nexport default isPrototype;\n", "import baseCreate from './_baseCreate.js';\nimport getPrototype from './_getPrototype.js';\nimport isPrototype from './_isPrototype.js';\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nexport default initCloneObject;\n", "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nexport default isObjectLike;\n", "import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nexport default baseIsArguments;\n", "import baseIsArguments from './_baseIsArguments.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nexport default isArguments;\n", "/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nexport default isArray;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nexport default isLength;\n", "import isFunction from './isFunction.js';\nimport isLength from './isLength.js';\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nexport default isArrayLike;\n", "import isArrayLike from './isArrayLike.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nexport default isArrayLikeObject;\n", "/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nexport default stubFalse;\n", "import root from './_root.js';\nimport stubFalse from './stubFalse.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nexport default isBuffer;\n", "import baseGetTag from './_baseGetTag.js';\nimport getPrototype from './_getPrototype.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nexport default isPlainObject;\n", "import baseGetTag from './_baseGetTag.js';\nimport isLength from './isLength.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nexport default baseIsTypedArray;\n", "/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nexport default baseUnary;\n", "import freeGlobal from './_freeGlobal.js';\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nexport default nodeUtil;\n", "import baseIsTypedArray from './_baseIsTypedArray.js';\nimport baseUnary from './_baseUnary.js';\nimport nodeUtil from './_nodeUtil.js';\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nexport default isTypedArray;\n", "/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nexport default safeGet;\n", "import baseAssignValue from './_baseAssignValue.js';\nimport eq from './eq.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nexport default assignValue;\n", "import assignValue from './_assignValue.js';\nimport baseAssignValue from './_baseAssignValue.js';\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nexport default copyObject;\n", "/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nexport default baseTimes;\n", "/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nexport default isIndex;\n", "import baseTimes from './_baseTimes.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isIndex from './_isIndex.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default arrayLikeKeys;\n", "/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default nativeKeysIn;\n", "import isObject from './isObject.js';\nimport isPrototype from './_isPrototype.js';\nimport nativeKeysIn from './_nativeKeysIn.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeysIn;\n", "import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeysIn from './_baseKeysIn.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nexport default keysIn;\n", "import copyObject from './_copyObject.js';\nimport keysIn from './keysIn.js';\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nexport default toPlainObject;\n", "import assignMergeValue from './_assignMergeValue.js';\nimport cloneBuffer from './_cloneBuffer.js';\nimport cloneTypedArray from './_cloneTypedArray.js';\nimport copyArray from './_copyArray.js';\nimport initCloneObject from './_initCloneObject.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isArrayLikeObject from './isArrayLikeObject.js';\nimport isBuffer from './isBuffer.js';\nimport isFunction from './isFunction.js';\nimport isObject from './isObject.js';\nimport isPlainObject from './isPlainObject.js';\nimport isTypedArray from './isTypedArray.js';\nimport safeGet from './_safeGet.js';\nimport toPlainObject from './toPlainObject.js';\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nexport default baseMergeDeep;\n", "import Stack from './_Stack.js';\nimport assignMergeValue from './_assignMergeValue.js';\nimport baseFor from './_baseFor.js';\nimport baseMergeDeep from './_baseMergeDeep.js';\nimport isObject from './isObject.js';\nimport keysIn from './keysIn.js';\nimport safeGet from './_safeGet.js';\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nexport default baseMerge;\n", "/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nexport default identity;\n", "/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nexport default apply;\n", "import apply from './_apply.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nexport default overRest;\n", "/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nexport default constant;\n", "import constant from './constant.js';\nimport defineProperty from './_defineProperty.js';\nimport identity from './identity.js';\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nexport default baseSetToString;\n", "/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nexport default shortOut;\n", "import baseSetToString from './_baseSetToString.js';\nimport shortOut from './_shortOut.js';\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nexport default setToString;\n", "import identity from './identity.js';\nimport overRest from './_overRest.js';\nimport setToString from './_setToString.js';\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nexport default baseRest;\n", "import eq from './eq.js';\nimport isArrayLike from './isArrayLike.js';\nimport isIndex from './_isIndex.js';\nimport isObject from './isObject.js';\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nexport default isIterateeCall;\n", "import baseRest from './_baseRest.js';\nimport isIterateeCall from './_isIterateeCall.js';\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nexport default createAssigner;\n", "import baseMerge from './_baseMerge.js';\nimport createAssigner from './_createAssigner.js';\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nexport default merge;\n", "var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component, PureComponent } from 'react';\nimport reactCSS from 'reactcss';\nimport throttle from 'lodash-es/throttle';\nimport * as saturation from '../../helpers/saturation';\n\nexport var Saturation = function (_ref) {\n  _inherits(Saturation, _ref);\n\n  function Saturation(props) {\n    _classCallCheck(this, Saturation);\n\n    var _this = _possibleConstructorReturn(this, (Saturation.__proto__ || Object.getPrototypeOf(Saturation)).call(this, props));\n\n    _this.handleChange = function (e) {\n      typeof _this.props.onChange === 'function' && _this.throttle(_this.props.onChange, saturation.calculateChange(e, _this.props.hsl, _this.container), e);\n    };\n\n    _this.handleMouseDown = function (e) {\n      _this.handleChange(e);\n      var renderWindow = _this.getContainerRenderWindow();\n      renderWindow.addEventListener('mousemove', _this.handleChange);\n      renderWindow.addEventListener('mouseup', _this.handleMouseUp);\n    };\n\n    _this.handleMouseUp = function () {\n      _this.unbindEventListeners();\n    };\n\n    _this.throttle = throttle(function (fn, data, e) {\n      fn(data, e);\n    }, 50);\n    return _this;\n  }\n\n  _createClass(Saturation, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.throttle.cancel();\n      this.unbindEventListeners();\n    }\n  }, {\n    key: 'getContainerRenderWindow',\n    value: function getContainerRenderWindow() {\n      var container = this.container;\n\n      var renderWindow = window;\n      while (!renderWindow.document.contains(container) && renderWindow.parent !== renderWindow) {\n        renderWindow = renderWindow.parent;\n      }\n      return renderWindow;\n    }\n  }, {\n    key: 'unbindEventListeners',\n    value: function unbindEventListeners() {\n      var renderWindow = this.getContainerRenderWindow();\n      renderWindow.removeEventListener('mousemove', this.handleChange);\n      renderWindow.removeEventListener('mouseup', this.handleMouseUp);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _ref2 = this.props.style || {},\n          color = _ref2.color,\n          white = _ref2.white,\n          black = _ref2.black,\n          pointer = _ref2.pointer,\n          circle = _ref2.circle;\n\n      var styles = reactCSS({\n        'default': {\n          color: {\n            absolute: '0px 0px 0px 0px',\n            background: 'hsl(' + this.props.hsl.h + ',100%, 50%)',\n            borderRadius: this.props.radius\n          },\n          white: {\n            absolute: '0px 0px 0px 0px',\n            borderRadius: this.props.radius\n          },\n          black: {\n            absolute: '0px 0px 0px 0px',\n            boxShadow: this.props.shadow,\n            borderRadius: this.props.radius\n          },\n          pointer: {\n            position: 'absolute',\n            top: -(this.props.hsv.v * 100) + 100 + '%',\n            left: this.props.hsv.s * 100 + '%',\n            cursor: 'default'\n          },\n          circle: {\n            width: '4px',\n            height: '4px',\n            boxShadow: '0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\\n            0 0 1px 2px rgba(0,0,0,.4)',\n            borderRadius: '50%',\n            cursor: 'hand',\n            transform: 'translate(-2px, -2px)'\n          }\n        },\n        'custom': {\n          color: color,\n          white: white,\n          black: black,\n          pointer: pointer,\n          circle: circle\n        }\n      }, { 'custom': !!this.props.style });\n\n      return React.createElement(\n        'div',\n        {\n          style: styles.color,\n          ref: function ref(container) {\n            return _this2.container = container;\n          },\n          onMouseDown: this.handleMouseDown,\n          onTouchMove: this.handleChange,\n          onTouchStart: this.handleChange\n        },\n        React.createElement(\n          'style',\n          null,\n          '\\n          .saturation-white {\\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\\n          }\\n          .saturation-black {\\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\\n          }\\n        '\n        ),\n        React.createElement(\n          'div',\n          { style: styles.white, className: 'saturation-white' },\n          React.createElement('div', { style: styles.black, className: 'saturation-black' }),\n          React.createElement(\n            'div',\n            { style: styles.pointer },\n            this.props.pointer ? React.createElement(this.props.pointer, this.props) : React.createElement('div', { style: styles.circle })\n          )\n        )\n      );\n    }\n  }]);\n\n  return Saturation;\n}(PureComponent || Component);\n\nexport default Saturation;", "import root from './_root.js';\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nexport default now;\n", "/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nexport default trimmedEndIndex;\n", "import trimmedEndIndex from './_trimmedEndIndex.js';\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nexport default baseTrim;\n", "import baseGetTag from './_baseGetTag.js';\nimport isObjectLike from './isObjectLike.js';\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nexport default isSymbol;\n", "import baseTrim from './_baseTrim.js';\nimport isObject from './isObject.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nexport default toNumber;\n", "import isObject from './isObject.js';\nimport now from './now.js';\nimport toNumber from './toNumber.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nexport default debounce;\n", "import debounce from './debounce.js';\nimport isObject from './isObject.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nexport default throttle;\n", "export var calculateChange = function calculateChange(e, hsl, container) {\n  var _container$getBoundin = container.getBoundingClientRect(),\n      containerWidth = _container$getBoundin.width,\n      containerHeight = _container$getBoundin.height;\n\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\n\n  if (left < 0) {\n    left = 0;\n  } else if (left > containerWidth) {\n    left = containerWidth;\n  }\n\n  if (top < 0) {\n    top = 0;\n  } else if (top > containerHeight) {\n    top = containerHeight;\n  }\n\n  var saturation = left / containerWidth;\n  var bright = 1 - top / containerHeight;\n\n  return {\n    h: hsl.h,\n    s: saturation,\n    v: bright,\n    a: hsl.a,\n    source: 'hsv'\n  };\n};", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component, PureComponent } from 'react';\nimport debounce from 'lodash-es/debounce';\nimport * as color from '../../helpers/color';\n\nexport var ColorWrap = function ColorWrap(Picker) {\n  var ColorPicker = function (_ref) {\n    _inherits(ColorPicker, _ref);\n\n    function ColorPicker(props) {\n      _classCallCheck(this, ColorPicker);\n\n      var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this));\n\n      _this.handleChange = function (data, event) {\n        var isValidColor = color.simpleCheckForValidColor(data);\n        if (isValidColor) {\n          var colors = color.toState(data, data.h || _this.state.oldHue);\n          _this.setState(colors);\n          _this.props.onChangeComplete && _this.debounce(_this.props.onChangeComplete, colors, event);\n          _this.props.onChange && _this.props.onChange(colors, event);\n        }\n      };\n\n      _this.handleSwatchHover = function (data, event) {\n        var isValidColor = color.simpleCheckForValidColor(data);\n        if (isValidColor) {\n          var colors = color.toState(data, data.h || _this.state.oldHue);\n          _this.props.onSwatchHover && _this.props.onSwatchHover(colors, event);\n        }\n      };\n\n      _this.state = _extends({}, color.toState(props.color, 0));\n\n      _this.debounce = debounce(function (fn, data, event) {\n        fn(data, event);\n      }, 100);\n      return _this;\n    }\n\n    _createClass(ColorPicker, [{\n      key: 'render',\n      value: function render() {\n        var optionalEvents = {};\n        if (this.props.onSwatchHover) {\n          optionalEvents.onSwatchHover = this.handleSwatchHover;\n        }\n\n        return React.createElement(Picker, _extends({}, this.props, this.state, {\n          onChange: this.handleChange\n        }, optionalEvents));\n      }\n    }], [{\n      key: 'getDerivedStateFromProps',\n      value: function getDerivedStateFromProps(nextProps, state) {\n        return _extends({}, color.toState(nextProps.color, state.oldHue));\n      }\n    }]);\n\n    return ColorPicker;\n  }(PureComponent || Component);\n\n  ColorPicker.propTypes = _extends({}, Picker.propTypes);\n\n  ColorPicker.defaultProps = _extends({}, Picker.defaultProps, {\n    color: {\n      h: 250,\n      s: 0.50,\n      l: 0.20,\n      a: 1\n    }\n  });\n\n  return ColorPicker;\n};\n\nexport default ColorWrap;", "/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\nexport default arrayEach;\n", "import overArg from './_overArg.js';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nexport default nativeKeys;\n", "import isPrototype from './_isPrototype.js';\nimport nativeKeys from './_nativeKeys.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nexport default baseKeys;\n", "import arrayLikeKeys from './_arrayLikeKeys.js';\nimport baseKeys from './_baseKeys.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nexport default keys;\n", "import baseFor from './_baseFor.js';\nimport keys from './keys.js';\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nexport default baseForOwn;\n", "import isArrayLike from './isArrayLike.js';\n\n/**\n * Creates a `baseEach` or `baseEachRight` function.\n *\n * @private\n * @param {Function} eachFunc The function to iterate over a collection.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseEach(eachFunc, fromRight) {\n  return function(collection, iteratee) {\n    if (collection == null) {\n      return collection;\n    }\n    if (!isArrayLike(collection)) {\n      return eachFunc(collection, iteratee);\n    }\n    var length = collection.length,\n        index = fromRight ? length : -1,\n        iterable = Object(collection);\n\n    while ((fromRight ? index-- : ++index < length)) {\n      if (iteratee(iterable[index], index, iterable) === false) {\n        break;\n      }\n    }\n    return collection;\n  };\n}\n\nexport default createBaseEach;\n", "import baseForOwn from './_baseForOwn.js';\nimport createBaseEach from './_createBaseEach.js';\n\n/**\n * The base implementation of `_.forEach` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n */\nvar baseEach = createBaseEach(baseForOwn);\n\nexport default baseEach;\n", "import identity from './identity.js';\n\n/**\n * Casts `value` to `identity` if it's not a function.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Function} Returns cast function.\n */\nfunction castFunction(value) {\n  return typeof value == 'function' ? value : identity;\n}\n\nexport default castFunction;\n", "import arrayEach from './_arrayEach.js';\nimport baseEach from './_baseEach.js';\nimport castFunction from './_castFunction.js';\nimport isArray from './isArray.js';\n\n/**\n * Iterates over elements of `collection` and invokes `iteratee` for each element.\n * The iteratee is invoked with three arguments: (value, index|key, collection).\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * **Note:** As with other \"Collections\" methods, objects with a \"length\"\n * property are iterated like arrays. To avoid this behavior use `_.forIn`\n * or `_.forOwn` for object iteration.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @alias each\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array|Object} Returns `collection`.\n * @see _.forEachRight\n * @example\n *\n * _.forEach([1, 2], function(value) {\n *   console.log(value);\n * });\n * // => Logs `1` then `2`.\n *\n * _.forEach({ 'a': 1, 'b': 2 }, function(value, key) {\n *   console.log(key);\n * });\n * // => Logs 'a' then 'b' (iteration order is not guaranteed).\n */\nfunction forEach(collection, iteratee) {\n  var func = isArray(collection) ? arrayEach : baseEach;\n  return func(collection, castFunction(iteratee));\n}\n\nexport default forEach;\n", "// This file is autogenerated. It's used to publish ESM to npm.\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\n// https://github.com/bgrins/TinyColor\n// Brian Grinstead, MIT License\n\nvar trimLeft = /^\\s+/;\nvar trimRight = /\\s+$/;\nfunction tinycolor(color, opts) {\n  color = color ? color : \"\";\n  opts = opts || {};\n\n  // If input is already a tinycolor, return itself\n  if (color instanceof tinycolor) {\n    return color;\n  }\n  // If we are called as a function, call using new instead\n  if (!(this instanceof tinycolor)) {\n    return new tinycolor(color, opts);\n  }\n  var rgb = inputToRGB(color);\n  this._originalInput = color, this._r = rgb.r, this._g = rgb.g, this._b = rgb.b, this._a = rgb.a, this._roundA = Math.round(100 * this._a) / 100, this._format = opts.format || rgb.format;\n  this._gradientType = opts.gradientType;\n\n  // Don't let the range of [0,255] come back in [0,1].\n  // Potentially lose a little bit of precision here, but will fix issues where\n  // .5 gets interpreted as half of the total, instead of half of 1\n  // If it was supposed to be 128, this was already taken care of by `inputToRgb`\n  if (this._r < 1) this._r = Math.round(this._r);\n  if (this._g < 1) this._g = Math.round(this._g);\n  if (this._b < 1) this._b = Math.round(this._b);\n  this._ok = rgb.ok;\n}\ntinycolor.prototype = {\n  isDark: function isDark() {\n    return this.getBrightness() < 128;\n  },\n  isLight: function isLight() {\n    return !this.isDark();\n  },\n  isValid: function isValid() {\n    return this._ok;\n  },\n  getOriginalInput: function getOriginalInput() {\n    return this._originalInput;\n  },\n  getFormat: function getFormat() {\n    return this._format;\n  },\n  getAlpha: function getAlpha() {\n    return this._a;\n  },\n  getBrightness: function getBrightness() {\n    //http://www.w3.org/TR/AERT#color-contrast\n    var rgb = this.toRgb();\n    return (rgb.r * 299 + rgb.g * 587 + rgb.b * 114) / 1000;\n  },\n  getLuminance: function getLuminance() {\n    //http://www.w3.org/TR/2008/REC-WCAG20-20081211/#relativeluminancedef\n    var rgb = this.toRgb();\n    var RsRGB, GsRGB, BsRGB, R, G, B;\n    RsRGB = rgb.r / 255;\n    GsRGB = rgb.g / 255;\n    BsRGB = rgb.b / 255;\n    if (RsRGB <= 0.03928) R = RsRGB / 12.92;else R = Math.pow((RsRGB + 0.055) / 1.055, 2.4);\n    if (GsRGB <= 0.03928) G = GsRGB / 12.92;else G = Math.pow((GsRGB + 0.055) / 1.055, 2.4);\n    if (BsRGB <= 0.03928) B = BsRGB / 12.92;else B = Math.pow((BsRGB + 0.055) / 1.055, 2.4);\n    return 0.2126 * R + 0.7152 * G + 0.0722 * B;\n  },\n  setAlpha: function setAlpha(value) {\n    this._a = boundAlpha(value);\n    this._roundA = Math.round(100 * this._a) / 100;\n    return this;\n  },\n  toHsv: function toHsv() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    return {\n      h: hsv.h * 360,\n      s: hsv.s,\n      v: hsv.v,\n      a: this._a\n    };\n  },\n  toHsvString: function toHsvString() {\n    var hsv = rgbToHsv(this._r, this._g, this._b);\n    var h = Math.round(hsv.h * 360),\n      s = Math.round(hsv.s * 100),\n      v = Math.round(hsv.v * 100);\n    return this._a == 1 ? \"hsv(\" + h + \", \" + s + \"%, \" + v + \"%)\" : \"hsva(\" + h + \", \" + s + \"%, \" + v + \"%, \" + this._roundA + \")\";\n  },\n  toHsl: function toHsl() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    return {\n      h: hsl.h * 360,\n      s: hsl.s,\n      l: hsl.l,\n      a: this._a\n    };\n  },\n  toHslString: function toHslString() {\n    var hsl = rgbToHsl(this._r, this._g, this._b);\n    var h = Math.round(hsl.h * 360),\n      s = Math.round(hsl.s * 100),\n      l = Math.round(hsl.l * 100);\n    return this._a == 1 ? \"hsl(\" + h + \", \" + s + \"%, \" + l + \"%)\" : \"hsla(\" + h + \", \" + s + \"%, \" + l + \"%, \" + this._roundA + \")\";\n  },\n  toHex: function toHex(allow3Char) {\n    return rgbToHex(this._r, this._g, this._b, allow3Char);\n  },\n  toHexString: function toHexString(allow3Char) {\n    return \"#\" + this.toHex(allow3Char);\n  },\n  toHex8: function toHex8(allow4Char) {\n    return rgbaToHex(this._r, this._g, this._b, this._a, allow4Char);\n  },\n  toHex8String: function toHex8String(allow4Char) {\n    return \"#\" + this.toHex8(allow4Char);\n  },\n  toRgb: function toRgb() {\n    return {\n      r: Math.round(this._r),\n      g: Math.round(this._g),\n      b: Math.round(this._b),\n      a: this._a\n    };\n  },\n  toRgbString: function toRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \")\" : \"rgba(\" + Math.round(this._r) + \", \" + Math.round(this._g) + \", \" + Math.round(this._b) + \", \" + this._roundA + \")\";\n  },\n  toPercentageRgb: function toPercentageRgb() {\n    return {\n      r: Math.round(bound01(this._r, 255) * 100) + \"%\",\n      g: Math.round(bound01(this._g, 255) * 100) + \"%\",\n      b: Math.round(bound01(this._b, 255) * 100) + \"%\",\n      a: this._a\n    };\n  },\n  toPercentageRgbString: function toPercentageRgbString() {\n    return this._a == 1 ? \"rgb(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%)\" : \"rgba(\" + Math.round(bound01(this._r, 255) * 100) + \"%, \" + Math.round(bound01(this._g, 255) * 100) + \"%, \" + Math.round(bound01(this._b, 255) * 100) + \"%, \" + this._roundA + \")\";\n  },\n  toName: function toName() {\n    if (this._a === 0) {\n      return \"transparent\";\n    }\n    if (this._a < 1) {\n      return false;\n    }\n    return hexNames[rgbToHex(this._r, this._g, this._b, true)] || false;\n  },\n  toFilter: function toFilter(secondColor) {\n    var hex8String = \"#\" + rgbaToArgbHex(this._r, this._g, this._b, this._a);\n    var secondHex8String = hex8String;\n    var gradientType = this._gradientType ? \"GradientType = 1, \" : \"\";\n    if (secondColor) {\n      var s = tinycolor(secondColor);\n      secondHex8String = \"#\" + rgbaToArgbHex(s._r, s._g, s._b, s._a);\n    }\n    return \"progid:DXImageTransform.Microsoft.gradient(\" + gradientType + \"startColorstr=\" + hex8String + \",endColorstr=\" + secondHex8String + \")\";\n  },\n  toString: function toString(format) {\n    var formatSet = !!format;\n    format = format || this._format;\n    var formattedString = false;\n    var hasAlpha = this._a < 1 && this._a >= 0;\n    var needsAlphaFormat = !formatSet && hasAlpha && (format === \"hex\" || format === \"hex6\" || format === \"hex3\" || format === \"hex4\" || format === \"hex8\" || format === \"name\");\n    if (needsAlphaFormat) {\n      // Special case for \"transparent\", all other non-alpha formats\n      // will return rgba when there is transparency.\n      if (format === \"name\" && this._a === 0) {\n        return this.toName();\n      }\n      return this.toRgbString();\n    }\n    if (format === \"rgb\") {\n      formattedString = this.toRgbString();\n    }\n    if (format === \"prgb\") {\n      formattedString = this.toPercentageRgbString();\n    }\n    if (format === \"hex\" || format === \"hex6\") {\n      formattedString = this.toHexString();\n    }\n    if (format === \"hex3\") {\n      formattedString = this.toHexString(true);\n    }\n    if (format === \"hex4\") {\n      formattedString = this.toHex8String(true);\n    }\n    if (format === \"hex8\") {\n      formattedString = this.toHex8String();\n    }\n    if (format === \"name\") {\n      formattedString = this.toName();\n    }\n    if (format === \"hsl\") {\n      formattedString = this.toHslString();\n    }\n    if (format === \"hsv\") {\n      formattedString = this.toHsvString();\n    }\n    return formattedString || this.toHexString();\n  },\n  clone: function clone() {\n    return tinycolor(this.toString());\n  },\n  _applyModification: function _applyModification(fn, args) {\n    var color = fn.apply(null, [this].concat([].slice.call(args)));\n    this._r = color._r;\n    this._g = color._g;\n    this._b = color._b;\n    this.setAlpha(color._a);\n    return this;\n  },\n  lighten: function lighten() {\n    return this._applyModification(_lighten, arguments);\n  },\n  brighten: function brighten() {\n    return this._applyModification(_brighten, arguments);\n  },\n  darken: function darken() {\n    return this._applyModification(_darken, arguments);\n  },\n  desaturate: function desaturate() {\n    return this._applyModification(_desaturate, arguments);\n  },\n  saturate: function saturate() {\n    return this._applyModification(_saturate, arguments);\n  },\n  greyscale: function greyscale() {\n    return this._applyModification(_greyscale, arguments);\n  },\n  spin: function spin() {\n    return this._applyModification(_spin, arguments);\n  },\n  _applyCombination: function _applyCombination(fn, args) {\n    return fn.apply(null, [this].concat([].slice.call(args)));\n  },\n  analogous: function analogous() {\n    return this._applyCombination(_analogous, arguments);\n  },\n  complement: function complement() {\n    return this._applyCombination(_complement, arguments);\n  },\n  monochromatic: function monochromatic() {\n    return this._applyCombination(_monochromatic, arguments);\n  },\n  splitcomplement: function splitcomplement() {\n    return this._applyCombination(_splitcomplement, arguments);\n  },\n  // Disabled until https://github.com/bgrins/TinyColor/issues/254\n  // polyad: function (number) {\n  //   return this._applyCombination(polyad, [number]);\n  // },\n  triad: function triad() {\n    return this._applyCombination(polyad, [3]);\n  },\n  tetrad: function tetrad() {\n    return this._applyCombination(polyad, [4]);\n  }\n};\n\n// If input is an object, force 1 into \"1.0\" to handle ratios properly\n// String input requires \"1.0\" as input, so 1 will be treated as 1\ntinycolor.fromRatio = function (color, opts) {\n  if (_typeof(color) == \"object\") {\n    var newColor = {};\n    for (var i in color) {\n      if (color.hasOwnProperty(i)) {\n        if (i === \"a\") {\n          newColor[i] = color[i];\n        } else {\n          newColor[i] = convertToPercentage(color[i]);\n        }\n      }\n    }\n    color = newColor;\n  }\n  return tinycolor(color, opts);\n};\n\n// Given a string or object, convert that input to RGB\n// Possible string inputs:\n//\n//     \"red\"\n//     \"#f00\" or \"f00\"\n//     \"#ff0000\" or \"ff0000\"\n//     \"#ff000000\" or \"ff000000\"\n//     \"rgb 255 0 0\" or \"rgb (255, 0, 0)\"\n//     \"rgb 1.0 0 0\" or \"rgb (1, 0, 0)\"\n//     \"rgba (255, 0, 0, 1)\" or \"rgba 255, 0, 0, 1\"\n//     \"rgba (1.0, 0, 0, 1)\" or \"rgba 1.0, 0, 0, 1\"\n//     \"hsl(0, 100%, 50%)\" or \"hsl 0 100% 50%\"\n//     \"hsla(0, 100%, 50%, 1)\" or \"hsla 0 100% 50%, 1\"\n//     \"hsv(0, 100%, 100%)\" or \"hsv 0 100% 100%\"\n//\nfunction inputToRGB(color) {\n  var rgb = {\n    r: 0,\n    g: 0,\n    b: 0\n  };\n  var a = 1;\n  var s = null;\n  var v = null;\n  var l = null;\n  var ok = false;\n  var format = false;\n  if (typeof color == \"string\") {\n    color = stringInputToObject(color);\n  }\n  if (_typeof(color) == \"object\") {\n    if (isValidCSSUnit(color.r) && isValidCSSUnit(color.g) && isValidCSSUnit(color.b)) {\n      rgb = rgbToRgb(color.r, color.g, color.b);\n      ok = true;\n      format = String(color.r).substr(-1) === \"%\" ? \"prgb\" : \"rgb\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.v)) {\n      s = convertToPercentage(color.s);\n      v = convertToPercentage(color.v);\n      rgb = hsvToRgb(color.h, s, v);\n      ok = true;\n      format = \"hsv\";\n    } else if (isValidCSSUnit(color.h) && isValidCSSUnit(color.s) && isValidCSSUnit(color.l)) {\n      s = convertToPercentage(color.s);\n      l = convertToPercentage(color.l);\n      rgb = hslToRgb(color.h, s, l);\n      ok = true;\n      format = \"hsl\";\n    }\n    if (color.hasOwnProperty(\"a\")) {\n      a = color.a;\n    }\n  }\n  a = boundAlpha(a);\n  return {\n    ok: ok,\n    format: color.format || format,\n    r: Math.min(255, Math.max(rgb.r, 0)),\n    g: Math.min(255, Math.max(rgb.g, 0)),\n    b: Math.min(255, Math.max(rgb.b, 0)),\n    a: a\n  };\n}\n\n// Conversion Functions\n// --------------------\n\n// `rgbToHsl`, `rgbToHsv`, `hslToRgb`, `hsvToRgb` modified from:\n// <http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript>\n\n// `rgbToRgb`\n// Handle bounds / percentage checking to conform to CSS color spec\n// <http://www.w3.org/TR/css3-color/>\n// *Assumes:* r, g, b in [0, 255] or [0, 1]\n// *Returns:* { r, g, b } in [0, 255]\nfunction rgbToRgb(r, g, b) {\n  return {\n    r: bound01(r, 255) * 255,\n    g: bound01(g, 255) * 255,\n    b: bound01(b, 255) * 255\n  };\n}\n\n// `rgbToHsl`\n// Converts an RGB color value to HSL.\n// *Assumes:* r, g, and b are contained in [0, 255] or [0, 1]\n// *Returns:* { h, s, l } in [0,1]\nfunction rgbToHsl(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    l = (max + min) / 2;\n  if (max == min) {\n    h = s = 0; // achromatic\n  } else {\n    var d = max - min;\n    s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    l: l\n  };\n}\n\n// `hslToRgb`\n// Converts an HSL color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and l are contained [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hslToRgb(h, s, l) {\n  var r, g, b;\n  h = bound01(h, 360);\n  s = bound01(s, 100);\n  l = bound01(l, 100);\n  function hue2rgb(p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n  }\n  if (s === 0) {\n    r = g = b = l; // achromatic\n  } else {\n    var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n    var p = 2 * l - q;\n    r = hue2rgb(p, q, h + 1 / 3);\n    g = hue2rgb(p, q, h);\n    b = hue2rgb(p, q, h - 1 / 3);\n  }\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHsv`\n// Converts an RGB color value to HSV\n// *Assumes:* r, g, and b are contained in the set [0, 255] or [0, 1]\n// *Returns:* { h, s, v } in [0,1]\nfunction rgbToHsv(r, g, b) {\n  r = bound01(r, 255);\n  g = bound01(g, 255);\n  b = bound01(b, 255);\n  var max = Math.max(r, g, b),\n    min = Math.min(r, g, b);\n  var h,\n    s,\n    v = max;\n  var d = max - min;\n  s = max === 0 ? 0 : d / max;\n  if (max == min) {\n    h = 0; // achromatic\n  } else {\n    switch (max) {\n      case r:\n        h = (g - b) / d + (g < b ? 6 : 0);\n        break;\n      case g:\n        h = (b - r) / d + 2;\n        break;\n      case b:\n        h = (r - g) / d + 4;\n        break;\n    }\n    h /= 6;\n  }\n  return {\n    h: h,\n    s: s,\n    v: v\n  };\n}\n\n// `hsvToRgb`\n// Converts an HSV color value to RGB.\n// *Assumes:* h is contained in [0, 1] or [0, 360] and s and v are contained in [0, 1] or [0, 100]\n// *Returns:* { r, g, b } in the set [0, 255]\nfunction hsvToRgb(h, s, v) {\n  h = bound01(h, 360) * 6;\n  s = bound01(s, 100);\n  v = bound01(v, 100);\n  var i = Math.floor(h),\n    f = h - i,\n    p = v * (1 - s),\n    q = v * (1 - f * s),\n    t = v * (1 - (1 - f) * s),\n    mod = i % 6,\n    r = [v, q, p, p, t, v][mod],\n    g = [t, v, v, q, p, p][mod],\n    b = [p, p, t, v, v, q][mod];\n  return {\n    r: r * 255,\n    g: g * 255,\n    b: b * 255\n  };\n}\n\n// `rgbToHex`\n// Converts an RGB color to hex\n// Assumes r, g, and b are contained in the set [0, 255]\n// Returns a 3 or 6 character hex\nfunction rgbToHex(r, g, b, allow3Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n\n  // Return a 3 character hex if possible\n  if (allow3Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToHex`\n// Converts an RGBA color plus alpha transparency to hex\n// Assumes r, g, b are contained in the set [0, 255] and\n// a in [0, 1]. Returns a 4 or 8 character rgba hex\nfunction rgbaToHex(r, g, b, a, allow4Char) {\n  var hex = [pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16)), pad2(convertDecimalToHex(a))];\n\n  // Return a 4 character hex if possible\n  if (allow4Char && hex[0].charAt(0) == hex[0].charAt(1) && hex[1].charAt(0) == hex[1].charAt(1) && hex[2].charAt(0) == hex[2].charAt(1) && hex[3].charAt(0) == hex[3].charAt(1)) {\n    return hex[0].charAt(0) + hex[1].charAt(0) + hex[2].charAt(0) + hex[3].charAt(0);\n  }\n  return hex.join(\"\");\n}\n\n// `rgbaToArgbHex`\n// Converts an RGBA color to an ARGB Hex8 string\n// Rarely used, but required for \"toFilter()\"\nfunction rgbaToArgbHex(r, g, b, a) {\n  var hex = [pad2(convertDecimalToHex(a)), pad2(Math.round(r).toString(16)), pad2(Math.round(g).toString(16)), pad2(Math.round(b).toString(16))];\n  return hex.join(\"\");\n}\n\n// `equals`\n// Can be called with any tinycolor input\ntinycolor.equals = function (color1, color2) {\n  if (!color1 || !color2) return false;\n  return tinycolor(color1).toRgbString() == tinycolor(color2).toRgbString();\n};\ntinycolor.random = function () {\n  return tinycolor.fromRatio({\n    r: Math.random(),\n    g: Math.random(),\n    b: Math.random()\n  });\n};\n\n// Modification Functions\n// ----------------------\n// Thanks to less.js for some of the basics here\n// <https://github.com/cloudhead/less.js/blob/master/lib/less/functions.js>\n\nfunction _desaturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s -= amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _saturate(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.s += amount / 100;\n  hsl.s = clamp01(hsl.s);\n  return tinycolor(hsl);\n}\nfunction _greyscale(color) {\n  return tinycolor(color).desaturate(100);\n}\nfunction _lighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l += amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\nfunction _brighten(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var rgb = tinycolor(color).toRgb();\n  rgb.r = Math.max(0, Math.min(255, rgb.r - Math.round(255 * -(amount / 100))));\n  rgb.g = Math.max(0, Math.min(255, rgb.g - Math.round(255 * -(amount / 100))));\n  rgb.b = Math.max(0, Math.min(255, rgb.b - Math.round(255 * -(amount / 100))));\n  return tinycolor(rgb);\n}\nfunction _darken(color, amount) {\n  amount = amount === 0 ? 0 : amount || 10;\n  var hsl = tinycolor(color).toHsl();\n  hsl.l -= amount / 100;\n  hsl.l = clamp01(hsl.l);\n  return tinycolor(hsl);\n}\n\n// Spin takes a positive or negative amount within [-360, 360] indicating the change of hue.\n// Values outside of this range will be wrapped into this range.\nfunction _spin(color, amount) {\n  var hsl = tinycolor(color).toHsl();\n  var hue = (hsl.h + amount) % 360;\n  hsl.h = hue < 0 ? 360 + hue : hue;\n  return tinycolor(hsl);\n}\n\n// Combination Functions\n// ---------------------\n// Thanks to jQuery xColor for some of the ideas behind these\n// <https://github.com/infusion/jQuery-xcolor/blob/master/jquery.xcolor.js>\n\nfunction _complement(color) {\n  var hsl = tinycolor(color).toHsl();\n  hsl.h = (hsl.h + 180) % 360;\n  return tinycolor(hsl);\n}\nfunction polyad(color, number) {\n  if (isNaN(number) || number <= 0) {\n    throw new Error(\"Argument to polyad must be a positive number\");\n  }\n  var hsl = tinycolor(color).toHsl();\n  var result = [tinycolor(color)];\n  var step = 360 / number;\n  for (var i = 1; i < number; i++) {\n    result.push(tinycolor({\n      h: (hsl.h + i * step) % 360,\n      s: hsl.s,\n      l: hsl.l\n    }));\n  }\n  return result;\n}\nfunction _splitcomplement(color) {\n  var hsl = tinycolor(color).toHsl();\n  var h = hsl.h;\n  return [tinycolor(color), tinycolor({\n    h: (h + 72) % 360,\n    s: hsl.s,\n    l: hsl.l\n  }), tinycolor({\n    h: (h + 216) % 360,\n    s: hsl.s,\n    l: hsl.l\n  })];\n}\nfunction _analogous(color, results, slices) {\n  results = results || 6;\n  slices = slices || 30;\n  var hsl = tinycolor(color).toHsl();\n  var part = 360 / slices;\n  var ret = [tinycolor(color)];\n  for (hsl.h = (hsl.h - (part * results >> 1) + 720) % 360; --results;) {\n    hsl.h = (hsl.h + part) % 360;\n    ret.push(tinycolor(hsl));\n  }\n  return ret;\n}\nfunction _monochromatic(color, results) {\n  results = results || 6;\n  var hsv = tinycolor(color).toHsv();\n  var h = hsv.h,\n    s = hsv.s,\n    v = hsv.v;\n  var ret = [];\n  var modification = 1 / results;\n  while (results--) {\n    ret.push(tinycolor({\n      h: h,\n      s: s,\n      v: v\n    }));\n    v = (v + modification) % 1;\n  }\n  return ret;\n}\n\n// Utility Functions\n// ---------------------\n\ntinycolor.mix = function (color1, color2, amount) {\n  amount = amount === 0 ? 0 : amount || 50;\n  var rgb1 = tinycolor(color1).toRgb();\n  var rgb2 = tinycolor(color2).toRgb();\n  var p = amount / 100;\n  var rgba = {\n    r: (rgb2.r - rgb1.r) * p + rgb1.r,\n    g: (rgb2.g - rgb1.g) * p + rgb1.g,\n    b: (rgb2.b - rgb1.b) * p + rgb1.b,\n    a: (rgb2.a - rgb1.a) * p + rgb1.a\n  };\n  return tinycolor(rgba);\n};\n\n// Readability Functions\n// ---------------------\n// <http://www.w3.org/TR/2008/REC-WCAG20-20081211/#contrast-ratiodef (WCAG Version 2)\n\n// `contrast`\n// Analyze the 2 colors and returns the color contrast defined by (WCAG Version 2)\ntinycolor.readability = function (color1, color2) {\n  var c1 = tinycolor(color1);\n  var c2 = tinycolor(color2);\n  return (Math.max(c1.getLuminance(), c2.getLuminance()) + 0.05) / (Math.min(c1.getLuminance(), c2.getLuminance()) + 0.05);\n};\n\n// `isReadable`\n// Ensure that foreground and background color combinations meet WCAG2 guidelines.\n// The third argument is an optional Object.\n//      the 'level' property states 'AA' or 'AAA' - if missing or invalid, it defaults to 'AA';\n//      the 'size' property states 'large' or 'small' - if missing or invalid, it defaults to 'small'.\n// If the entire object is absent, isReadable defaults to {level:\"AA\",size:\"small\"}.\n\n// *Example*\n//    tinycolor.isReadable(\"#000\", \"#111\") => false\n//    tinycolor.isReadable(\"#000\", \"#111\",{level:\"AA\",size:\"large\"}) => false\ntinycolor.isReadable = function (color1, color2, wcag2) {\n  var readability = tinycolor.readability(color1, color2);\n  var wcag2Parms, out;\n  out = false;\n  wcag2Parms = validateWCAG2Parms(wcag2);\n  switch (wcag2Parms.level + wcag2Parms.size) {\n    case \"AAsmall\":\n    case \"AAAlarge\":\n      out = readability >= 4.5;\n      break;\n    case \"AAlarge\":\n      out = readability >= 3;\n      break;\n    case \"AAAsmall\":\n      out = readability >= 7;\n      break;\n  }\n  return out;\n};\n\n// `mostReadable`\n// Given a base color and a list of possible foreground or background\n// colors for that base, returns the most readable color.\n// Optionally returns Black or White if the most readable color is unreadable.\n// *Example*\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:false}).toHexString(); // \"#112255\"\n//    tinycolor.mostReadable(tinycolor.mostReadable(\"#123\", [\"#124\", \"#125\"],{includeFallbackColors:true}).toHexString();  // \"#ffffff\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"large\"}).toHexString(); // \"#faf3f3\"\n//    tinycolor.mostReadable(\"#a8015a\", [\"#faf3f3\"],{includeFallbackColors:true,level:\"AAA\",size:\"small\"}).toHexString(); // \"#ffffff\"\ntinycolor.mostReadable = function (baseColor, colorList, args) {\n  var bestColor = null;\n  var bestScore = 0;\n  var readability;\n  var includeFallbackColors, level, size;\n  args = args || {};\n  includeFallbackColors = args.includeFallbackColors;\n  level = args.level;\n  size = args.size;\n  for (var i = 0; i < colorList.length; i++) {\n    readability = tinycolor.readability(baseColor, colorList[i]);\n    if (readability > bestScore) {\n      bestScore = readability;\n      bestColor = tinycolor(colorList[i]);\n    }\n  }\n  if (tinycolor.isReadable(baseColor, bestColor, {\n    level: level,\n    size: size\n  }) || !includeFallbackColors) {\n    return bestColor;\n  } else {\n    args.includeFallbackColors = false;\n    return tinycolor.mostReadable(baseColor, [\"#fff\", \"#000\"], args);\n  }\n};\n\n// Big List of Colors\n// ------------------\n// <https://www.w3.org/TR/css-color-4/#named-colors>\nvar names = tinycolor.names = {\n  aliceblue: \"f0f8ff\",\n  antiquewhite: \"faebd7\",\n  aqua: \"0ff\",\n  aquamarine: \"7fffd4\",\n  azure: \"f0ffff\",\n  beige: \"f5f5dc\",\n  bisque: \"ffe4c4\",\n  black: \"000\",\n  blanchedalmond: \"ffebcd\",\n  blue: \"00f\",\n  blueviolet: \"8a2be2\",\n  brown: \"a52a2a\",\n  burlywood: \"deb887\",\n  burntsienna: \"ea7e5d\",\n  cadetblue: \"5f9ea0\",\n  chartreuse: \"7fff00\",\n  chocolate: \"d2691e\",\n  coral: \"ff7f50\",\n  cornflowerblue: \"6495ed\",\n  cornsilk: \"fff8dc\",\n  crimson: \"dc143c\",\n  cyan: \"0ff\",\n  darkblue: \"00008b\",\n  darkcyan: \"008b8b\",\n  darkgoldenrod: \"b8860b\",\n  darkgray: \"a9a9a9\",\n  darkgreen: \"006400\",\n  darkgrey: \"a9a9a9\",\n  darkkhaki: \"bdb76b\",\n  darkmagenta: \"8b008b\",\n  darkolivegreen: \"556b2f\",\n  darkorange: \"ff8c00\",\n  darkorchid: \"9932cc\",\n  darkred: \"8b0000\",\n  darksalmon: \"e9967a\",\n  darkseagreen: \"8fbc8f\",\n  darkslateblue: \"483d8b\",\n  darkslategray: \"2f4f4f\",\n  darkslategrey: \"2f4f4f\",\n  darkturquoise: \"00ced1\",\n  darkviolet: \"9400d3\",\n  deeppink: \"ff1493\",\n  deepskyblue: \"00bfff\",\n  dimgray: \"696969\",\n  dimgrey: \"696969\",\n  dodgerblue: \"1e90ff\",\n  firebrick: \"b22222\",\n  floralwhite: \"fffaf0\",\n  forestgreen: \"228b22\",\n  fuchsia: \"f0f\",\n  gainsboro: \"dcdcdc\",\n  ghostwhite: \"f8f8ff\",\n  gold: \"ffd700\",\n  goldenrod: \"daa520\",\n  gray: \"808080\",\n  green: \"008000\",\n  greenyellow: \"adff2f\",\n  grey: \"808080\",\n  honeydew: \"f0fff0\",\n  hotpink: \"ff69b4\",\n  indianred: \"cd5c5c\",\n  indigo: \"4b0082\",\n  ivory: \"fffff0\",\n  khaki: \"f0e68c\",\n  lavender: \"e6e6fa\",\n  lavenderblush: \"fff0f5\",\n  lawngreen: \"7cfc00\",\n  lemonchiffon: \"fffacd\",\n  lightblue: \"add8e6\",\n  lightcoral: \"f08080\",\n  lightcyan: \"e0ffff\",\n  lightgoldenrodyellow: \"fafad2\",\n  lightgray: \"d3d3d3\",\n  lightgreen: \"90ee90\",\n  lightgrey: \"d3d3d3\",\n  lightpink: \"ffb6c1\",\n  lightsalmon: \"ffa07a\",\n  lightseagreen: \"20b2aa\",\n  lightskyblue: \"87cefa\",\n  lightslategray: \"789\",\n  lightslategrey: \"789\",\n  lightsteelblue: \"b0c4de\",\n  lightyellow: \"ffffe0\",\n  lime: \"0f0\",\n  limegreen: \"32cd32\",\n  linen: \"faf0e6\",\n  magenta: \"f0f\",\n  maroon: \"800000\",\n  mediumaquamarine: \"66cdaa\",\n  mediumblue: \"0000cd\",\n  mediumorchid: \"ba55d3\",\n  mediumpurple: \"9370db\",\n  mediumseagreen: \"3cb371\",\n  mediumslateblue: \"7b68ee\",\n  mediumspringgreen: \"00fa9a\",\n  mediumturquoise: \"48d1cc\",\n  mediumvioletred: \"c71585\",\n  midnightblue: \"191970\",\n  mintcream: \"f5fffa\",\n  mistyrose: \"ffe4e1\",\n  moccasin: \"ffe4b5\",\n  navajowhite: \"ffdead\",\n  navy: \"000080\",\n  oldlace: \"fdf5e6\",\n  olive: \"808000\",\n  olivedrab: \"6b8e23\",\n  orange: \"ffa500\",\n  orangered: \"ff4500\",\n  orchid: \"da70d6\",\n  palegoldenrod: \"eee8aa\",\n  palegreen: \"98fb98\",\n  paleturquoise: \"afeeee\",\n  palevioletred: \"db7093\",\n  papayawhip: \"ffefd5\",\n  peachpuff: \"ffdab9\",\n  peru: \"cd853f\",\n  pink: \"ffc0cb\",\n  plum: \"dda0dd\",\n  powderblue: \"b0e0e6\",\n  purple: \"800080\",\n  rebeccapurple: \"663399\",\n  red: \"f00\",\n  rosybrown: \"bc8f8f\",\n  royalblue: \"4169e1\",\n  saddlebrown: \"8b4513\",\n  salmon: \"fa8072\",\n  sandybrown: \"f4a460\",\n  seagreen: \"2e8b57\",\n  seashell: \"fff5ee\",\n  sienna: \"a0522d\",\n  silver: \"c0c0c0\",\n  skyblue: \"87ceeb\",\n  slateblue: \"6a5acd\",\n  slategray: \"708090\",\n  slategrey: \"708090\",\n  snow: \"fffafa\",\n  springgreen: \"00ff7f\",\n  steelblue: \"4682b4\",\n  tan: \"d2b48c\",\n  teal: \"008080\",\n  thistle: \"d8bfd8\",\n  tomato: \"ff6347\",\n  turquoise: \"40e0d0\",\n  violet: \"ee82ee\",\n  wheat: \"f5deb3\",\n  white: \"fff\",\n  whitesmoke: \"f5f5f5\",\n  yellow: \"ff0\",\n  yellowgreen: \"9acd32\"\n};\n\n// Make it easy to access colors via `hexNames[hex]`\nvar hexNames = tinycolor.hexNames = flip(names);\n\n// Utilities\n// ---------\n\n// `{ 'name1': 'val1' }` becomes `{ 'val1': 'name1' }`\nfunction flip(o) {\n  var flipped = {};\n  for (var i in o) {\n    if (o.hasOwnProperty(i)) {\n      flipped[o[i]] = i;\n    }\n  }\n  return flipped;\n}\n\n// Return a valid alpha value [0,1] with all invalid values being set to 1\nfunction boundAlpha(a) {\n  a = parseFloat(a);\n  if (isNaN(a) || a < 0 || a > 1) {\n    a = 1;\n  }\n  return a;\n}\n\n// Take input from [0, n] and return it as [0, 1]\nfunction bound01(n, max) {\n  if (isOnePointZero(n)) n = \"100%\";\n  var processPercent = isPercentage(n);\n  n = Math.min(max, Math.max(0, parseFloat(n)));\n\n  // Automatically convert percentage into number\n  if (processPercent) {\n    n = parseInt(n * max, 10) / 100;\n  }\n\n  // Handle floating point rounding errors\n  if (Math.abs(n - max) < 0.000001) {\n    return 1;\n  }\n\n  // Convert into [0, 1] range if it isn't already\n  return n % max / parseFloat(max);\n}\n\n// Force a number between 0 and 1\nfunction clamp01(val) {\n  return Math.min(1, Math.max(0, val));\n}\n\n// Parse a base-16 hex value into a base-10 integer\nfunction parseIntFromHex(val) {\n  return parseInt(val, 16);\n}\n\n// Need to handle 1.0 as 100%, since once it is a number, there is no difference between it and 1\n// <http://stackoverflow.com/questions/7422072/javascript-how-to-detect-number-as-a-decimal-including-1-0>\nfunction isOnePointZero(n) {\n  return typeof n == \"string\" && n.indexOf(\".\") != -1 && parseFloat(n) === 1;\n}\n\n// Check to see if string passed in is a percentage\nfunction isPercentage(n) {\n  return typeof n === \"string\" && n.indexOf(\"%\") != -1;\n}\n\n// Force a hex value to have 2 characters\nfunction pad2(c) {\n  return c.length == 1 ? \"0\" + c : \"\" + c;\n}\n\n// Replace a decimal with it's percentage value\nfunction convertToPercentage(n) {\n  if (n <= 1) {\n    n = n * 100 + \"%\";\n  }\n  return n;\n}\n\n// Converts a decimal to a hex value\nfunction convertDecimalToHex(d) {\n  return Math.round(parseFloat(d) * 255).toString(16);\n}\n// Converts a hex value to a decimal\nfunction convertHexToDecimal(h) {\n  return parseIntFromHex(h) / 255;\n}\nvar matchers = function () {\n  // <http://www.w3.org/TR/css3-values/#integers>\n  var CSS_INTEGER = \"[-\\\\+]?\\\\d+%?\";\n\n  // <http://www.w3.org/TR/css3-values/#number-value>\n  var CSS_NUMBER = \"[-\\\\+]?\\\\d*\\\\.\\\\d+%?\";\n\n  // Allow positive/negative integer/number.  Don't capture the either/or, just the entire outcome.\n  var CSS_UNIT = \"(?:\" + CSS_NUMBER + \")|(?:\" + CSS_INTEGER + \")\";\n\n  // Actual matching.\n  // Parentheses and commas are optional, but not required.\n  // Whitespace can take the place of commas or opening paren\n  var PERMISSIVE_MATCH3 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  var PERMISSIVE_MATCH4 = \"[\\\\s|\\\\(]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")[,|\\\\s]+(\" + CSS_UNIT + \")\\\\s*\\\\)?\";\n  return {\n    CSS_UNIT: new RegExp(CSS_UNIT),\n    rgb: new RegExp(\"rgb\" + PERMISSIVE_MATCH3),\n    rgba: new RegExp(\"rgba\" + PERMISSIVE_MATCH4),\n    hsl: new RegExp(\"hsl\" + PERMISSIVE_MATCH3),\n    hsla: new RegExp(\"hsla\" + PERMISSIVE_MATCH4),\n    hsv: new RegExp(\"hsv\" + PERMISSIVE_MATCH3),\n    hsva: new RegExp(\"hsva\" + PERMISSIVE_MATCH4),\n    hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,\n    hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,\n    hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/\n  };\n}();\n\n// `isValidCSSUnit`\n// Take in a single string / number and check to see if it looks like a CSS unit\n// (see `matchers` above for definition).\nfunction isValidCSSUnit(color) {\n  return !!matchers.CSS_UNIT.exec(color);\n}\n\n// `stringInputToObject`\n// Permissive string parsing.  Take in a number of formats, and output an object\n// based on detected format.  Returns `{ r, g, b }` or `{ h, s, l }` or `{ h, s, v}`\nfunction stringInputToObject(color) {\n  color = color.replace(trimLeft, \"\").replace(trimRight, \"\").toLowerCase();\n  var named = false;\n  if (names[color]) {\n    color = names[color];\n    named = true;\n  } else if (color == \"transparent\") {\n    return {\n      r: 0,\n      g: 0,\n      b: 0,\n      a: 0,\n      format: \"name\"\n    };\n  }\n\n  // Try to match string input using regular expressions.\n  // Keep most of the number bounding out of this function - don't worry about [0,1] or [0,100] or [0,360]\n  // Just return an object and let the conversion functions handle that.\n  // This way the result will be the same whether the tinycolor is initialized with string or object.\n  var match;\n  if (match = matchers.rgb.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3]\n    };\n  }\n  if (match = matchers.rgba.exec(color)) {\n    return {\n      r: match[1],\n      g: match[2],\n      b: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsl.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3]\n    };\n  }\n  if (match = matchers.hsla.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      l: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hsv.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3]\n    };\n  }\n  if (match = matchers.hsva.exec(color)) {\n    return {\n      h: match[1],\n      s: match[2],\n      v: match[3],\n      a: match[4]\n    };\n  }\n  if (match = matchers.hex8.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      a: convertHexToDecimal(match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex6.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1]),\n      g: parseIntFromHex(match[2]),\n      b: parseIntFromHex(match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  if (match = matchers.hex4.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      a: convertHexToDecimal(match[4] + \"\" + match[4]),\n      format: named ? \"name\" : \"hex8\"\n    };\n  }\n  if (match = matchers.hex3.exec(color)) {\n    return {\n      r: parseIntFromHex(match[1] + \"\" + match[1]),\n      g: parseIntFromHex(match[2] + \"\" + match[2]),\n      b: parseIntFromHex(match[3] + \"\" + match[3]),\n      format: named ? \"name\" : \"hex\"\n    };\n  }\n  return false;\n}\nfunction validateWCAG2Parms(parms) {\n  // return valid WCAG2 parms for isReadable.\n  // If input parms are invalid, return {\"level\":\"AA\", \"size\":\"small\"}\n  var level, size;\n  parms = parms || {\n    level: \"AA\",\n    size: \"small\"\n  };\n  level = (parms.level || \"AA\").toUpperCase();\n  size = (parms.size || \"small\").toLowerCase();\n  if (level !== \"AA\" && level !== \"AAA\") {\n    level = \"AA\";\n  }\n  if (size !== \"small\" && size !== \"large\") {\n    size = \"small\";\n  }\n  return {\n    level: level,\n    size: size\n  };\n}\n\nexport { tinycolor as default };\n", "import each from 'lodash-es/each';\nimport tinycolor from 'tinycolor2';\n\nexport var simpleCheckForValidColor = function simpleCheckForValidColor(data) {\n  var keysToCheck = ['r', 'g', 'b', 'a', 'h', 's', 'l', 'v'];\n  var checked = 0;\n  var passed = 0;\n  each(keysToCheck, function (letter) {\n    if (data[letter]) {\n      checked += 1;\n      if (!isNaN(data[letter])) {\n        passed += 1;\n      }\n      if (letter === 's' || letter === 'l') {\n        var percentPatt = /^\\d+%$/;\n        if (percentPatt.test(data[letter])) {\n          passed += 1;\n        }\n      }\n    }\n  });\n  return checked === passed ? data : false;\n};\n\nexport var toState = function toState(data, oldHue) {\n  var color = data.hex ? tinycolor(data.hex) : tinycolor(data);\n  var hsl = color.toHsl();\n  var hsv = color.toHsv();\n  var rgb = color.toRgb();\n  var hex = color.toHex();\n  if (hsl.s === 0) {\n    hsl.h = oldHue || 0;\n    hsv.h = oldHue || 0;\n  }\n  var transparent = hex === '000000' && rgb.a === 0;\n\n  return {\n    hsl: hsl,\n    hex: transparent ? 'transparent' : '#' + hex,\n    rgb: rgb,\n    hsv: hsv,\n    oldHue: data.h || oldHue || hsl.h,\n    source: data.source\n  };\n};\n\nexport var isValidHex = function isValidHex(hex) {\n  if (hex === 'transparent') {\n    return true;\n  }\n  // disable hex4 and hex8\n  var lh = String(hex).charAt(0) === '#' ? 1 : 0;\n  return hex.length !== 4 + lh && hex.length < 7 + lh && tinycolor(hex).isValid();\n};\n\nexport var getContrastingColor = function getContrastingColor(data) {\n  if (!data) {\n    return '#fff';\n  }\n  var col = toState(data);\n  if (col.hex === 'transparent') {\n    return 'rgba(0,0,0,0.4)';\n  }\n  var yiq = (col.rgb.r * 299 + col.rgb.g * 587 + col.rgb.b * 114) / 1000;\n  return yiq >= 128 ? '#000' : '#fff';\n};\n\nexport var red = {\n  hsl: { a: 1, h: 0, l: 0.5, s: 1 },\n  hex: '#ff0000',\n  rgb: { r: 255, g: 0, b: 0, a: 1 },\n  hsv: { h: 0, s: 1, v: 1, a: 1 }\n};\n\nexport var isvalidColorString = function isvalidColorString(string, type) {\n  var stringWithoutDegree = string.replace('\u00B0', '');\n  return tinycolor(type + ' (' + stringWithoutDegree + ')')._ok;\n};", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport reactCSS from 'reactcss';\nimport { handleFocus } from '../../helpers/interaction';\n\nimport Checkboard from './Checkboard';\n\nvar ENTER = 13;\n\nexport var Swatch = function Swatch(_ref) {\n  var color = _ref.color,\n      style = _ref.style,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\n      onHover = _ref.onHover,\n      _ref$title = _ref.title,\n      title = _ref$title === undefined ? color : _ref$title,\n      children = _ref.children,\n      focus = _ref.focus,\n      _ref$focusStyle = _ref.focusStyle,\n      focusStyle = _ref$focusStyle === undefined ? {} : _ref$focusStyle;\n\n  var transparent = color === 'transparent';\n  var styles = reactCSS({\n    default: {\n      swatch: _extends({\n        background: color,\n        height: '100%',\n        width: '100%',\n        cursor: 'pointer',\n        position: 'relative',\n        outline: 'none'\n      }, style, focus ? focusStyle : {})\n    }\n  });\n\n  var handleClick = function handleClick(e) {\n    return onClick(color, e);\n  };\n  var handleKeyDown = function handleKeyDown(e) {\n    return e.keyCode === ENTER && onClick(color, e);\n  };\n  var handleHover = function handleHover(e) {\n    return onHover(color, e);\n  };\n\n  var optionalEvents = {};\n  if (onHover) {\n    optionalEvents.onMouseOver = handleHover;\n  }\n\n  return React.createElement(\n    'div',\n    _extends({\n      style: styles.swatch,\n      onClick: handleClick,\n      title: title,\n      tabIndex: 0,\n      onKeyDown: handleKeyDown\n    }, optionalEvents),\n    children,\n    transparent && React.createElement(Checkboard, {\n      borderRadius: styles.swatch.borderRadius,\n      boxShadow: 'inset 0 0 0 1px rgba(0,0,0,0.1)'\n    })\n  );\n};\n\nexport default handleFocus(Swatch);", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable no-invalid-this */\nimport React from 'react';\n\nexport var handleFocus = function handleFocus(Component) {\n  var Span = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'span';\n  return function (_React$Component) {\n    _inherits(Focus, _React$Component);\n\n    function Focus() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Focus);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Focus.__proto__ || Object.getPrototypeOf(Focus)).call.apply(_ref, [this].concat(args))), _this), _this.state = { focus: false }, _this.handleFocus = function () {\n        return _this.setState({ focus: true });\n      }, _this.handleBlur = function () {\n        return _this.setState({ focus: false });\n      }, _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    _createClass(Focus, [{\n      key: 'render',\n      value: function render() {\n        return React.createElement(\n          Span,\n          { onFocus: this.handleFocus, onBlur: this.handleBlur },\n          React.createElement(Component, _extends({}, this.props, this.state))\n        );\n      }\n    }]);\n\n    return Focus;\n  }(React.Component);\n};", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var AlphaPointer = function AlphaPointer(_ref) {\n  var direction = _ref.direction;\n\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '18px',\n        height: '18px',\n        borderRadius: '50%',\n        transform: 'translate(-9px, -1px)',\n        backgroundColor: 'rgb(248, 248, 248)',\n        boxShadow: '0 1px 4px 0 rgba(0, 0, 0, 0.37)'\n      }\n    },\n    'vertical': {\n      picker: {\n        transform: 'translate(-3px, -9px)'\n      }\n    }\n  }, { vertical: direction === 'vertical' });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nexport default AlphaPointer;", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\nimport * as color from '../../helpers/color';\n\nimport { ColorWrap, EditableInput, Checkboard } from '../common';\nimport BlockSwatches from './BlockSwatches';\n\nexport var Block = function Block(_ref) {\n  var onChange = _ref.onChange,\n      onSwatchHover = _ref.onSwatchHover,\n      hex = _ref.hex,\n      colors = _ref.colors,\n      width = _ref.width,\n      triangle = _ref.triangle,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var transparent = hex === 'transparent';\n  var handleChange = function handleChange(hexCode, e) {\n    color.isValidHex(hexCode) && onChange({\n      hex: hexCode,\n      source: 'hex'\n    }, e);\n  };\n\n  var styles = reactCSS(merge({\n    'default': {\n      card: {\n        width: width,\n        background: '#fff',\n        boxShadow: '0 1px rgba(0,0,0,.1)',\n        borderRadius: '6px',\n        position: 'relative'\n      },\n      head: {\n        height: '110px',\n        background: hex,\n        borderRadius: '6px 6px 0 0',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        position: 'relative'\n      },\n      body: {\n        padding: '10px'\n      },\n      label: {\n        fontSize: '18px',\n        color: color.getContrastingColor(hex),\n        position: 'relative'\n      },\n      triangle: {\n        width: '0px',\n        height: '0px',\n        borderStyle: 'solid',\n        borderWidth: '0 10px 10px 10px',\n        borderColor: 'transparent transparent ' + hex + ' transparent',\n        position: 'absolute',\n        top: '-10px',\n        left: '50%',\n        marginLeft: '-10px'\n      },\n      input: {\n        width: '100%',\n        fontSize: '12px',\n        color: '#666',\n        border: '0px',\n        outline: 'none',\n        height: '22px',\n        boxShadow: 'inset 0 0 0 1px #ddd',\n        borderRadius: '4px',\n        padding: '0 7px',\n        boxSizing: 'border-box'\n      }\n    },\n    'hide-triangle': {\n      triangle: {\n        display: 'none'\n      }\n    }\n  }, passedStyles), { 'hide-triangle': triangle === 'hide' });\n\n  return React.createElement(\n    'div',\n    { style: styles.card, className: 'block-picker ' + className },\n    React.createElement('div', { style: styles.triangle }),\n    React.createElement(\n      'div',\n      { style: styles.head },\n      transparent && React.createElement(Checkboard, { borderRadius: '6px 6px 0 0' }),\n      React.createElement(\n        'div',\n        { style: styles.label },\n        hex\n      )\n    ),\n    React.createElement(\n      'div',\n      { style: styles.body },\n      React.createElement(BlockSwatches, { colors: colors, onClick: handleChange, onSwatchHover: onSwatchHover }),\n      React.createElement(EditableInput, {\n        style: { input: styles.input },\n        value: hex,\n        onChange: handleChange\n      })\n    )\n  );\n};\n\nBlock.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  colors: PropTypes.arrayOf(PropTypes.string),\n  triangle: PropTypes.oneOf(['top', 'hide']),\n  styles: PropTypes.object\n};\n\nBlock.defaultProps = {\n  width: 170,\n  colors: ['#D9E3F0', '#F47373', '#697689', '#37D67A', '#2CCCE4', '#555555', '#dce775', '#ff8a65', '#ba68c8'],\n  triangle: 'top',\n  styles: {}\n};\n\nexport default ColorWrap(Block);", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport map from 'lodash-es/map';\n\nimport { Swatch } from '../common';\n\nexport var BlockSwatches = function BlockSwatches(_ref) {\n  var colors = _ref.colors,\n      onClick = _ref.onClick,\n      onSwatchHover = _ref.onSwatchHover;\n\n  var styles = reactCSS({\n    'default': {\n      swatches: {\n        marginRight: '-10px'\n      },\n      swatch: {\n        width: '22px',\n        height: '22px',\n        float: 'left',\n        marginRight: '10px',\n        marginBottom: '10px',\n        borderRadius: '4px'\n      },\n      clear: {\n        clear: 'both'\n      }\n    }\n  });\n\n  return React.createElement(\n    'div',\n    { style: styles.swatches },\n    map(colors, function (c) {\n      return React.createElement(Swatch, {\n        key: c,\n        color: c,\n        style: styles.swatch,\n        onClick: onClick,\n        onHover: onSwatchHover,\n        focusStyle: {\n          boxShadow: '0 0 4px ' + c\n        }\n      });\n    }),\n    React.createElement('div', { style: styles.clear })\n  );\n};\n\nexport default BlockSwatches;", "/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nexport default arrayMap;\n", "/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nexport default setCacheAdd;\n", "/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nexport default setCacheHas;\n", "import MapCache from './_MapCache.js';\nimport setCacheAdd from './_setCacheAdd.js';\nimport setCacheHas from './_setCacheHas.js';\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nexport default SetCache;\n", "/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport default arraySome;\n", "/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nexport default cacheHas;\n", "import SetCache from './_SetCache.js';\nimport arraySome from './_arraySome.js';\nimport cacheHas from './_cacheHas.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalArrays;\n", "/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nexport default mapToArray;\n", "/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nexport default setToArray;\n", "import Symbol from './_Symbol.js';\nimport Uint8Array from './_Uint8Array.js';\nimport eq from './eq.js';\nimport equalArrays from './_equalArrays.js';\nimport mapToArray from './_mapToArray.js';\nimport setToArray from './_setToArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nexport default equalByTag;\n", "/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nexport default arrayPush;\n", "import arrayPush from './_arrayPush.js';\nimport isArray from './isArray.js';\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nexport default baseGetAllKeys;\n", "/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nexport default arrayFilter;\n", "/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nexport default stubArray;\n", "import arrayFilter from './_arrayFilter.js';\nimport stubArray from './stubArray.js';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nexport default getSymbols;\n", "import baseGetAllKeys from './_baseGetAllKeys.js';\nimport getSymbols from './_getSymbols.js';\nimport keys from './keys.js';\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nexport default getAllKeys;\n", "import getAllKeys from './_getAllKeys.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nexport default equalObjects;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nexport default DataView;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nexport default Promise;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nexport default Set;\n", "import getNative from './_getNative.js';\nimport root from './_root.js';\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nexport default WeakMap;\n", "import DataView from './_DataView.js';\nimport Map from './_Map.js';\nimport Promise from './_Promise.js';\nimport Set from './_Set.js';\nimport WeakMap from './_WeakMap.js';\nimport baseGetTag from './_baseGetTag.js';\nimport toSource from './_toSource.js';\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nexport default getTag;\n", "import Stack from './_Stack.js';\nimport equalArrays from './_equalArrays.js';\nimport equalByTag from './_equalByTag.js';\nimport equalObjects from './_equalObjects.js';\nimport getTag from './_getTag.js';\nimport isArray from './isArray.js';\nimport isBuffer from './isBuffer.js';\nimport isTypedArray from './isTypedArray.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nexport default baseIsEqualDeep;\n", "import baseIsEqualDeep from './_baseIsEqualDeep.js';\nimport isObjectLike from './isObjectLike.js';\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nexport default baseIsEqual;\n", "import Stack from './_Stack.js';\nimport baseIsEqual from './_baseIsEqual.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nexport default baseIsMatch;\n", "import isObject from './isObject.js';\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nexport default isStrictComparable;\n", "import isStrictComparable from './_isStrictComparable.js';\nimport keys from './keys.js';\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nexport default getMatchData;\n", "/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nexport default matchesStrictComparable;\n", "import baseIsMatch from './_baseIsMatch.js';\nimport getMatchData from './_getMatchData.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nexport default baseMatches;\n", "import isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nexport default isKey;\n", "import MapCache from './_MapCache.js';\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nexport default memoize;\n", "import memoize from './memoize.js';\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nexport default memoizeCapped;\n", "import memoizeCapped from './_memoizeCapped.js';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nexport default stringToPath;\n", "import Symbol from './_Symbol.js';\nimport arrayMap from './_arrayMap.js';\nimport isArray from './isArray.js';\nimport isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default baseToString;\n", "import baseToString from './_baseToString.js';\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nexport default toString;\n", "import isArray from './isArray.js';\nimport isKey from './_isKey.js';\nimport stringToPath from './_stringToPath.js';\nimport toString from './toString.js';\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nexport default castPath;\n", "import isSymbol from './isSymbol.js';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nexport default toKey;\n", "import castPath from './_castPath.js';\nimport toKey from './_toKey.js';\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nexport default baseGet;\n", "import baseGet from './_baseGet.js';\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nexport default get;\n", "/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nexport default baseHasIn;\n", "import castPath from './_castPath.js';\nimport isArguments from './isArguments.js';\nimport isArray from './isArray.js';\nimport isIndex from './_isIndex.js';\nimport isLength from './isLength.js';\nimport toKey from './_toKey.js';\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nexport default hasPath;\n", "import baseHasIn from './_baseHasIn.js';\nimport hasPath from './_hasPath.js';\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nexport default hasIn;\n", "import baseIsEqual from './_baseIsEqual.js';\nimport get from './get.js';\nimport hasIn from './hasIn.js';\nimport isKey from './_isKey.js';\nimport isStrictComparable from './_isStrictComparable.js';\nimport matchesStrictComparable from './_matchesStrictComparable.js';\nimport toKey from './_toKey.js';\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nexport default baseMatchesProperty;\n", "/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nexport default baseProperty;\n", "import baseGet from './_baseGet.js';\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nexport default basePropertyDeep;\n", "import baseProperty from './_baseProperty.js';\nimport basePropertyDeep from './_basePropertyDeep.js';\nimport isKey from './_isKey.js';\nimport toKey from './_toKey.js';\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nexport default property;\n", "import baseMatches from './_baseMatches.js';\nimport baseMatchesProperty from './_baseMatchesProperty.js';\nimport identity from './identity.js';\nimport isArray from './isArray.js';\nimport property from './property.js';\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nexport default baseIteratee;\n", "import baseEach from './_baseEach.js';\nimport isArrayLike from './isArrayLike.js';\n\n/**\n * The base implementation of `_.map` without support for iteratee shorthands.\n *\n * @private\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction baseMap(collection, iteratee) {\n  var index = -1,\n      result = isArrayLike(collection) ? Array(collection.length) : [];\n\n  baseEach(collection, function(value, key, collection) {\n    result[++index] = iteratee(value, key, collection);\n  });\n  return result;\n}\n\nexport default baseMap;\n", "import arrayMap from './_arrayMap.js';\nimport baseIteratee from './_baseIteratee.js';\nimport baseMap from './_baseMap.js';\nimport isArray from './isArray.js';\n\n/**\n * Creates an array of values by running each element in `collection` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, index|key, collection).\n *\n * Many lodash methods are guarded to work as iteratees for methods like\n * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\n *\n * The guarded methods are:\n * `ary`, `chunk`, `curry`, `curryRight`, `drop`, `dropRight`, `every`,\n * `fill`, `invert`, `parseInt`, `random`, `range`, `rangeRight`, `repeat`,\n * `sampleSize`, `slice`, `some`, `sortBy`, `split`, `take`, `takeRight`,\n * `template`, `trim`, `trimEnd`, `trimStart`, and `words`\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Collection\n * @param {Array|Object} collection The collection to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n * @example\n *\n * function square(n) {\n *   return n * n;\n * }\n *\n * _.map([4, 8], square);\n * // => [16, 64]\n *\n * _.map({ 'a': 4, 'b': 8 }, square);\n * // => [16, 64] (iteration order is not guaranteed)\n *\n * var users = [\n *   { 'user': 'barney' },\n *   { 'user': 'fred' }\n * ];\n *\n * // The `_.property` iteratee shorthand.\n * _.map(users, 'user');\n * // => ['barney', 'fred']\n */\nfunction map(collection, iteratee) {\n  var func = isArray(collection) ? arrayMap : baseMap;\n  return func(collection, baseIteratee(iteratee, 3));\n}\n\nexport default map;\n", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport map from 'lodash-es/map';\nimport merge from 'lodash-es/merge';\nimport * as material from 'material-colors';\n\nimport { ColorWrap } from '../common';\nimport CircleSwatch from './CircleSwatch';\n\nexport var Circle = function Circle(_ref) {\n  var width = _ref.width,\n      onChange = _ref.onChange,\n      onSwatchHover = _ref.onSwatchHover,\n      colors = _ref.colors,\n      hex = _ref.hex,\n      circleSize = _ref.circleSize,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      circleSpacing = _ref.circleSpacing,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      card: {\n        width: width,\n        display: 'flex',\n        flexWrap: 'wrap',\n        marginRight: -circleSpacing,\n        marginBottom: -circleSpacing\n      }\n    }\n  }, passedStyles));\n\n  var handleChange = function handleChange(hexCode, e) {\n    return onChange({ hex: hexCode, source: 'hex' }, e);\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.card, className: 'circle-picker ' + className },\n    map(colors, function (c) {\n      return React.createElement(CircleSwatch, {\n        key: c,\n        color: c,\n        onClick: handleChange,\n        onSwatchHover: onSwatchHover,\n        active: hex === c.toLowerCase(),\n        circleSize: circleSize,\n        circleSpacing: circleSpacing\n      });\n    })\n  );\n};\n\nCircle.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  circleSize: PropTypes.number,\n  circleSpacing: PropTypes.number,\n  styles: PropTypes.object\n};\n\nCircle.defaultProps = {\n  width: 252,\n  circleSize: 28,\n  circleSpacing: 14,\n  colors: [material.red['500'], material.pink['500'], material.purple['500'], material.deepPurple['500'], material.indigo['500'], material.blue['500'], material.lightBlue['500'], material.cyan['500'], material.teal['500'], material.green['500'], material.lightGreen['500'], material.lime['500'], material.yellow['500'], material.amber['500'], material.orange['500'], material.deepOrange['500'], material.brown['500'], material.blueGrey['500']],\n  styles: {}\n};\n\nexport default ColorWrap(Circle);", "export var red = {\"50\":\"#ffebee\",\"100\":\"#ffcdd2\",\"200\":\"#ef9a9a\",\"300\":\"#e57373\",\"400\":\"#ef5350\",\"500\":\"#f44336\",\"600\":\"#e53935\",\"700\":\"#d32f2f\",\"800\":\"#c62828\",\"900\":\"#b71c1c\",\"a100\":\"#ff8a80\",\"a200\":\"#ff5252\",\"a400\":\"#ff1744\",\"a700\":\"#d50000\"};\nexport var pink = {\"50\":\"#fce4ec\",\"100\":\"#f8bbd0\",\"200\":\"#f48fb1\",\"300\":\"#f06292\",\"400\":\"#ec407a\",\"500\":\"#e91e63\",\"600\":\"#d81b60\",\"700\":\"#c2185b\",\"800\":\"#ad1457\",\"900\":\"#880e4f\",\"a100\":\"#ff80ab\",\"a200\":\"#ff4081\",\"a400\":\"#f50057\",\"a700\":\"#c51162\"};\nexport var purple = {\"50\":\"#f3e5f5\",\"100\":\"#e1bee7\",\"200\":\"#ce93d8\",\"300\":\"#ba68c8\",\"400\":\"#ab47bc\",\"500\":\"#9c27b0\",\"600\":\"#8e24aa\",\"700\":\"#7b1fa2\",\"800\":\"#6a1b9a\",\"900\":\"#4a148c\",\"a100\":\"#ea80fc\",\"a200\":\"#e040fb\",\"a400\":\"#d500f9\",\"a700\":\"#aa00ff\"};\nexport var deepPurple = {\"50\":\"#ede7f6\",\"100\":\"#d1c4e9\",\"200\":\"#b39ddb\",\"300\":\"#9575cd\",\"400\":\"#7e57c2\",\"500\":\"#673ab7\",\"600\":\"#5e35b1\",\"700\":\"#512da8\",\"800\":\"#4527a0\",\"900\":\"#311b92\",\"a100\":\"#b388ff\",\"a200\":\"#7c4dff\",\"a400\":\"#651fff\",\"a700\":\"#6200ea\"};\nexport var indigo = {\"50\":\"#e8eaf6\",\"100\":\"#c5cae9\",\"200\":\"#9fa8da\",\"300\":\"#7986cb\",\"400\":\"#5c6bc0\",\"500\":\"#3f51b5\",\"600\":\"#3949ab\",\"700\":\"#303f9f\",\"800\":\"#283593\",\"900\":\"#1a237e\",\"a100\":\"#8c9eff\",\"a200\":\"#536dfe\",\"a400\":\"#3d5afe\",\"a700\":\"#304ffe\"};\nexport var blue = {\"50\":\"#e3f2fd\",\"100\":\"#bbdefb\",\"200\":\"#90caf9\",\"300\":\"#64b5f6\",\"400\":\"#42a5f5\",\"500\":\"#2196f3\",\"600\":\"#1e88e5\",\"700\":\"#1976d2\",\"800\":\"#1565c0\",\"900\":\"#0d47a1\",\"a100\":\"#82b1ff\",\"a200\":\"#448aff\",\"a400\":\"#2979ff\",\"a700\":\"#2962ff\"};\nexport var lightBlue = {\"50\":\"#e1f5fe\",\"100\":\"#b3e5fc\",\"200\":\"#81d4fa\",\"300\":\"#4fc3f7\",\"400\":\"#29b6f6\",\"500\":\"#03a9f4\",\"600\":\"#039be5\",\"700\":\"#0288d1\",\"800\":\"#0277bd\",\"900\":\"#01579b\",\"a100\":\"#80d8ff\",\"a200\":\"#40c4ff\",\"a400\":\"#00b0ff\",\"a700\":\"#0091ea\"};\nexport var cyan = {\"50\":\"#e0f7fa\",\"100\":\"#b2ebf2\",\"200\":\"#80deea\",\"300\":\"#4dd0e1\",\"400\":\"#26c6da\",\"500\":\"#00bcd4\",\"600\":\"#00acc1\",\"700\":\"#0097a7\",\"800\":\"#00838f\",\"900\":\"#006064\",\"a100\":\"#84ffff\",\"a200\":\"#18ffff\",\"a400\":\"#00e5ff\",\"a700\":\"#00b8d4\"};\nexport var teal = {\"50\":\"#e0f2f1\",\"100\":\"#b2dfdb\",\"200\":\"#80cbc4\",\"300\":\"#4db6ac\",\"400\":\"#26a69a\",\"500\":\"#009688\",\"600\":\"#00897b\",\"700\":\"#00796b\",\"800\":\"#00695c\",\"900\":\"#004d40\",\"a100\":\"#a7ffeb\",\"a200\":\"#64ffda\",\"a400\":\"#1de9b6\",\"a700\":\"#00bfa5\"};\nexport var green = {\"50\":\"#e8f5e9\",\"100\":\"#c8e6c9\",\"200\":\"#a5d6a7\",\"300\":\"#81c784\",\"400\":\"#66bb6a\",\"500\":\"#4caf50\",\"600\":\"#43a047\",\"700\":\"#388e3c\",\"800\":\"#2e7d32\",\"900\":\"#1b5e20\",\"a100\":\"#b9f6ca\",\"a200\":\"#69f0ae\",\"a400\":\"#00e676\",\"a700\":\"#00c853\"};\nexport var lightGreen = {\"50\":\"#f1f8e9\",\"100\":\"#dcedc8\",\"200\":\"#c5e1a5\",\"300\":\"#aed581\",\"400\":\"#9ccc65\",\"500\":\"#8bc34a\",\"600\":\"#7cb342\",\"700\":\"#689f38\",\"800\":\"#558b2f\",\"900\":\"#33691e\",\"a100\":\"#ccff90\",\"a200\":\"#b2ff59\",\"a400\":\"#76ff03\",\"a700\":\"#64dd17\"};\nexport var lime = {\"50\":\"#f9fbe7\",\"100\":\"#f0f4c3\",\"200\":\"#e6ee9c\",\"300\":\"#dce775\",\"400\":\"#d4e157\",\"500\":\"#cddc39\",\"600\":\"#c0ca33\",\"700\":\"#afb42b\",\"800\":\"#9e9d24\",\"900\":\"#827717\",\"a100\":\"#f4ff81\",\"a200\":\"#eeff41\",\"a400\":\"#c6ff00\",\"a700\":\"#aeea00\"};\nexport var yellow = {\"50\":\"#fffde7\",\"100\":\"#fff9c4\",\"200\":\"#fff59d\",\"300\":\"#fff176\",\"400\":\"#ffee58\",\"500\":\"#ffeb3b\",\"600\":\"#fdd835\",\"700\":\"#fbc02d\",\"800\":\"#f9a825\",\"900\":\"#f57f17\",\"a100\":\"#ffff8d\",\"a200\":\"#ffff00\",\"a400\":\"#ffea00\",\"a700\":\"#ffd600\"};\nexport var amber = {\"50\":\"#fff8e1\",\"100\":\"#ffecb3\",\"200\":\"#ffe082\",\"300\":\"#ffd54f\",\"400\":\"#ffca28\",\"500\":\"#ffc107\",\"600\":\"#ffb300\",\"700\":\"#ffa000\",\"800\":\"#ff8f00\",\"900\":\"#ff6f00\",\"a100\":\"#ffe57f\",\"a200\":\"#ffd740\",\"a400\":\"#ffc400\",\"a700\":\"#ffab00\"};\nexport var orange = {\"50\":\"#fff3e0\",\"100\":\"#ffe0b2\",\"200\":\"#ffcc80\",\"300\":\"#ffb74d\",\"400\":\"#ffa726\",\"500\":\"#ff9800\",\"600\":\"#fb8c00\",\"700\":\"#f57c00\",\"800\":\"#ef6c00\",\"900\":\"#e65100\",\"a100\":\"#ffd180\",\"a200\":\"#ffab40\",\"a400\":\"#ff9100\",\"a700\":\"#ff6d00\"};\nexport var deepOrange = {\"50\":\"#fbe9e7\",\"100\":\"#ffccbc\",\"200\":\"#ffab91\",\"300\":\"#ff8a65\",\"400\":\"#ff7043\",\"500\":\"#ff5722\",\"600\":\"#f4511e\",\"700\":\"#e64a19\",\"800\":\"#d84315\",\"900\":\"#bf360c\",\"a100\":\"#ff9e80\",\"a200\":\"#ff6e40\",\"a400\":\"#ff3d00\",\"a700\":\"#dd2c00\"};\nexport var brown = {\"50\":\"#efebe9\",\"100\":\"#d7ccc8\",\"200\":\"#bcaaa4\",\"300\":\"#a1887f\",\"400\":\"#8d6e63\",\"500\":\"#795548\",\"600\":\"#6d4c41\",\"700\":\"#5d4037\",\"800\":\"#4e342e\",\"900\":\"#3e2723\"};\nexport var grey = {\"50\":\"#fafafa\",\"100\":\"#f5f5f5\",\"200\":\"#eeeeee\",\"300\":\"#e0e0e0\",\"400\":\"#bdbdbd\",\"500\":\"#9e9e9e\",\"600\":\"#757575\",\"700\":\"#616161\",\"800\":\"#424242\",\"900\":\"#212121\"};\nexport var blueGrey = {\"50\":\"#eceff1\",\"100\":\"#cfd8dc\",\"200\":\"#b0bec5\",\"300\":\"#90a4ae\",\"400\":\"#78909c\",\"500\":\"#607d8b\",\"600\":\"#546e7a\",\"700\":\"#455a64\",\"800\":\"#37474f\",\"900\":\"#263238\"};\nexport var darkText = {\"primary\":\"rgba(0, 0, 0, 0.87)\",\"secondary\":\"rgba(0, 0, 0, 0.54)\",\"disabled\":\"rgba(0, 0, 0, 0.38)\",\"dividers\":\"rgba(0, 0, 0, 0.12)\"};\nexport var lightText = {\"primary\":\"rgba(255, 255, 255, 1)\",\"secondary\":\"rgba(255, 255, 255, 0.7)\",\"disabled\":\"rgba(255, 255, 255, 0.5)\",\"dividers\":\"rgba(255, 255, 255, 0.12)\"};\nexport var darkIcons = {\"active\":\"rgba(0, 0, 0, 0.54)\",\"inactive\":\"rgba(0, 0, 0, 0.38)\"};\nexport var lightIcons = {\"active\":\"rgba(255, 255, 255, 1)\",\"inactive\":\"rgba(255, 255, 255, 0.5)\"};\nexport var white = \"#ffffff\";\nexport var black = \"#000000\";\n\nexport default {\n  red: red,\n  pink: pink,\n  purple: purple,\n  deepPurple: deepPurple,\n  indigo: indigo,\n  blue: blue,\n  lightBlue: lightBlue,\n  cyan: cyan,\n  teal: teal,\n  green: green,\n  lightGreen: lightGreen,\n  lime: lime,\n  yellow: yellow,\n  amber: amber,\n  orange: orange,\n  deepOrange: deepOrange,\n  brown: brown,\n  grey: grey,\n  blueGrey: blueGrey,\n  darkText: darkText,\n  lightText: lightText,\n  darkIcons: darkIcons,\n  lightIcons: lightIcons,\n  white: white,\n  black: black\n};\n", "import React from 'react';\nimport reactCSS, { handleHover } from 'reactcss';\n\nimport { Swatch } from '../common';\n\nexport var CircleSwatch = function CircleSwatch(_ref) {\n  var color = _ref.color,\n      onClick = _ref.onClick,\n      onSwatchHover = _ref.onSwatchHover,\n      hover = _ref.hover,\n      active = _ref.active,\n      circleSize = _ref.circleSize,\n      circleSpacing = _ref.circleSpacing;\n\n  var styles = reactCSS({\n    'default': {\n      swatch: {\n        width: circleSize,\n        height: circleSize,\n        marginRight: circleSpacing,\n        marginBottom: circleSpacing,\n        transform: 'scale(1)',\n        transition: '100ms transform ease'\n      },\n      Swatch: {\n        borderRadius: '50%',\n        background: 'transparent',\n        boxShadow: 'inset 0 0 0 ' + (circleSize / 2 + 1) + 'px ' + color,\n        transition: '100ms box-shadow ease'\n      }\n    },\n    'hover': {\n      swatch: {\n        transform: 'scale(1.2)'\n      }\n    },\n    'active': {\n      Swatch: {\n        boxShadow: 'inset 0 0 0 3px ' + color\n      }\n    }\n  }, { hover: hover, active: active });\n\n  return React.createElement(\n    'div',\n    { style: styles.swatch },\n    React.createElement(Swatch, {\n      style: styles.Swatch,\n      color: color,\n      onClick: onClick,\n      onHover: onSwatchHover,\n      focusStyle: { boxShadow: styles.Swatch.boxShadow + ', 0 0 5px ' + color }\n    })\n  );\n};\n\nCircleSwatch.defaultProps = {\n  circleSize: 28,\n  circleSpacing: 14\n};\n\nexport default handleHover(CircleSwatch);", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\n\nimport { ColorWrap, Saturation, Hue, Alpha, Checkboard } from '../common';\nimport ChromeFields from './ChromeFields';\nimport ChromePointer from './ChromePointer';\nimport ChromePointerCircle from './ChromePointerCircle';\n\nexport var Chrome = function Chrome(_ref) {\n  var width = _ref.width,\n      onChange = _ref.onChange,\n      disableAlpha = _ref.disableAlpha,\n      rgb = _ref.rgb,\n      hsl = _ref.hsl,\n      hsv = _ref.hsv,\n      hex = _ref.hex,\n      renderers = _ref.renderers,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className,\n      defaultView = _ref.defaultView;\n\n  var styles = reactCSS(merge({\n    'default': {\n      picker: {\n        width: width,\n        background: '#fff',\n        borderRadius: '2px',\n        boxShadow: '0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)',\n        boxSizing: 'initial',\n        fontFamily: 'Menlo'\n      },\n      saturation: {\n        width: '100%',\n        paddingBottom: '55%',\n        position: 'relative',\n        borderRadius: '2px 2px 0 0',\n        overflow: 'hidden'\n      },\n      Saturation: {\n        radius: '2px 2px 0 0'\n      },\n      body: {\n        padding: '16px 16px 12px'\n      },\n      controls: {\n        display: 'flex'\n      },\n      color: {\n        width: '32px'\n      },\n      swatch: {\n        marginTop: '6px',\n        width: '16px',\n        height: '16px',\n        borderRadius: '8px',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      active: {\n        absolute: '0px 0px 0px 0px',\n        borderRadius: '8px',\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.1)',\n        background: 'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', ' + rgb.a + ')',\n        zIndex: '2'\n      },\n      toggles: {\n        flex: '1'\n      },\n      hue: {\n        height: '10px',\n        position: 'relative',\n        marginBottom: '8px'\n      },\n      Hue: {\n        radius: '2px'\n      },\n      alpha: {\n        height: '10px',\n        position: 'relative'\n      },\n      Alpha: {\n        radius: '2px'\n      }\n    },\n    'disableAlpha': {\n      color: {\n        width: '22px'\n      },\n      alpha: {\n        display: 'none'\n      },\n      hue: {\n        marginBottom: '0px'\n      },\n      swatch: {\n        width: '10px',\n        height: '10px',\n        marginTop: '0px'\n      }\n    }\n  }, passedStyles), { disableAlpha: disableAlpha });\n\n  return React.createElement(\n    'div',\n    { style: styles.picker, className: 'chrome-picker ' + className },\n    React.createElement(\n      'div',\n      { style: styles.saturation },\n      React.createElement(Saturation, {\n        style: styles.Saturation,\n        hsl: hsl,\n        hsv: hsv,\n        pointer: ChromePointerCircle,\n        onChange: onChange\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.body },\n      React.createElement(\n        'div',\n        { style: styles.controls, className: 'flexbox-fix' },\n        React.createElement(\n          'div',\n          { style: styles.color },\n          React.createElement(\n            'div',\n            { style: styles.swatch },\n            React.createElement('div', { style: styles.active }),\n            React.createElement(Checkboard, { renderers: renderers })\n          )\n        ),\n        React.createElement(\n          'div',\n          { style: styles.toggles },\n          React.createElement(\n            'div',\n            { style: styles.hue },\n            React.createElement(Hue, {\n              style: styles.Hue,\n              hsl: hsl,\n              pointer: ChromePointer,\n              onChange: onChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.alpha },\n            React.createElement(Alpha, {\n              style: styles.Alpha,\n              rgb: rgb,\n              hsl: hsl,\n              pointer: ChromePointer,\n              renderers: renderers,\n              onChange: onChange\n            })\n          )\n        )\n      ),\n      React.createElement(ChromeFields, {\n        rgb: rgb,\n        hsl: hsl,\n        hex: hex,\n        view: defaultView,\n        onChange: onChange,\n        disableAlpha: disableAlpha\n      })\n    )\n  );\n};\n\nChrome.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  disableAlpha: PropTypes.bool,\n  styles: PropTypes.object,\n  defaultView: PropTypes.oneOf([\"hex\", \"rgb\", \"hsl\"])\n};\n\nChrome.defaultProps = {\n  width: 225,\n  disableAlpha: false,\n  styles: {}\n};\n\nexport default ColorWrap(Chrome);", "var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/no-did-mount-set-state, no-param-reassign */\n\nimport React from 'react';\nimport reactCSS from 'reactcss';\nimport * as color from '../../helpers/color';\nimport isUndefined from 'lodash-es/isUndefined';\n\nimport { EditableInput } from '../common';\nimport UnfoldMoreHorizontalIcon from '@icons/material/UnfoldMoreHorizontalIcon';\n\nexport var ChromeFields = function (_React$Component) {\n  _inherits(ChromeFields, _React$Component);\n\n  function ChromeFields(props) {\n    _classCallCheck(this, ChromeFields);\n\n    var _this = _possibleConstructorReturn(this, (ChromeFields.__proto__ || Object.getPrototypeOf(ChromeFields)).call(this));\n\n    _this.toggleViews = function () {\n      if (_this.state.view === 'hex') {\n        _this.setState({ view: 'rgb' });\n      } else if (_this.state.view === 'rgb') {\n        _this.setState({ view: 'hsl' });\n      } else if (_this.state.view === 'hsl') {\n        if (_this.props.hsl.a === 1) {\n          _this.setState({ view: 'hex' });\n        } else {\n          _this.setState({ view: 'rgb' });\n        }\n      }\n    };\n\n    _this.handleChange = function (data, e) {\n      if (data.hex) {\n        color.isValidHex(data.hex) && _this.props.onChange({\n          hex: data.hex,\n          source: 'hex'\n        }, e);\n      } else if (data.r || data.g || data.b) {\n        _this.props.onChange({\n          r: data.r || _this.props.rgb.r,\n          g: data.g || _this.props.rgb.g,\n          b: data.b || _this.props.rgb.b,\n          source: 'rgb'\n        }, e);\n      } else if (data.a) {\n        if (data.a < 0) {\n          data.a = 0;\n        } else if (data.a > 1) {\n          data.a = 1;\n        }\n\n        _this.props.onChange({\n          h: _this.props.hsl.h,\n          s: _this.props.hsl.s,\n          l: _this.props.hsl.l,\n          a: Math.round(data.a * 100) / 100,\n          source: 'rgb'\n        }, e);\n      } else if (data.h || data.s || data.l) {\n        // Remove any occurances of '%'.\n        if (typeof data.s === 'string' && data.s.includes('%')) {\n          data.s = data.s.replace('%', '');\n        }\n        if (typeof data.l === 'string' && data.l.includes('%')) {\n          data.l = data.l.replace('%', '');\n        }\n\n        // We store HSL as a unit interval so we need to override the 1 input to 0.01\n        if (data.s == 1) {\n          data.s = 0.01;\n        } else if (data.l == 1) {\n          data.l = 0.01;\n        }\n\n        _this.props.onChange({\n          h: data.h || _this.props.hsl.h,\n          s: Number(!isUndefined(data.s) ? data.s : _this.props.hsl.s),\n          l: Number(!isUndefined(data.l) ? data.l : _this.props.hsl.l),\n          source: 'hsl'\n        }, e);\n      }\n    };\n\n    _this.showHighlight = function (e) {\n      e.currentTarget.style.background = '#eee';\n    };\n\n    _this.hideHighlight = function (e) {\n      e.currentTarget.style.background = 'transparent';\n    };\n\n    if (props.hsl.a !== 1 && props.view === \"hex\") {\n      _this.state = {\n        view: \"rgb\"\n      };\n    } else {\n      _this.state = {\n        view: props.view\n      };\n    }\n    return _this;\n  }\n\n  _createClass(ChromeFields, [{\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var styles = reactCSS({\n        'default': {\n          wrap: {\n            paddingTop: '16px',\n            display: 'flex'\n          },\n          fields: {\n            flex: '1',\n            display: 'flex',\n            marginLeft: '-6px'\n          },\n          field: {\n            paddingLeft: '6px',\n            width: '100%'\n          },\n          alpha: {\n            paddingLeft: '6px',\n            width: '100%'\n          },\n          toggle: {\n            width: '32px',\n            textAlign: 'right',\n            position: 'relative'\n          },\n          icon: {\n            marginRight: '-4px',\n            marginTop: '12px',\n            cursor: 'pointer',\n            position: 'relative'\n          },\n          iconHighlight: {\n            position: 'absolute',\n            width: '24px',\n            height: '28px',\n            background: '#eee',\n            borderRadius: '4px',\n            top: '10px',\n            left: '12px',\n            display: 'none'\n          },\n          input: {\n            fontSize: '11px',\n            color: '#333',\n            width: '100%',\n            borderRadius: '2px',\n            border: 'none',\n            boxShadow: 'inset 0 0 0 1px #dadada',\n            height: '21px',\n            textAlign: 'center'\n          },\n          label: {\n            textTransform: 'uppercase',\n            fontSize: '11px',\n            lineHeight: '11px',\n            color: '#969696',\n            textAlign: 'center',\n            display: 'block',\n            marginTop: '12px'\n          },\n          svg: {\n            fill: '#333',\n            width: '24px',\n            height: '24px',\n            border: '1px transparent solid',\n            borderRadius: '5px'\n          }\n        },\n        'disableAlpha': {\n          alpha: {\n            display: 'none'\n          }\n        }\n      }, this.props, this.state);\n\n      var fields = void 0;\n      if (this.state.view === 'hex') {\n        fields = React.createElement(\n          'div',\n          { style: styles.fields, className: 'flexbox-fix' },\n          React.createElement(\n            'div',\n            { style: styles.field },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'hex', value: this.props.hex,\n              onChange: this.handleChange\n            })\n          )\n        );\n      } else if (this.state.view === 'rgb') {\n        fields = React.createElement(\n          'div',\n          { style: styles.fields, className: 'flexbox-fix' },\n          React.createElement(\n            'div',\n            { style: styles.field },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'r',\n              value: this.props.rgb.r,\n              onChange: this.handleChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.field },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'g',\n              value: this.props.rgb.g,\n              onChange: this.handleChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.field },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'b',\n              value: this.props.rgb.b,\n              onChange: this.handleChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.alpha },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'a',\n              value: this.props.rgb.a,\n              arrowOffset: 0.01,\n              onChange: this.handleChange\n            })\n          )\n        );\n      } else if (this.state.view === 'hsl') {\n        fields = React.createElement(\n          'div',\n          { style: styles.fields, className: 'flexbox-fix' },\n          React.createElement(\n            'div',\n            { style: styles.field },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'h',\n              value: Math.round(this.props.hsl.h),\n              onChange: this.handleChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.field },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 's',\n              value: Math.round(this.props.hsl.s * 100) + '%',\n              onChange: this.handleChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.field },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'l',\n              value: Math.round(this.props.hsl.l * 100) + '%',\n              onChange: this.handleChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.alpha },\n            React.createElement(EditableInput, {\n              style: { input: styles.input, label: styles.label },\n              label: 'a',\n              value: this.props.hsl.a,\n              arrowOffset: 0.01,\n              onChange: this.handleChange\n            })\n          )\n        );\n      }\n\n      return React.createElement(\n        'div',\n        { style: styles.wrap, className: 'flexbox-fix' },\n        fields,\n        React.createElement(\n          'div',\n          { style: styles.toggle },\n          React.createElement(\n            'div',\n            { style: styles.icon, onClick: this.toggleViews, ref: function ref(icon) {\n                return _this2.icon = icon;\n              } },\n            React.createElement(UnfoldMoreHorizontalIcon, {\n              style: styles.svg,\n              onMouseOver: this.showHighlight,\n              onMouseEnter: this.showHighlight,\n              onMouseOut: this.hideHighlight\n            })\n          )\n        )\n      );\n    }\n  }], [{\n    key: 'getDerivedStateFromProps',\n    value: function getDerivedStateFromProps(nextProps, state) {\n      if (nextProps.hsl.a !== 1 && state.view === 'hex') {\n        return { view: 'rgb' };\n      }\n      return null;\n    }\n  }]);\n\n  return ChromeFields;\n}(React.Component);\n\nChromeFields.defaultProps = {\n  view: \"hex\"\n};\n\nexport default ChromeFields;", "/**\n * Checks if `value` is `undefined`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n * @example\n *\n * _.isUndefined(void 0);\n * // => true\n *\n * _.isUndefined(null);\n * // => false\n */\nfunction isUndefined(value) {\n  return value === undefined;\n}\n\nexport default isUndefined;\n", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var ChromePointer = function ChromePointer() {\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '12px',\n        height: '12px',\n        borderRadius: '6px',\n        transform: 'translate(-6px, -1px)',\n        backgroundColor: 'rgb(248, 248, 248)',\n        boxShadow: '0 1px 4px 0 rgba(0, 0, 0, 0.37)'\n      }\n    }\n  });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nexport default ChromePointer;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var ChromePointerCircle = function ChromePointerCircle() {\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '12px',\n        height: '12px',\n        borderRadius: '6px',\n        boxShadow: 'inset 0 0 0 1px #fff',\n        transform: 'translate(-6px, -6px)'\n      }\n    }\n  });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nexport default ChromePointerCircle;", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport map from 'lodash-es/map';\nimport merge from 'lodash-es/merge';\nimport * as color from '../../helpers/color';\n\nimport { ColorWrap, Raised } from '../common';\nimport CompactColor from './CompactColor';\nimport CompactFields from './CompactFields';\n\nexport var Compact = function Compact(_ref) {\n  var onChange = _ref.onChange,\n      onSwatchHover = _ref.onSwatchHover,\n      colors = _ref.colors,\n      hex = _ref.hex,\n      rgb = _ref.rgb,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      Compact: {\n        background: '#f6f6f6',\n        radius: '4px'\n      },\n      compact: {\n        paddingTop: '5px',\n        paddingLeft: '5px',\n        boxSizing: 'initial',\n        width: '240px'\n      },\n      clear: {\n        clear: 'both'\n      }\n    }\n  }, passedStyles));\n\n  var handleChange = function handleChange(data, e) {\n    if (data.hex) {\n      color.isValidHex(data.hex) && onChange({\n        hex: data.hex,\n        source: 'hex'\n      }, e);\n    } else {\n      onChange(data, e);\n    }\n  };\n\n  return React.createElement(\n    Raised,\n    { style: styles.Compact, styles: passedStyles },\n    React.createElement(\n      'div',\n      { style: styles.compact, className: 'compact-picker ' + className },\n      React.createElement(\n        'div',\n        null,\n        map(colors, function (c) {\n          return React.createElement(CompactColor, {\n            key: c,\n            color: c,\n            active: c.toLowerCase() === hex,\n            onClick: handleChange,\n            onSwatchHover: onSwatchHover\n          });\n        }),\n        React.createElement('div', { style: styles.clear })\n      ),\n      React.createElement(CompactFields, { hex: hex, rgb: rgb, onChange: handleChange })\n    )\n  );\n};\n\nCompact.propTypes = {\n  colors: PropTypes.arrayOf(PropTypes.string),\n  styles: PropTypes.object\n};\n\nCompact.defaultProps = {\n  colors: ['#4D4D4D', '#999999', '#FFFFFF', '#F44E3B', '#FE9200', '#FCDC00', '#DBDF00', '#A4DD00', '#68CCCA', '#73D8FF', '#AEA1FF', '#FDA1FF', '#333333', '#808080', '#cccccc', '#D33115', '#E27300', '#FCC400', '#B0BC00', '#68BC00', '#16A5A5', '#009CE0', '#7B64FF', '#FA28FF', '#000000', '#666666', '#B3B3B3', '#9F0500', '#C45100', '#FB9E00', '#808900', '#194D33', '#0C797D', '#0062B1', '#653294', '#AB149E'],\n  styles: {}\n};\n\nexport default ColorWrap(Compact);", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport * as colorUtils from '../../helpers/color';\n\nimport { Swatch } from '../common';\n\nexport var CompactColor = function CompactColor(_ref) {\n  var color = _ref.color,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\n      onSwatchHover = _ref.onSwatchHover,\n      active = _ref.active;\n\n  var styles = reactCSS({\n    'default': {\n      color: {\n        background: color,\n        width: '15px',\n        height: '15px',\n        float: 'left',\n        marginRight: '5px',\n        marginBottom: '5px',\n        position: 'relative',\n        cursor: 'pointer'\n      },\n      dot: {\n        absolute: '5px 5px 5px 5px',\n        background: colorUtils.getContrastingColor(color),\n        borderRadius: '50%',\n        opacity: '0'\n      }\n    },\n    'active': {\n      dot: {\n        opacity: '1'\n      }\n    },\n    'color-#FFFFFF': {\n      color: {\n        boxShadow: 'inset 0 0 0 1px #ddd'\n      },\n      dot: {\n        background: '#000'\n      }\n    },\n    'transparent': {\n      dot: {\n        background: '#000'\n      }\n    }\n  }, { active: active, 'color-#FFFFFF': color === '#FFFFFF', 'transparent': color === 'transparent' });\n\n  return React.createElement(\n    Swatch,\n    {\n      style: styles.color,\n      color: color,\n      onClick: onClick,\n      onHover: onSwatchHover,\n      focusStyle: { boxShadow: '0 0 4px ' + color }\n    },\n    React.createElement('div', { style: styles.dot })\n  );\n};\n\nexport default CompactColor;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nimport { EditableInput } from '../common';\n\nexport var CompactFields = function CompactFields(_ref) {\n  var hex = _ref.hex,\n      rgb = _ref.rgb,\n      onChange = _ref.onChange;\n\n  var styles = reactCSS({\n    'default': {\n      fields: {\n        display: 'flex',\n        paddingBottom: '6px',\n        paddingRight: '5px',\n        position: 'relative'\n      },\n      active: {\n        position: 'absolute',\n        top: '6px',\n        left: '5px',\n        height: '9px',\n        width: '9px',\n        background: hex\n      },\n      HEXwrap: {\n        flex: '6',\n        position: 'relative'\n      },\n      HEXinput: {\n        width: '80%',\n        padding: '0px',\n        paddingLeft: '20%',\n        border: 'none',\n        outline: 'none',\n        background: 'none',\n        fontSize: '12px',\n        color: '#333',\n        height: '16px'\n      },\n      HEXlabel: {\n        display: 'none'\n      },\n      RGBwrap: {\n        flex: '3',\n        position: 'relative'\n      },\n      RGBinput: {\n        width: '70%',\n        padding: '0px',\n        paddingLeft: '30%',\n        border: 'none',\n        outline: 'none',\n        background: 'none',\n        fontSize: '12px',\n        color: '#333',\n        height: '16px'\n      },\n      RGBlabel: {\n        position: 'absolute',\n        top: '3px',\n        left: '0px',\n        lineHeight: '16px',\n        textTransform: 'uppercase',\n        fontSize: '12px',\n        color: '#999'\n      }\n    }\n  });\n\n  var handleChange = function handleChange(data, e) {\n    if (data.r || data.g || data.b) {\n      onChange({\n        r: data.r || rgb.r,\n        g: data.g || rgb.g,\n        b: data.b || rgb.b,\n        source: 'rgb'\n      }, e);\n    } else {\n      onChange({\n        hex: data.hex,\n        source: 'hex'\n      }, e);\n    }\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.fields, className: 'flexbox-fix' },\n    React.createElement('div', { style: styles.active }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.HEXwrap, input: styles.HEXinput, label: styles.HEXlabel },\n      label: 'hex',\n      value: hex,\n      onChange: handleChange\n    }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'r',\n      value: rgb.r,\n      onChange: handleChange\n    }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'g',\n      value: rgb.g,\n      onChange: handleChange\n    }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'b',\n      value: rgb.b,\n      onChange: handleChange\n    })\n  );\n};\n\nexport default CompactFields;", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport map from 'lodash-es/map';\nimport merge from 'lodash-es/merge';\n\nimport { ColorWrap } from '../common';\nimport GithubSwatch from './GithubSwatch';\n\nexport var Github = function Github(_ref) {\n  var width = _ref.width,\n      colors = _ref.colors,\n      onChange = _ref.onChange,\n      onSwatchHover = _ref.onSwatchHover,\n      triangle = _ref.triangle,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      card: {\n        width: width,\n        background: '#fff',\n        border: '1px solid rgba(0,0,0,0.2)',\n        boxShadow: '0 3px 12px rgba(0,0,0,0.15)',\n        borderRadius: '4px',\n        position: 'relative',\n        padding: '5px',\n        display: 'flex',\n        flexWrap: 'wrap'\n      },\n      triangle: {\n        position: 'absolute',\n        border: '7px solid transparent',\n        borderBottomColor: '#fff'\n      },\n      triangleShadow: {\n        position: 'absolute',\n        border: '8px solid transparent',\n        borderBottomColor: 'rgba(0,0,0,0.15)'\n      }\n    },\n    'hide-triangle': {\n      triangle: {\n        display: 'none'\n      },\n      triangleShadow: {\n        display: 'none'\n      }\n    },\n    'top-left-triangle': {\n      triangle: {\n        top: '-14px',\n        left: '10px'\n      },\n      triangleShadow: {\n        top: '-16px',\n        left: '9px'\n      }\n    },\n    'top-right-triangle': {\n      triangle: {\n        top: '-14px',\n        right: '10px'\n      },\n      triangleShadow: {\n        top: '-16px',\n        right: '9px'\n      }\n    },\n    'bottom-left-triangle': {\n      triangle: {\n        top: '35px',\n        left: '10px',\n        transform: 'rotate(180deg)'\n      },\n      triangleShadow: {\n        top: '37px',\n        left: '9px',\n        transform: 'rotate(180deg)'\n      }\n    },\n    'bottom-right-triangle': {\n      triangle: {\n        top: '35px',\n        right: '10px',\n        transform: 'rotate(180deg)'\n      },\n      triangleShadow: {\n        top: '37px',\n        right: '9px',\n        transform: 'rotate(180deg)'\n      }\n    }\n  }, passedStyles), {\n    'hide-triangle': triangle === 'hide',\n    'top-left-triangle': triangle === 'top-left',\n    'top-right-triangle': triangle === 'top-right',\n    'bottom-left-triangle': triangle === 'bottom-left',\n    'bottom-right-triangle': triangle === 'bottom-right'\n  });\n\n  var handleChange = function handleChange(hex, e) {\n    return onChange({ hex: hex, source: 'hex' }, e);\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.card, className: 'github-picker ' + className },\n    React.createElement('div', { style: styles.triangleShadow }),\n    React.createElement('div', { style: styles.triangle }),\n    map(colors, function (c) {\n      return React.createElement(GithubSwatch, {\n        color: c,\n        key: c,\n        onClick: handleChange,\n        onSwatchHover: onSwatchHover\n      });\n    })\n  );\n};\n\nGithub.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  colors: PropTypes.arrayOf(PropTypes.string),\n  triangle: PropTypes.oneOf(['hide', 'top-left', 'top-right', 'bottom-left', 'bottom-right']),\n  styles: PropTypes.object\n};\n\nGithub.defaultProps = {\n  width: 200,\n  colors: ['#B80000', '#DB3E00', '#FCCB00', '#008B02', '#006B76', '#1273DE', '#004DCF', '#5300EB', '#EB9694', '#FAD0C3', '#FEF3BD', '#C1E1C5', '#BEDADC', '#C4DEF6', '#BED3F3', '#D4C4FB'],\n  triangle: 'top-left',\n  styles: {}\n};\n\nexport default ColorWrap(Github);", "import React from 'react';\nimport reactCSS, { handleHover } from 'reactcss';\n\nimport { Swatch } from '../common';\n\nexport var GithubSwatch = function GithubSwatch(_ref) {\n  var hover = _ref.hover,\n      color = _ref.color,\n      onClick = _ref.onClick,\n      onSwatchHover = _ref.onSwatchHover;\n\n  var hoverSwatch = {\n    position: 'relative',\n    zIndex: '2',\n    outline: '2px solid #fff',\n    boxShadow: '0 0 5px 2px rgba(0,0,0,0.25)'\n  };\n\n  var styles = reactCSS({\n    'default': {\n      swatch: {\n        width: '25px',\n        height: '25px',\n        fontSize: '0'\n      }\n    },\n    'hover': {\n      swatch: hoverSwatch\n    }\n  }, { hover: hover });\n\n  return React.createElement(\n    'div',\n    { style: styles.swatch },\n    React.createElement(Swatch, {\n      color: color,\n      onClick: onClick,\n      onHover: onSwatchHover,\n      focusStyle: hoverSwatch\n    })\n  );\n};\n\nexport default handleHover(GithubSwatch);", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\n\nimport { ColorWrap, Hue } from '../common';\nimport HuePointer from './HuePointer';\n\nexport var HuePicker = function HuePicker(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      onChange = _ref.onChange,\n      hsl = _ref.hsl,\n      direction = _ref.direction,\n      pointer = _ref.pointer,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      picker: {\n        position: 'relative',\n        width: width,\n        height: height\n      },\n      hue: {\n        radius: '2px'\n      }\n    }\n  }, passedStyles));\n\n  // Overwrite to provide pure hue color\n  var handleChange = function handleChange(data) {\n    return onChange({ a: 1, h: data.h, l: 0.5, s: 1 });\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.picker, className: 'hue-picker ' + className },\n    React.createElement(Hue, _extends({}, styles.hue, {\n      hsl: hsl,\n      pointer: pointer,\n      onChange: handleChange,\n      direction: direction\n    }))\n  );\n};\n\nHuePicker.propTypes = {\n  styles: PropTypes.object\n};\nHuePicker.defaultProps = {\n  width: '316px',\n  height: '16px',\n  direction: 'horizontal',\n  pointer: HuePointer,\n  styles: {}\n};\n\nexport default ColorWrap(HuePicker);", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var SliderPointer = function SliderPointer(_ref) {\n  var direction = _ref.direction;\n\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '18px',\n        height: '18px',\n        borderRadius: '50%',\n        transform: 'translate(-9px, -1px)',\n        backgroundColor: 'rgb(248, 248, 248)',\n        boxShadow: '0 1px 4px 0 rgba(0, 0, 0, 0.37)'\n      }\n    },\n    'vertical': {\n      picker: {\n        transform: 'translate(-3px, -9px)'\n      }\n    }\n  }, { vertical: direction === 'vertical' });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nexport default SliderPointer;", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\nimport * as color from '../../helpers/color';\n\nimport { ColorWrap, EditableInput, Raised } from '../common';\n\nexport var Material = function Material(_ref) {\n  var onChange = _ref.onChange,\n      hex = _ref.hex,\n      rgb = _ref.rgb,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      material: {\n        width: '98px',\n        height: '98px',\n        padding: '16px',\n        fontFamily: 'Roboto'\n      },\n      HEXwrap: {\n        position: 'relative'\n      },\n      HEXinput: {\n        width: '100%',\n        marginTop: '12px',\n        fontSize: '15px',\n        color: '#333',\n        padding: '0px',\n        border: '0px',\n        borderBottom: '2px solid ' + hex,\n        outline: 'none',\n        height: '30px'\n      },\n      HEXlabel: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        fontSize: '11px',\n        color: '#999999',\n        textTransform: 'capitalize'\n      },\n      Hex: {\n        style: {}\n      },\n      RGBwrap: {\n        position: 'relative'\n      },\n      RGBinput: {\n        width: '100%',\n        marginTop: '12px',\n        fontSize: '15px',\n        color: '#333',\n        padding: '0px',\n        border: '0px',\n        borderBottom: '1px solid #eee',\n        outline: 'none',\n        height: '30px'\n      },\n      RGBlabel: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        fontSize: '11px',\n        color: '#999999',\n        textTransform: 'capitalize'\n      },\n      split: {\n        display: 'flex',\n        marginRight: '-10px',\n        paddingTop: '11px'\n      },\n      third: {\n        flex: '1',\n        paddingRight: '10px'\n      }\n    }\n  }, passedStyles));\n\n  var handleChange = function handleChange(data, e) {\n    if (data.hex) {\n      color.isValidHex(data.hex) && onChange({\n        hex: data.hex,\n        source: 'hex'\n      }, e);\n    } else if (data.r || data.g || data.b) {\n      onChange({\n        r: data.r || rgb.r,\n        g: data.g || rgb.g,\n        b: data.b || rgb.b,\n        source: 'rgb'\n      }, e);\n    }\n  };\n\n  return React.createElement(\n    Raised,\n    { styles: passedStyles },\n    React.createElement(\n      'div',\n      { style: styles.material, className: 'material-picker ' + className },\n      React.createElement(EditableInput, {\n        style: { wrap: styles.HEXwrap, input: styles.HEXinput, label: styles.HEXlabel },\n        label: 'hex',\n        value: hex,\n        onChange: handleChange\n      }),\n      React.createElement(\n        'div',\n        { style: styles.split, className: 'flexbox-fix' },\n        React.createElement(\n          'div',\n          { style: styles.third },\n          React.createElement(EditableInput, {\n            style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n            label: 'r', value: rgb.r,\n            onChange: handleChange\n          })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.third },\n          React.createElement(EditableInput, {\n            style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n            label: 'g',\n            value: rgb.g,\n            onChange: handleChange\n          })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.third },\n          React.createElement(EditableInput, {\n            style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n            label: 'b',\n            value: rgb.b,\n            onChange: handleChange\n          })\n        )\n      )\n    )\n  );\n};\n\nexport default ColorWrap(Material);", "var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\n\nimport { ColorWrap, Saturation, Hue } from '../common';\nimport PhotoshopFields from './PhotoshopFields';\nimport PhotoshopPointerCircle from './PhotoshopPointerCircle';\nimport PhotoshopPointer from './PhotoshopPointer';\nimport PhotoshopButton from './PhotoshopButton';\nimport PhotoshopPreviews from './PhotoshopPreviews';\n\nexport var Photoshop = function (_React$Component) {\n  _inherits(Photoshop, _React$Component);\n\n  function Photoshop(props) {\n    _classCallCheck(this, Photoshop);\n\n    var _this = _possibleConstructorReturn(this, (Photoshop.__proto__ || Object.getPrototypeOf(Photoshop)).call(this));\n\n    _this.state = {\n      currentColor: props.hex\n    };\n    return _this;\n  }\n\n  _createClass(Photoshop, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          _props$styles = _props.styles,\n          passedStyles = _props$styles === undefined ? {} : _props$styles,\n          _props$className = _props.className,\n          className = _props$className === undefined ? '' : _props$className;\n\n      var styles = reactCSS(merge({\n        'default': {\n          picker: {\n            background: '#DCDCDC',\n            borderRadius: '4px',\n            boxShadow: '0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)',\n            boxSizing: 'initial',\n            width: '513px'\n          },\n          head: {\n            backgroundImage: 'linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)',\n            borderBottom: '1px solid #B1B1B1',\n            boxShadow: 'inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)',\n            height: '23px',\n            lineHeight: '24px',\n            borderRadius: '4px 4px 0 0',\n            fontSize: '13px',\n            color: '#4D4D4D',\n            textAlign: 'center'\n          },\n          body: {\n            padding: '15px 15px 0',\n            display: 'flex'\n          },\n          saturation: {\n            width: '256px',\n            height: '256px',\n            position: 'relative',\n            border: '2px solid #B3B3B3',\n            borderBottom: '2px solid #F0F0F0',\n            overflow: 'hidden'\n          },\n          hue: {\n            position: 'relative',\n            height: '256px',\n            width: '19px',\n            marginLeft: '10px',\n            border: '2px solid #B3B3B3',\n            borderBottom: '2px solid #F0F0F0'\n          },\n          controls: {\n            width: '180px',\n            marginLeft: '10px'\n          },\n          top: {\n            display: 'flex'\n          },\n          previews: {\n            width: '60px'\n          },\n          actions: {\n            flex: '1',\n            marginLeft: '20px'\n          }\n        }\n      }, passedStyles));\n\n      return React.createElement(\n        'div',\n        { style: styles.picker, className: 'photoshop-picker ' + className },\n        React.createElement(\n          'div',\n          { style: styles.head },\n          this.props.header\n        ),\n        React.createElement(\n          'div',\n          { style: styles.body, className: 'flexbox-fix' },\n          React.createElement(\n            'div',\n            { style: styles.saturation },\n            React.createElement(Saturation, {\n              hsl: this.props.hsl,\n              hsv: this.props.hsv,\n              pointer: PhotoshopPointerCircle,\n              onChange: this.props.onChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.hue },\n            React.createElement(Hue, {\n              direction: 'vertical',\n              hsl: this.props.hsl,\n              pointer: PhotoshopPointer,\n              onChange: this.props.onChange\n            })\n          ),\n          React.createElement(\n            'div',\n            { style: styles.controls },\n            React.createElement(\n              'div',\n              { style: styles.top, className: 'flexbox-fix' },\n              React.createElement(\n                'div',\n                { style: styles.previews },\n                React.createElement(PhotoshopPreviews, {\n                  rgb: this.props.rgb,\n                  currentColor: this.state.currentColor\n                })\n              ),\n              React.createElement(\n                'div',\n                { style: styles.actions },\n                React.createElement(PhotoshopButton, { label: 'OK', onClick: this.props.onAccept, active: true }),\n                React.createElement(PhotoshopButton, { label: 'Cancel', onClick: this.props.onCancel }),\n                React.createElement(PhotoshopFields, {\n                  onChange: this.props.onChange,\n                  rgb: this.props.rgb,\n                  hsv: this.props.hsv,\n                  hex: this.props.hex\n                })\n              )\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return Photoshop;\n}(React.Component);\n\nPhotoshop.propTypes = {\n  header: PropTypes.string,\n  styles: PropTypes.object\n};\n\nPhotoshop.defaultProps = {\n  header: 'Color Picker',\n  styles: {}\n};\n\nexport default ColorWrap(Photoshop);", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport * as color from '../../helpers/color';\n\nimport { EditableInput } from '../common';\n\nexport var PhotoshopPicker = function PhotoshopPicker(_ref) {\n  var onChange = _ref.onChange,\n      rgb = _ref.rgb,\n      hsv = _ref.hsv,\n      hex = _ref.hex;\n\n  var styles = reactCSS({\n    'default': {\n      fields: {\n        paddingTop: '5px',\n        paddingBottom: '9px',\n        width: '80px',\n        position: 'relative'\n      },\n      divider: {\n        height: '5px'\n      },\n      RGBwrap: {\n        position: 'relative'\n      },\n      RGBinput: {\n        marginLeft: '40%',\n        width: '40%',\n        height: '18px',\n        border: '1px solid #888888',\n        boxShadow: 'inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC',\n        marginBottom: '5px',\n        fontSize: '13px',\n        paddingLeft: '3px',\n        marginRight: '10px'\n      },\n      RGBlabel: {\n        left: '0px',\n        top: '0px',\n        width: '34px',\n        textTransform: 'uppercase',\n        fontSize: '13px',\n        height: '18px',\n        lineHeight: '22px',\n        position: 'absolute'\n      },\n      HEXwrap: {\n        position: 'relative'\n      },\n      HEXinput: {\n        marginLeft: '20%',\n        width: '80%',\n        height: '18px',\n        border: '1px solid #888888',\n        boxShadow: 'inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC',\n        marginBottom: '6px',\n        fontSize: '13px',\n        paddingLeft: '3px'\n      },\n      HEXlabel: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        width: '14px',\n        textTransform: 'uppercase',\n        fontSize: '13px',\n        height: '18px',\n        lineHeight: '22px'\n      },\n      fieldSymbols: {\n        position: 'absolute',\n        top: '5px',\n        right: '-7px',\n        fontSize: '13px'\n      },\n      symbol: {\n        height: '20px',\n        lineHeight: '22px',\n        paddingBottom: '7px'\n      }\n    }\n  });\n\n  var handleChange = function handleChange(data, e) {\n    if (data['#']) {\n      color.isValidHex(data['#']) && onChange({\n        hex: data['#'],\n        source: 'hex'\n      }, e);\n    } else if (data.r || data.g || data.b) {\n      onChange({\n        r: data.r || rgb.r,\n        g: data.g || rgb.g,\n        b: data.b || rgb.b,\n        source: 'rgb'\n      }, e);\n    } else if (data.h || data.s || data.v) {\n      onChange({\n        h: data.h || hsv.h,\n        s: data.s || hsv.s,\n        v: data.v || hsv.v,\n        source: 'hsv'\n      }, e);\n    }\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.fields },\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'h',\n      value: Math.round(hsv.h),\n      onChange: handleChange\n    }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 's',\n      value: Math.round(hsv.s * 100),\n      onChange: handleChange\n    }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'v',\n      value: Math.round(hsv.v * 100),\n      onChange: handleChange\n    }),\n    React.createElement('div', { style: styles.divider }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'r',\n      value: rgb.r,\n      onChange: handleChange\n    }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'g',\n      value: rgb.g,\n      onChange: handleChange\n    }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.RGBwrap, input: styles.RGBinput, label: styles.RGBlabel },\n      label: 'b',\n      value: rgb.b,\n      onChange: handleChange\n    }),\n    React.createElement('div', { style: styles.divider }),\n    React.createElement(EditableInput, {\n      style: { wrap: styles.HEXwrap, input: styles.HEXinput, label: styles.HEXlabel },\n      label: '#',\n      value: hex.replace('#', ''),\n      onChange: handleChange\n    }),\n    React.createElement(\n      'div',\n      { style: styles.fieldSymbols },\n      React.createElement(\n        'div',\n        { style: styles.symbol },\n        '\\xB0'\n      ),\n      React.createElement(\n        'div',\n        { style: styles.symbol },\n        '%'\n      ),\n      React.createElement(\n        'div',\n        { style: styles.symbol },\n        '%'\n      )\n    )\n  );\n};\n\nexport default PhotoshopPicker;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var PhotoshopPointerCircle = function PhotoshopPointerCircle(_ref) {\n  var hsl = _ref.hsl;\n\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '12px',\n        height: '12px',\n        borderRadius: '6px',\n        boxShadow: 'inset 0 0 0 1px #fff',\n        transform: 'translate(-6px, -6px)'\n      }\n    },\n    'black-outline': {\n      picker: {\n        boxShadow: 'inset 0 0 0 1px #000'\n      }\n    }\n  }, { 'black-outline': hsl.l > 0.5 });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nexport default PhotoshopPointerCircle;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var PhotoshopPointerCircle = function PhotoshopPointerCircle() {\n  var styles = reactCSS({\n    'default': {\n      triangle: {\n        width: 0,\n        height: 0,\n        borderStyle: 'solid',\n        borderWidth: '4px 0 4px 6px',\n        borderColor: 'transparent transparent transparent #fff',\n        position: 'absolute',\n        top: '1px',\n        left: '1px'\n      },\n      triangleBorder: {\n        width: 0,\n        height: 0,\n        borderStyle: 'solid',\n        borderWidth: '5px 0 5px 8px',\n        borderColor: 'transparent transparent transparent #555'\n      },\n\n      left: {\n        Extend: 'triangleBorder',\n        transform: 'translate(-13px, -4px)'\n      },\n      leftInside: {\n        Extend: 'triangle',\n        transform: 'translate(-8px, -5px)'\n      },\n\n      right: {\n        Extend: 'triangleBorder',\n        transform: 'translate(20px, -14px) rotate(180deg)'\n      },\n      rightInside: {\n        Extend: 'triangle',\n        transform: 'translate(-8px, -5px)'\n      }\n    }\n  });\n\n  return React.createElement(\n    'div',\n    { style: styles.pointer },\n    React.createElement(\n      'div',\n      { style: styles.left },\n      React.createElement('div', { style: styles.leftInside })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.right },\n      React.createElement('div', { style: styles.rightInside })\n    )\n  );\n};\n\nexport default PhotoshopPointerCircle;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var PhotoshopButton = function PhotoshopButton(_ref) {\n  var onClick = _ref.onClick,\n      label = _ref.label,\n      children = _ref.children,\n      active = _ref.active;\n\n  var styles = reactCSS({\n    'default': {\n      button: {\n        backgroundImage: 'linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)',\n        border: '1px solid #878787',\n        borderRadius: '2px',\n        height: '20px',\n        boxShadow: '0 1px 0 0 #EAEAEA',\n        fontSize: '14px',\n        color: '#000',\n        lineHeight: '20px',\n        textAlign: 'center',\n        marginBottom: '10px',\n        cursor: 'pointer'\n      }\n    },\n    'active': {\n      button: {\n        boxShadow: '0 0 0 1px #878787'\n      }\n    }\n  }, { active: active });\n\n  return React.createElement(\n    'div',\n    { style: styles.button, onClick: onClick },\n    label || children\n  );\n};\n\nexport default PhotoshopButton;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var PhotoshopPreviews = function PhotoshopPreviews(_ref) {\n  var rgb = _ref.rgb,\n      currentColor = _ref.currentColor;\n\n  var styles = reactCSS({\n    'default': {\n      swatches: {\n        border: '1px solid #B3B3B3',\n        borderBottom: '1px solid #F0F0F0',\n        marginBottom: '2px',\n        marginTop: '1px'\n      },\n      new: {\n        height: '34px',\n        background: 'rgb(' + rgb.r + ',' + rgb.g + ', ' + rgb.b + ')',\n        boxShadow: 'inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000'\n      },\n      current: {\n        height: '34px',\n        background: currentColor,\n        boxShadow: 'inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000'\n      },\n      label: {\n        fontSize: '14px',\n        color: '#000',\n        textAlign: 'center'\n      }\n    }\n  });\n\n  return React.createElement(\n    'div',\n    null,\n    React.createElement(\n      'div',\n      { style: styles.label },\n      'new'\n    ),\n    React.createElement(\n      'div',\n      { style: styles.swatches },\n      React.createElement('div', { style: styles.new }),\n      React.createElement('div', { style: styles.current })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.label },\n      'current'\n    )\n  );\n};\n\nexport default PhotoshopPreviews;", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\n\nimport { ColorWrap, Saturation, Hue, Alpha, Checkboard } from '../common';\nimport SketchFields from './SketchFields';\nimport SketchPresetColors from './SketchPresetColors';\n\nexport var Sketch = function Sketch(_ref) {\n  var width = _ref.width,\n      rgb = _ref.rgb,\n      hex = _ref.hex,\n      hsv = _ref.hsv,\n      hsl = _ref.hsl,\n      onChange = _ref.onChange,\n      onSwatchHover = _ref.onSwatchHover,\n      disableAlpha = _ref.disableAlpha,\n      presetColors = _ref.presetColors,\n      renderers = _ref.renderers,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': _extends({\n      picker: {\n        width: width,\n        padding: '10px 10px 0',\n        boxSizing: 'initial',\n        background: '#fff',\n        borderRadius: '4px',\n        boxShadow: '0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)'\n      },\n      saturation: {\n        width: '100%',\n        paddingBottom: '75%',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      Saturation: {\n        radius: '3px',\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\n      },\n      controls: {\n        display: 'flex'\n      },\n      sliders: {\n        padding: '4px 0',\n        flex: '1'\n      },\n      color: {\n        width: '24px',\n        height: '24px',\n        position: 'relative',\n        marginTop: '4px',\n        marginLeft: '4px',\n        borderRadius: '3px'\n      },\n      activeColor: {\n        absolute: '0px 0px 0px 0px',\n        borderRadius: '2px',\n        background: 'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + rgb.a + ')',\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\n      },\n      hue: {\n        position: 'relative',\n        height: '10px',\n        overflow: 'hidden'\n      },\n      Hue: {\n        radius: '2px',\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\n      },\n\n      alpha: {\n        position: 'relative',\n        height: '10px',\n        marginTop: '4px',\n        overflow: 'hidden'\n      },\n      Alpha: {\n        radius: '2px',\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\n      }\n    }, passedStyles),\n    'disableAlpha': {\n      color: {\n        height: '10px'\n      },\n      hue: {\n        height: '10px'\n      },\n      alpha: {\n        display: 'none'\n      }\n    }\n  }, passedStyles), { disableAlpha: disableAlpha });\n\n  return React.createElement(\n    'div',\n    { style: styles.picker, className: 'sketch-picker ' + className },\n    React.createElement(\n      'div',\n      { style: styles.saturation },\n      React.createElement(Saturation, {\n        style: styles.Saturation,\n        hsl: hsl,\n        hsv: hsv,\n        onChange: onChange\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.controls, className: 'flexbox-fix' },\n      React.createElement(\n        'div',\n        { style: styles.sliders },\n        React.createElement(\n          'div',\n          { style: styles.hue },\n          React.createElement(Hue, {\n            style: styles.Hue,\n            hsl: hsl,\n            onChange: onChange\n          })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.alpha },\n          React.createElement(Alpha, {\n            style: styles.Alpha,\n            rgb: rgb,\n            hsl: hsl,\n            renderers: renderers,\n            onChange: onChange\n          })\n        )\n      ),\n      React.createElement(\n        'div',\n        { style: styles.color },\n        React.createElement(Checkboard, null),\n        React.createElement('div', { style: styles.activeColor })\n      )\n    ),\n    React.createElement(SketchFields, {\n      rgb: rgb,\n      hsl: hsl,\n      hex: hex,\n      onChange: onChange,\n      disableAlpha: disableAlpha\n    }),\n    React.createElement(SketchPresetColors, {\n      colors: presetColors,\n      onClick: onChange,\n      onSwatchHover: onSwatchHover\n    })\n  );\n};\n\nSketch.propTypes = {\n  disableAlpha: PropTypes.bool,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  styles: PropTypes.object\n};\n\nSketch.defaultProps = {\n  disableAlpha: false,\n  width: 200,\n  styles: {},\n  presetColors: ['#D0021B', '#F5A623', '#F8E71C', '#8B572A', '#7ED321', '#417505', '#BD10E0', '#9013FE', '#4A90E2', '#50E3C2', '#B8E986', '#000000', '#4A4A4A', '#9B9B9B', '#FFFFFF']\n};\n\nexport default ColorWrap(Sketch);", "/* eslint-disable no-param-reassign */\n\nimport React from 'react';\nimport reactCSS from 'reactcss';\nimport * as color from '../../helpers/color';\n\nimport { EditableInput } from '../common';\n\nexport var SketchFields = function SketchFields(_ref) {\n  var onChange = _ref.onChange,\n      rgb = _ref.rgb,\n      hsl = _ref.hsl,\n      hex = _ref.hex,\n      disableAlpha = _ref.disableAlpha;\n\n  var styles = reactCSS({\n    'default': {\n      fields: {\n        display: 'flex',\n        paddingTop: '4px'\n      },\n      single: {\n        flex: '1',\n        paddingLeft: '6px'\n      },\n      alpha: {\n        flex: '1',\n        paddingLeft: '6px'\n      },\n      double: {\n        flex: '2'\n      },\n      input: {\n        width: '80%',\n        padding: '4px 10% 3px',\n        border: 'none',\n        boxShadow: 'inset 0 0 0 1px #ccc',\n        fontSize: '11px'\n      },\n      label: {\n        display: 'block',\n        textAlign: 'center',\n        fontSize: '11px',\n        color: '#222',\n        paddingTop: '3px',\n        paddingBottom: '4px',\n        textTransform: 'capitalize'\n      }\n    },\n    'disableAlpha': {\n      alpha: {\n        display: 'none'\n      }\n    }\n  }, { disableAlpha: disableAlpha });\n\n  var handleChange = function handleChange(data, e) {\n    if (data.hex) {\n      color.isValidHex(data.hex) && onChange({\n        hex: data.hex,\n        source: 'hex'\n      }, e);\n    } else if (data.r || data.g || data.b) {\n      onChange({\n        r: data.r || rgb.r,\n        g: data.g || rgb.g,\n        b: data.b || rgb.b,\n        a: rgb.a,\n        source: 'rgb'\n      }, e);\n    } else if (data.a) {\n      if (data.a < 0) {\n        data.a = 0;\n      } else if (data.a > 100) {\n        data.a = 100;\n      }\n\n      data.a /= 100;\n      onChange({\n        h: hsl.h,\n        s: hsl.s,\n        l: hsl.l,\n        a: data.a,\n        source: 'rgb'\n      }, e);\n    }\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.fields, className: 'flexbox-fix' },\n    React.createElement(\n      'div',\n      { style: styles.double },\n      React.createElement(EditableInput, {\n        style: { input: styles.input, label: styles.label },\n        label: 'hex',\n        value: hex.replace('#', ''),\n        onChange: handleChange\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.single },\n      React.createElement(EditableInput, {\n        style: { input: styles.input, label: styles.label },\n        label: 'r',\n        value: rgb.r,\n        onChange: handleChange,\n        dragLabel: 'true',\n        dragMax: '255'\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.single },\n      React.createElement(EditableInput, {\n        style: { input: styles.input, label: styles.label },\n        label: 'g',\n        value: rgb.g,\n        onChange: handleChange,\n        dragLabel: 'true',\n        dragMax: '255'\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.single },\n      React.createElement(EditableInput, {\n        style: { input: styles.input, label: styles.label },\n        label: 'b',\n        value: rgb.b,\n        onChange: handleChange,\n        dragLabel: 'true',\n        dragMax: '255'\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.alpha },\n      React.createElement(EditableInput, {\n        style: { input: styles.input, label: styles.label },\n        label: 'a',\n        value: Math.round(rgb.a * 100),\n        onChange: handleChange,\n        dragLabel: 'true',\n        dragMax: '100'\n      })\n    )\n  );\n};\n\nexport default SketchFields;", "var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\n\nimport { Swatch } from '../common';\n\nexport var SketchPresetColors = function SketchPresetColors(_ref) {\n  var colors = _ref.colors,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\n      onSwatchHover = _ref.onSwatchHover;\n\n  var styles = reactCSS({\n    'default': {\n      colors: {\n        margin: '0 -10px',\n        padding: '10px 0 0 10px',\n        borderTop: '1px solid #eee',\n        display: 'flex',\n        flexWrap: 'wrap',\n        position: 'relative'\n      },\n      swatchWrap: {\n        width: '16px',\n        height: '16px',\n        margin: '0 10px 10px 0'\n      },\n      swatch: {\n        borderRadius: '3px',\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15)'\n      }\n    },\n    'no-presets': {\n      colors: {\n        display: 'none'\n      }\n    }\n  }, {\n    'no-presets': !colors || !colors.length\n  });\n\n  var handleClick = function handleClick(hex, e) {\n    onClick({\n      hex: hex,\n      source: 'hex'\n    }, e);\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.colors, className: 'flexbox-fix' },\n    colors.map(function (colorObjOrString) {\n      var c = typeof colorObjOrString === 'string' ? { color: colorObjOrString } : colorObjOrString;\n      var key = '' + c.color + (c.title || '');\n      return React.createElement(\n        'div',\n        { key: key, style: styles.swatchWrap },\n        React.createElement(Swatch, _extends({}, c, {\n          style: styles.swatch,\n          onClick: handleClick,\n          onHover: onSwatchHover,\n          focusStyle: {\n            boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ' + c.color\n          }\n        }))\n      );\n    })\n  );\n};\n\nSketchPresetColors.propTypes = {\n  colors: PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string, PropTypes.shape({\n    color: PropTypes.string,\n    title: PropTypes.string\n  })])).isRequired\n};\n\nexport default SketchPresetColors;", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\n\nimport { ColorWrap, Hue } from '../common';\nimport SliderSwatches from './SliderSwatches';\nimport SliderPointer from './SliderPointer';\n\nexport var Slider = function Slider(_ref) {\n  var hsl = _ref.hsl,\n      onChange = _ref.onChange,\n      pointer = _ref.pointer,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      hue: {\n        height: '12px',\n        position: 'relative'\n      },\n      Hue: {\n        radius: '2px'\n      }\n    }\n  }, passedStyles));\n\n  return React.createElement(\n    'div',\n    { style: styles.wrap || {}, className: 'slider-picker ' + className },\n    React.createElement(\n      'div',\n      { style: styles.hue },\n      React.createElement(Hue, {\n        style: styles.Hue,\n        hsl: hsl,\n        pointer: pointer,\n        onChange: onChange\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.swatches },\n      React.createElement(SliderSwatches, { hsl: hsl, onClick: onChange })\n    )\n  );\n};\n\nSlider.propTypes = {\n  styles: PropTypes.object\n};\nSlider.defaultProps = {\n  pointer: SliderPointer,\n  styles: {}\n};\n\nexport default ColorWrap(Slider);", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nimport SliderSwatch from './SliderSwatch';\n\nexport var SliderSwatches = function SliderSwatches(_ref) {\n  var onClick = _ref.onClick,\n      hsl = _ref.hsl;\n\n  var styles = reactCSS({\n    'default': {\n      swatches: {\n        marginTop: '20px'\n      },\n      swatch: {\n        boxSizing: 'border-box',\n        width: '20%',\n        paddingRight: '1px',\n        float: 'left'\n      },\n      clear: {\n        clear: 'both'\n      }\n    }\n  });\n\n  // Acceptible difference in floating point equality\n  var epsilon = 0.1;\n\n  return React.createElement(\n    'div',\n    { style: styles.swatches },\n    React.createElement(\n      'div',\n      { style: styles.swatch },\n      React.createElement(SliderSwatch, {\n        hsl: hsl,\n        offset: '.80',\n        active: Math.abs(hsl.l - 0.80) < epsilon && Math.abs(hsl.s - 0.50) < epsilon,\n        onClick: onClick,\n        first: true\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.swatch },\n      React.createElement(SliderSwatch, {\n        hsl: hsl,\n        offset: '.65',\n        active: Math.abs(hsl.l - 0.65) < epsilon && Math.abs(hsl.s - 0.50) < epsilon,\n        onClick: onClick\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.swatch },\n      React.createElement(SliderSwatch, {\n        hsl: hsl,\n        offset: '.50',\n        active: Math.abs(hsl.l - 0.50) < epsilon && Math.abs(hsl.s - 0.50) < epsilon,\n        onClick: onClick\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.swatch },\n      React.createElement(SliderSwatch, {\n        hsl: hsl,\n        offset: '.35',\n        active: Math.abs(hsl.l - 0.35) < epsilon && Math.abs(hsl.s - 0.50) < epsilon,\n        onClick: onClick\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.swatch },\n      React.createElement(SliderSwatch, {\n        hsl: hsl,\n        offset: '.20',\n        active: Math.abs(hsl.l - 0.20) < epsilon && Math.abs(hsl.s - 0.50) < epsilon,\n        onClick: onClick,\n        last: true\n      })\n    ),\n    React.createElement('div', { style: styles.clear })\n  );\n};\n\nexport default SliderSwatches;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var SliderSwatch = function SliderSwatch(_ref) {\n  var hsl = _ref.hsl,\n      offset = _ref.offset,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\n      active = _ref.active,\n      first = _ref.first,\n      last = _ref.last;\n\n  var styles = reactCSS({\n    'default': {\n      swatch: {\n        height: '12px',\n        background: 'hsl(' + hsl.h + ', 50%, ' + offset * 100 + '%)',\n        cursor: 'pointer'\n      }\n    },\n    'first': {\n      swatch: {\n        borderRadius: '2px 0 0 2px'\n      }\n    },\n    'last': {\n      swatch: {\n        borderRadius: '0 2px 2px 0'\n      }\n    },\n    'active': {\n      swatch: {\n        transform: 'scaleY(1.8)',\n        borderRadius: '3.6px/2px'\n      }\n    }\n  }, { active: active, first: first, last: last });\n\n  var handleClick = function handleClick(e) {\n    return onClick({\n      h: hsl.h,\n      s: 0.5,\n      l: offset,\n      source: 'hsl'\n    }, e);\n  };\n\n  return React.createElement('div', { style: styles.swatch, onClick: handleClick });\n};\n\nexport default SliderSwatch;", "import React from 'react';\nimport reactCSS from 'reactcss';\n\nexport var SliderPointer = function SliderPointer() {\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '14px',\n        height: '14px',\n        borderRadius: '6px',\n        transform: 'translate(-7px, -1px)',\n        backgroundColor: 'rgb(248, 248, 248)',\n        boxShadow: '0 1px 4px 0 rgba(0, 0, 0, 0.37)'\n      }\n    }\n  });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nexport default SliderPointer;", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport map from 'lodash-es/map';\nimport merge from 'lodash-es/merge';\nimport * as material from 'material-colors';\n\nimport { ColorWrap, Raised } from '../common';\nimport SwatchesGroup from './SwatchesGroup';\n\nexport var Swatches = function Swatches(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      onChange = _ref.onChange,\n      onSwatchHover = _ref.onSwatchHover,\n      colors = _ref.colors,\n      hex = _ref.hex,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      picker: {\n        width: width,\n        height: height\n      },\n      overflow: {\n        height: height,\n        overflowY: 'scroll'\n      },\n      body: {\n        padding: '16px 0 6px 16px'\n      },\n      clear: {\n        clear: 'both'\n      }\n    }\n  }, passedStyles));\n\n  var handleChange = function handleChange(data, e) {\n    return onChange({ hex: data, source: 'hex' }, e);\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.picker, className: 'swatches-picker ' + className },\n    React.createElement(\n      Raised,\n      null,\n      React.createElement(\n        'div',\n        { style: styles.overflow },\n        React.createElement(\n          'div',\n          { style: styles.body },\n          map(colors, function (group) {\n            return React.createElement(SwatchesGroup, {\n              key: group.toString(),\n              group: group,\n              active: hex,\n              onClick: handleChange,\n              onSwatchHover: onSwatchHover\n            });\n          }),\n          React.createElement('div', { style: styles.clear })\n        )\n      )\n    )\n  );\n};\n\nSwatches.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  height: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  colors: PropTypes.arrayOf(PropTypes.arrayOf(PropTypes.string)),\n  styles: PropTypes.object\n\n  /* eslint-disable max-len */\n};Swatches.defaultProps = {\n  width: 320,\n  height: 240,\n  colors: [[material.red['900'], material.red['700'], material.red['500'], material.red['300'], material.red['100']], [material.pink['900'], material.pink['700'], material.pink['500'], material.pink['300'], material.pink['100']], [material.purple['900'], material.purple['700'], material.purple['500'], material.purple['300'], material.purple['100']], [material.deepPurple['900'], material.deepPurple['700'], material.deepPurple['500'], material.deepPurple['300'], material.deepPurple['100']], [material.indigo['900'], material.indigo['700'], material.indigo['500'], material.indigo['300'], material.indigo['100']], [material.blue['900'], material.blue['700'], material.blue['500'], material.blue['300'], material.blue['100']], [material.lightBlue['900'], material.lightBlue['700'], material.lightBlue['500'], material.lightBlue['300'], material.lightBlue['100']], [material.cyan['900'], material.cyan['700'], material.cyan['500'], material.cyan['300'], material.cyan['100']], [material.teal['900'], material.teal['700'], material.teal['500'], material.teal['300'], material.teal['100']], ['#194D33', material.green['700'], material.green['500'], material.green['300'], material.green['100']], [material.lightGreen['900'], material.lightGreen['700'], material.lightGreen['500'], material.lightGreen['300'], material.lightGreen['100']], [material.lime['900'], material.lime['700'], material.lime['500'], material.lime['300'], material.lime['100']], [material.yellow['900'], material.yellow['700'], material.yellow['500'], material.yellow['300'], material.yellow['100']], [material.amber['900'], material.amber['700'], material.amber['500'], material.amber['300'], material.amber['100']], [material.orange['900'], material.orange['700'], material.orange['500'], material.orange['300'], material.orange['100']], [material.deepOrange['900'], material.deepOrange['700'], material.deepOrange['500'], material.deepOrange['300'], material.deepOrange['100']], [material.brown['900'], material.brown['700'], material.brown['500'], material.brown['300'], material.brown['100']], [material.blueGrey['900'], material.blueGrey['700'], material.blueGrey['500'], material.blueGrey['300'], material.blueGrey['100']], ['#000000', '#525252', '#969696', '#D9D9D9', '#FFFFFF']],\n  styles: {}\n};\n\nexport default ColorWrap(Swatches);", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport map from 'lodash-es/map';\n\nimport SwatchesColor from './SwatchesColor';\n\nexport var SwatchesGroup = function SwatchesGroup(_ref) {\n  var onClick = _ref.onClick,\n      onSwatchHover = _ref.onSwatchHover,\n      group = _ref.group,\n      active = _ref.active;\n\n  var styles = reactCSS({\n    'default': {\n      group: {\n        paddingBottom: '10px',\n        width: '40px',\n        float: 'left',\n        marginRight: '10px'\n      }\n    }\n  });\n\n  return React.createElement(\n    'div',\n    { style: styles.group },\n    map(group, function (color, i) {\n      return React.createElement(SwatchesColor, {\n        key: color,\n        color: color,\n        active: color.toLowerCase() === active,\n        first: i === 0,\n        last: i === group.length - 1,\n        onClick: onClick,\n        onSwatchHover: onSwatchHover\n      });\n    })\n  );\n};\n\nexport default SwatchesGroup;", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport * as colorUtils from '../../helpers/color';\n\nimport { Swatch } from '../common';\nimport CheckIcon from '@icons/material/CheckIcon';\n\nexport var SwatchesColor = function SwatchesColor(_ref) {\n  var color = _ref.color,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\n      onSwatchHover = _ref.onSwatchHover,\n      first = _ref.first,\n      last = _ref.last,\n      active = _ref.active;\n\n  var styles = reactCSS({\n    'default': {\n      color: {\n        width: '40px',\n        height: '24px',\n        cursor: 'pointer',\n        background: color,\n        marginBottom: '1px'\n      },\n      check: {\n        color: colorUtils.getContrastingColor(color),\n        marginLeft: '8px',\n        display: 'none'\n      }\n    },\n    'first': {\n      color: {\n        overflow: 'hidden',\n        borderRadius: '2px 2px 0 0'\n      }\n    },\n    'last': {\n      color: {\n        overflow: 'hidden',\n        borderRadius: '0 0 2px 2px'\n      }\n    },\n    'active': {\n      check: {\n        display: 'block'\n      }\n    },\n    'color-#FFFFFF': {\n      color: {\n        boxShadow: 'inset 0 0 0 1px #ddd'\n      },\n      check: {\n        color: '#333'\n      }\n    },\n    'transparent': {\n      check: {\n        color: '#333'\n      }\n    }\n  }, {\n    first: first,\n    last: last,\n    active: active,\n    'color-#FFFFFF': color === '#FFFFFF',\n    'transparent': color === 'transparent'\n  });\n\n  return React.createElement(\n    Swatch,\n    {\n      color: color,\n      style: styles.color,\n      onClick: onClick,\n      onHover: onSwatchHover,\n      focusStyle: { boxShadow: '0 0 4px ' + color }\n    },\n    React.createElement(\n      'div',\n      { style: styles.check },\n      React.createElement(CheckIcon, null)\n    )\n  );\n};\n\nexport default SwatchesColor;", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport map from 'lodash-es/map';\nimport merge from 'lodash-es/merge';\nimport * as color from '../../helpers/color';\n\nimport { ColorWrap, EditableInput, Swatch } from '../common';\n\nexport var Twitter = function Twitter(_ref) {\n  var onChange = _ref.onChange,\n      onSwatchHover = _ref.onSwatchHover,\n      hex = _ref.hex,\n      colors = _ref.colors,\n      width = _ref.width,\n      triangle = _ref.triangle,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      card: {\n        width: width,\n        background: '#fff',\n        border: '0 solid rgba(0,0,0,0.25)',\n        boxShadow: '0 1px 4px rgba(0,0,0,0.25)',\n        borderRadius: '4px',\n        position: 'relative'\n      },\n      body: {\n        padding: '15px 9px 9px 15px'\n      },\n      label: {\n        fontSize: '18px',\n        color: '#fff'\n      },\n      triangle: {\n        width: '0px',\n        height: '0px',\n        borderStyle: 'solid',\n        borderWidth: '0 9px 10px 9px',\n        borderColor: 'transparent transparent #fff transparent',\n        position: 'absolute'\n      },\n      triangleShadow: {\n        width: '0px',\n        height: '0px',\n        borderStyle: 'solid',\n        borderWidth: '0 9px 10px 9px',\n        borderColor: 'transparent transparent rgba(0,0,0,.1) transparent',\n        position: 'absolute'\n      },\n      hash: {\n        background: '#F0F0F0',\n        height: '30px',\n        width: '30px',\n        borderRadius: '4px 0 0 4px',\n        float: 'left',\n        color: '#98A1A4',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center'\n      },\n      input: {\n        width: '100px',\n        fontSize: '14px',\n        color: '#666',\n        border: '0px',\n        outline: 'none',\n        height: '28px',\n        boxShadow: 'inset 0 0 0 1px #F0F0F0',\n        boxSizing: 'content-box',\n        borderRadius: '0 4px 4px 0',\n        float: 'left',\n        paddingLeft: '8px'\n      },\n      swatch: {\n        width: '30px',\n        height: '30px',\n        float: 'left',\n        borderRadius: '4px',\n        margin: '0 6px 6px 0'\n      },\n      clear: {\n        clear: 'both'\n      }\n    },\n    'hide-triangle': {\n      triangle: {\n        display: 'none'\n      },\n      triangleShadow: {\n        display: 'none'\n      }\n    },\n    'top-left-triangle': {\n      triangle: {\n        top: '-10px',\n        left: '12px'\n      },\n      triangleShadow: {\n        top: '-11px',\n        left: '12px'\n      }\n    },\n    'top-right-triangle': {\n      triangle: {\n        top: '-10px',\n        right: '12px'\n      },\n      triangleShadow: {\n        top: '-11px',\n        right: '12px'\n      }\n    }\n  }, passedStyles), {\n    'hide-triangle': triangle === 'hide',\n    'top-left-triangle': triangle === 'top-left',\n    'top-right-triangle': triangle === 'top-right'\n  });\n\n  var handleChange = function handleChange(hexcode, e) {\n    color.isValidHex(hexcode) && onChange({\n      hex: hexcode,\n      source: 'hex'\n    }, e);\n  };\n\n  return React.createElement(\n    'div',\n    { style: styles.card, className: 'twitter-picker ' + className },\n    React.createElement('div', { style: styles.triangleShadow }),\n    React.createElement('div', { style: styles.triangle }),\n    React.createElement(\n      'div',\n      { style: styles.body },\n      map(colors, function (c, i) {\n        return React.createElement(Swatch, {\n          key: i,\n          color: c,\n          hex: c,\n          style: styles.swatch,\n          onClick: handleChange,\n          onHover: onSwatchHover,\n          focusStyle: {\n            boxShadow: '0 0 4px ' + c\n          }\n        });\n      }),\n      React.createElement(\n        'div',\n        { style: styles.hash },\n        '#'\n      ),\n      React.createElement(EditableInput, {\n        label: null,\n        style: { input: styles.input },\n        value: hex.replace('#', ''),\n        onChange: handleChange\n      }),\n      React.createElement('div', { style: styles.clear })\n    )\n  );\n};\n\nTwitter.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  triangle: PropTypes.oneOf(['hide', 'top-left', 'top-right']),\n  colors: PropTypes.arrayOf(PropTypes.string),\n  styles: PropTypes.object\n};\n\nTwitter.defaultProps = {\n  width: 276,\n  colors: ['#FF6900', '#FCB900', '#7BDCB5', '#00D084', '#8ED1FC', '#0693E3', '#ABB8C3', '#EB144C', '#F78DA7', '#9900EF'],\n  triangle: 'top-left',\n  styles: {}\n};\n\nexport default ColorWrap(Twitter);", "import React from 'react';\nimport PropTypes from 'prop-types';\nimport reactCSS from 'reactcss';\nimport merge from 'lodash-es/merge';\n\nimport { ColorWrap, Saturation, Hue } from '../common';\nimport GooglePointerCircle from './GooglePointerCircle';\nimport GooglePointer from './GooglePointer';\nimport GoogleFields from './GoogleFields';\n\nexport var Google = function Google(_ref) {\n  var width = _ref.width,\n      onChange = _ref.onChange,\n      rgb = _ref.rgb,\n      hsl = _ref.hsl,\n      hsv = _ref.hsv,\n      hex = _ref.hex,\n      header = _ref.header,\n      _ref$styles = _ref.styles,\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\n      _ref$className = _ref.className,\n      className = _ref$className === undefined ? '' : _ref$className;\n\n  var styles = reactCSS(merge({\n    'default': {\n      picker: {\n        width: width,\n        background: '#fff',\n        border: '1px solid #dfe1e5',\n        boxSizing: 'initial',\n        display: 'flex',\n        flexWrap: 'wrap',\n        borderRadius: '8px 8px 0px 0px'\n      },\n      head: {\n        height: '57px',\n        width: '100%',\n        paddingTop: '16px',\n        paddingBottom: '16px',\n        paddingLeft: '16px',\n        fontSize: '20px',\n        boxSizing: 'border-box',\n        fontFamily: 'Roboto-Regular,HelveticaNeue,Arial,sans-serif'\n      },\n      saturation: {\n        width: '70%',\n        padding: '0px',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      swatch: {\n        width: '30%',\n        height: '228px',\n        padding: '0px',\n        background: 'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', 1)',\n        position: 'relative',\n        overflow: 'hidden'\n      },\n      body: {\n        margin: 'auto',\n        width: '95%'\n      },\n      controls: {\n        display: 'flex',\n        boxSizing: 'border-box',\n        height: '52px',\n        paddingTop: '22px'\n      },\n      color: {\n        width: '32px'\n      },\n      hue: {\n        height: '8px',\n        position: 'relative',\n        margin: '0px 16px 0px 16px',\n        width: '100%'\n      },\n      Hue: {\n        radius: '2px'\n      }\n    }\n  }, passedStyles));\n  return React.createElement(\n    'div',\n    { style: styles.picker, className: 'google-picker ' + className },\n    React.createElement(\n      'div',\n      { style: styles.head },\n      header\n    ),\n    React.createElement('div', { style: styles.swatch }),\n    React.createElement(\n      'div',\n      { style: styles.saturation },\n      React.createElement(Saturation, {\n        hsl: hsl,\n        hsv: hsv,\n        pointer: GooglePointerCircle,\n        onChange: onChange\n      })\n    ),\n    React.createElement(\n      'div',\n      { style: styles.body },\n      React.createElement(\n        'div',\n        { style: styles.controls, className: 'flexbox-fix' },\n        React.createElement(\n          'div',\n          { style: styles.hue },\n          React.createElement(Hue, {\n            style: styles.Hue,\n            hsl: hsl,\n            radius: '4px',\n            pointer: GooglePointer,\n            onChange: onChange\n          })\n        )\n      ),\n      React.createElement(GoogleFields, {\n        rgb: rgb,\n        hsl: hsl,\n        hex: hex,\n        hsv: hsv,\n        onChange: onChange\n      })\n    )\n  );\n};\n\nGoogle.propTypes = {\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  styles: PropTypes.object,\n  header: PropTypes.string\n\n};\n\nGoogle.defaultProps = {\n  width: 652,\n  styles: {},\n  header: 'Color picker'\n};\n\nexport default ColorWrap(Google);", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport PropTypes from 'prop-types';\n\nexport var GooglePointerCircle = function GooglePointerCircle(props) {\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '20px',\n        height: '20px',\n        borderRadius: '22px',\n        border: '2px #fff solid',\n        transform: 'translate(-12px, -13px)',\n        background: 'hsl(' + Math.round(props.hsl.h) + ', ' + Math.round(props.hsl.s * 100) + '%, ' + Math.round(props.hsl.l * 100) + '%)'\n      }\n    }\n  });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nGooglePointerCircle.propTypes = {\n  hsl: PropTypes.shape({\n    h: PropTypes.number,\n    s: PropTypes.number,\n    l: PropTypes.number,\n    a: PropTypes.number\n  })\n};\n\nGooglePointerCircle.defaultProps = {\n  hsl: { a: 1, h: 249.94, l: 0.2, s: 0.50 }\n};\n\nexport default GooglePointerCircle;", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport PropTypes from 'prop-types';\n\nexport var GooglePointer = function GooglePointer(props) {\n  var styles = reactCSS({\n    'default': {\n      picker: {\n        width: '20px',\n        height: '20px',\n        borderRadius: '22px',\n        transform: 'translate(-10px, -7px)',\n        background: 'hsl(' + Math.round(props.hsl.h) + ', 100%, 50%)',\n        border: '2px white solid'\n      }\n    }\n  });\n\n  return React.createElement('div', { style: styles.picker });\n};\n\nGooglePointer.propTypes = {\n  hsl: PropTypes.shape({\n    h: PropTypes.number,\n    s: PropTypes.number,\n    l: PropTypes.number,\n    a: PropTypes.number\n  })\n};\n\nGooglePointer.defaultProps = {\n  hsl: { a: 1, h: 249.94, l: 0.2, s: 0.50 }\n};\n\nexport default GooglePointer;", "import React from 'react';\nimport reactCSS from 'reactcss';\nimport * as color from '../../helpers/color';\nimport { EditableInput } from '../common';\n\nexport var GoogleFields = function GoogleFields(_ref) {\n  var onChange = _ref.onChange,\n      rgb = _ref.rgb,\n      hsl = _ref.hsl,\n      hex = _ref.hex,\n      hsv = _ref.hsv;\n\n\n  var handleChange = function handleChange(data, e) {\n    if (data.hex) {\n      color.isValidHex(data.hex) && onChange({\n        hex: data.hex,\n        source: 'hex'\n      }, e);\n    } else if (data.rgb) {\n      var values = data.rgb.split(',');\n      color.isvalidColorString(data.rgb, 'rgb') && onChange({\n        r: values[0],\n        g: values[1],\n        b: values[2],\n        a: 1,\n        source: 'rgb'\n      }, e);\n    } else if (data.hsv) {\n      var _values = data.hsv.split(',');\n      if (color.isvalidColorString(data.hsv, 'hsv')) {\n        _values[2] = _values[2].replace('%', '');\n        _values[1] = _values[1].replace('%', '');\n        _values[0] = _values[0].replace('\u00B0', '');\n        if (_values[1] == 1) {\n          _values[1] = 0.01;\n        } else if (_values[2] == 1) {\n          _values[2] = 0.01;\n        }\n        onChange({\n          h: Number(_values[0]),\n          s: Number(_values[1]),\n          v: Number(_values[2]),\n          source: 'hsv'\n        }, e);\n      }\n    } else if (data.hsl) {\n      var _values2 = data.hsl.split(',');\n      if (color.isvalidColorString(data.hsl, 'hsl')) {\n        _values2[2] = _values2[2].replace('%', '');\n        _values2[1] = _values2[1].replace('%', '');\n        _values2[0] = _values2[0].replace('\u00B0', '');\n        if (hsvValue[1] == 1) {\n          hsvValue[1] = 0.01;\n        } else if (hsvValue[2] == 1) {\n          hsvValue[2] = 0.01;\n        }\n        onChange({\n          h: Number(_values2[0]),\n          s: Number(_values2[1]),\n          v: Number(_values2[2]),\n          source: 'hsl'\n        }, e);\n      }\n    }\n  };\n\n  var styles = reactCSS({\n    'default': {\n      wrap: {\n        display: 'flex',\n        height: '100px',\n        marginTop: '4px'\n      },\n      fields: {\n        width: '100%'\n      },\n      column: {\n        paddingTop: '10px',\n        display: 'flex',\n        justifyContent: 'space-between'\n      },\n      double: {\n        padding: '0px 4.4px',\n        boxSizing: 'border-box'\n      },\n      input: {\n        width: '100%',\n        height: '38px',\n        boxSizing: 'border-box',\n        padding: '4px 10% 3px',\n        textAlign: 'center',\n        border: '1px solid #dadce0',\n        fontSize: '11px',\n        textTransform: 'lowercase',\n        borderRadius: '5px',\n        outline: 'none',\n        fontFamily: 'Roboto,Arial,sans-serif'\n      },\n      input2: {\n        height: '38px',\n        width: '100%',\n        border: '1px solid #dadce0',\n        boxSizing: 'border-box',\n        fontSize: '11px',\n        textTransform: 'lowercase',\n        borderRadius: '5px',\n        outline: 'none',\n        paddingLeft: '10px',\n        fontFamily: 'Roboto,Arial,sans-serif'\n      },\n      label: {\n        textAlign: 'center',\n        fontSize: '12px',\n        background: '#fff',\n        position: 'absolute',\n        textTransform: 'uppercase',\n        color: '#3c4043',\n        width: '35px',\n        top: '-6px',\n        left: '0',\n        right: '0',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        fontFamily: 'Roboto,Arial,sans-serif'\n      },\n      label2: {\n        left: '10px',\n        textAlign: 'center',\n        fontSize: '12px',\n        background: '#fff',\n        position: 'absolute',\n        textTransform: 'uppercase',\n        color: '#3c4043',\n        width: '32px',\n        top: '-6px',\n        fontFamily: 'Roboto,Arial,sans-serif'\n      },\n      single: {\n        flexGrow: '1',\n        margin: '0px 4.4px'\n      }\n    }\n  });\n\n  var rgbValue = rgb.r + ', ' + rgb.g + ', ' + rgb.b;\n  var hslValue = Math.round(hsl.h) + '\\xB0, ' + Math.round(hsl.s * 100) + '%, ' + Math.round(hsl.l * 100) + '%';\n  var hsvValue = Math.round(hsv.h) + '\\xB0, ' + Math.round(hsv.s * 100) + '%, ' + Math.round(hsv.v * 100) + '%';\n\n  return React.createElement(\n    'div',\n    { style: styles.wrap, className: 'flexbox-fix' },\n    React.createElement(\n      'div',\n      { style: styles.fields },\n      React.createElement(\n        'div',\n        { style: styles.double },\n        React.createElement(EditableInput, {\n          style: { input: styles.input, label: styles.label },\n          label: 'hex',\n          value: hex,\n          onChange: handleChange\n        })\n      ),\n      React.createElement(\n        'div',\n        { style: styles.column },\n        React.createElement(\n          'div',\n          { style: styles.single },\n          React.createElement(EditableInput, {\n            style: { input: styles.input2, label: styles.label2 },\n            label: 'rgb',\n            value: rgbValue,\n            onChange: handleChange\n          })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.single },\n          React.createElement(EditableInput, {\n            style: { input: styles.input2, label: styles.label2 },\n            label: 'hsv',\n            value: hsvValue,\n            onChange: handleChange\n          })\n        ),\n        React.createElement(\n          'div',\n          { style: styles.single },\n          React.createElement(EditableInput, {\n            style: { input: styles.input2, label: styles.label2 },\n            label: 'hsl',\n            value: hslValue,\n            onChange: handleChange\n          })\n        )\n      )\n    )\n  );\n};\n\nexport default GoogleFields;", "import { render, hydrate, unmountComponentAtNode } from 'preact/compat';\n\nexport function createRoot(container) {\n\treturn {\n\t\trender(children) {\n\t\t\trender(children, container);\n\t\t},\n\t\tunmount() {\n\t\t\tunmountComponentAtNode(container);\n\t\t}\n\t};\n}\n\nexport function hydrateRoot(container, children) {\n\thydrate(children, container);\n\treturn createRoot(container);\n}\n\nexport default {\n\tcreateRoot,\n\thydrateRoot\n};\n", "export function makeInputEventId(tagName: string, id: string) {\n  return `${tagName}-${id}`;\n}\n\nconst DATA_PASSING_EVENT_ID = \"shiny-data-passing-event\";\n\ntype DataPassingEventPayload =\n  | {\n      type: \"string\";\n      value: string;\n    }\n  | {\n      type: \"number\";\n      value: number;\n    }\n  | {\n      type: \"boolean\";\n      value: boolean;\n    }\n  | {\n      type: \"string[]\";\n      value: string[];\n    }\n  | {\n      type: \"other\";\n      value: unknown;\n    };\n\nexport type ValueChangeEmitter = (payload: DataPassingEventPayload) => void;\n\nfunction isDataPassingPayload(x: unknown): x is DataPassingEventPayload {\n  if (typeof x !== \"object\") {\n    return false;\n  }\n\n  if (x === null) {\n    return false;\n  }\n\n  const hasTypeField = \"type\" in x && typeof x.type === \"string\";\n  const hasValueField = \"value\" in x;\n\n  if (!hasTypeField || !hasValueField) return false;\n\n  switch (x.type) {\n    case \"string\":\n      return typeof x.value === \"string\";\n    case \"number\":\n      return typeof x.value === \"number\";\n    case \"boolean\":\n      return typeof x.value === \"boolean\";\n    case \"string[]\":\n      return (\n        Array.isArray(x.value) && x.value.every((x) => typeof x === \"string\")\n      );\n    default:\n      return true;\n  }\n}\n\nfunction makeDataPassingPayload(\n  id: string,\n  msg: DataPassingEventPayload\n): DataPassingEventPayload & { id: string } {\n  return { ...msg, id };\n}\n\nexport function getDataPassingEventValue(\n  evt: Event,\n  id: string\n): DataPassingEventPayload | null {\n  if (!(evt instanceof CustomEvent)) {\n    return null;\n  }\n\n  if (evt.type !== DATA_PASSING_EVENT_ID) {\n    return null;\n  }\n\n  const payload = evt.detail;\n  if (typeof payload !== \"object\") {\n    return null;\n  }\n\n  // Make sure that we have an id and it matches what we want\n  if (typeof payload.id !== \"string\" || payload.id !== id) {\n    return null;\n  }\n\n  if (!isDataPassingPayload(payload)) {\n    return null;\n  }\n\n  return payload;\n}\n\nexport function makeValueChangeEmitter(\n  el: HTMLElement,\n  id: string\n): ValueChangeEmitter {\n  return (payload: DataPassingEventPayload) => {\n    const event = new CustomEvent(DATA_PASSING_EVENT_ID, {\n      detail: makeDataPassingPayload(id, payload),\n      bubbles: true,\n    });\n    el.dispatchEvent(event);\n  };\n}\n\nexport type DataPassingEventWatcher = {\n  unsubscribe: () => void;\n};\n\nexport const dummyDataPassingWatcher = {\n  unsubscribe: () => {},\n};\n\nexport function makeDataPassingWatcher(\n  watchId: string,\n  callback: (payload: DataPassingEventPayload) => void\n): DataPassingEventWatcher {\n  const onEvent = (e: Event) => {\n    const payload = getDataPassingEventValue(e, watchId);\n\n    if (payload === null) {\n      return;\n    }\n\n    const value = payload.value;\n\n    if (value === null || value === undefined) {\n      return;\n    }\n\n    callback(payload);\n  };\n  window.addEventListener(DATA_PASSING_EVENT_ID, onEvent);\n\n  return {\n    unsubscribe: () => {\n      window.removeEventListener(DATA_PASSING_EVENT_ID, onEvent);\n    },\n  };\n}\n", "/**\n * A safe Shiny object that reflects we may be in an environment without Shiny\n * e.g. a static quarto document.\n *\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport const Shiny: typeof window.Shiny | undefined = window.Shiny;\n", "import { Shiny } from \"./OptionalShiny\";\n\n// TODO: Better names for these types\nexport interface CustomElementInputValue<T> extends HTMLElement {\n  id: string;\n  value: T;\n  onChangeCallback: (x: boolean) => void;\n}\n\nexport interface CustomElementInputGetValue<T> extends HTMLElement {\n  id: string;\n  getValue: () => T;\n  onChangeCallback: (x: boolean) => void;\n}\n\nexport type CustomElementInput<T> =\n  | CustomElementInputValue<T>\n  | CustomElementInputGetValue<T>;\n\n/**\n * Given a tag name for a custom element that is a CustomElementInput<T>, this\n * will hook up the proper input binding and register it with Shiny.\n * @param tagName Name of the tag that corresponds to the input binding\n * @returns Nothing\n */\nexport function makeInputBinding<T>(\n  tagName: string,\n  { type = null }: { type?: string | null } = {}\n) {\n  if (!Shiny) {\n    return;\n  }\n\n  class NewCustomBinding extends Shiny[\"InputBinding\"] {\n    constructor() {\n      super();\n    }\n\n    find(scope: HTMLElement): JQuery<CustomElementInput<T>> {\n      return $(scope).find(tagName) as JQuery<CustomElementInput<T>>;\n    }\n\n    getValue(el: CustomElementInputValue<T> | CustomElementInputGetValue<T>) {\n      if (\"getValue\" in el) {\n        return el.getValue();\n      } else {\n        return el.value;\n      }\n    }\n\n    getType(el: CustomElementInput<T>): string | null {\n      return type;\n    }\n\n    subscribe(el: CustomElementInput<T>, callback: (x: boolean) => void): void {\n      el.onChangeCallback = callback;\n    }\n\n    unsubscribe(el: CustomElementInput<T>): void {\n      el.onChangeCallback = (x: boolean) => {};\n    }\n  }\n\n  Shiny.inputBindings.register(new NewCustomBinding(), `${tagName}-Binding`);\n}\n", "import { LitElement, css, html } from \"lit\";\n\nconst colors = [\n  \"primary\",\n  \"action\",\n  \"error\",\n  \"bg\",\n  \"bg-1\",\n  \"bg-2\",\n  \"border\",\n  \"border-1\",\n  \"border-2\",\n  \"text\",\n  \"text-1\",\n  \"text-2\",\n].map((c) => `--color-${c}`);\n\nconst fontSizes = [\n  \"heading-1\",\n  \"heading-2\",\n  \"heading-3\",\n  \"heading-4\",\n  \"body\",\n  \"small\",\n  \"x-small\",\n].map((s) => `--font-${s}`);\n\nconst sml = [\"small\", \"medium\", \"large\"];\nconst shadows = sml.map((x) => `--shadow-${x}`);\nconst borders = sml.map((x) => `--border-${x}`);\nconst radii = sml.map((x) => `--radius-${x}`);\nconst spacings = [\"x-small\", ...sml, \"x-large\", \"xx-large\"].map(\n  (s) => `--space-${s}`\n);\n\nexport class DesignPreview extends LitElement {\n  static properties = {};\n\n  // Styles are scoped to this element: they won't conflict with styles\n  // on the main page or in other components. Styling API can be exposed\n  // via CSS custom properties.\n  static styles = css`\n    :host {\n      display: block;\n      height: 100%;\n      overflow: auto;\n      position: relative;\n      padding: var(--space-medium);\n      color: var(--color-text);\n    }\n\n    :host > div {\n      padding: var(--space-medium);\n      position: relative;\n      margin-block: var(--space-medium);\n      outline: var(--border-small) solid var(--color-border);\n      border-radius: var(--radius-small);\n      box-shadow: var(--shadow-small);\n    }\n\n    .box-container {\n      width: 100%;\n      display: grid;\n      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n      grid-gap: var(--space-medium);\n    }\n\n    .box {\n      min-width: 0;\n      max-width: 100%;\n      aspect-ratio: 1;\n      display: grid;\n      align-items: end;\n      border: 0 solid var(--color-border);\n      box-shadow: var(--shadow-medium);\n      border-radius: var(--radius-small);\n      background-color: var(--color-bg-2);\n      overflow: hidden;\n    }\n\n    .label {\n      font-size: var(--font-x-small);\n      font-family: var(--font-mono);\n    }\n\n    .box > div.label {\n      background-color: var(--color-bg-1);\n      padding-inline: var(--space-medium);\n    }\n\n    .font-sizes-container > p {\n      padding: 0;\n      margin: 0;\n      line-height: var(--font-lineheight-5);\n    }\n\n    .spacings {\n      display: flex;\n      align-items: center;\n      padding: var(--space-small);\n      gap: var(--space-small);\n    }\n  `;\n\n  render() {\n    return html`\n      <div>\n        <h2>Colors</h2>\n        <div class=\"box-container\">\n          ${colors.map(\n            (c) => html`<div class=\"box\" style=\"background-color: var(${c})\">\n              <div class=\"label\">${c}</div>\n            </div>`\n          )}\n        </div>\n      </div>\n\n      <div>\n        <h2>Font Sizes</h2>\n        <div class=\"font-sizes-container\">\n          ${fontSizes.map(\n            (size) => html`<p class=\"font-size\" style=\"font-size: var(${size})\">\n              ${size}\n            </p>`\n          )}\n        </div>\n      </div>\n\n      <div>\n        <h2>Border Widths</h2>\n        <div class=\"box-container\">\n          ${borders.map(\n            (border) => html`<div\n              class=\"box\"\n              style=\"border-width: var(${border});\"\n            >\n              <div class=\"label\">${border}</div>\n            </div>`\n          )}\n        </div>\n      </div>\n\n      <div>\n        <h2>Radii</h2>\n        <div class=\"box-container\">\n          ${radii.map(\n            (r) => html`<div class=\"box\" style=\"border-radius: var(${r});\">\n              <div class=\"label\">${r}</div>\n            </div>`\n          )}\n        </div>\n      </div>\n\n      <div>\n        <h2>Spacings</h2>\n        <div>\n          ${spacings.map(\n            (s) => html`\n              <div class=\"spacings\">\n                <div\n                  style=\"width: var(${s}); aspect-ratio: 1; background-color: var(--color-primary);\"\n                ></div>\n                <div class=\"label\">${s}</div>\n              </div>\n            `\n          )}\n        </div>\n      </div>\n      <div>\n        <h2>Box Shadows</h2>\n        <div class=\"box-container\">\n          ${shadows.map(\n            (shadow) => html`<div\n              class=\"box\"\n              style=\"box-shadow: var(${shadow});\"\n            >\n              <div class=\"label\">${shadow}</div>\n            </div>`\n          )}\n        </div>\n      </div>\n    `;\n  }\n}\n\ncustomElements.define(\"design-preview\", DesignPreview);\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\nimport {Constructor, ClassDescriptor} from './base.js';\n\n/**\n * Allow for custom element classes with private constructors\n */\ntype CustomElementClass = Omit<typeof HTMLElement, 'new'>;\n\nconst legacyCustomElement = (tagName: string, clazz: CustomElementClass) => {\n  customElements.define(tagName, clazz as CustomElementConstructor);\n  // Cast as any because TS doesn't recognize the return type as being a\n  // subtype of the decorated class when clazz is typed as\n  // `Constructor<HTMLElement>` for some reason.\n  // `Constructor<HTMLElement>` is helpful to make sure the decorator is\n  // applied to elements however.\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return clazz as any;\n};\n\nconst standardCustomElement = (\n  tagName: string,\n  descriptor: ClassDescriptor\n) => {\n  const {kind, elements} = descriptor;\n  return {\n    kind,\n    elements,\n    // This callback is called once the class is otherwise fully defined\n    finisher(clazz: Constructor<HTMLElement>) {\n      customElements.define(tagName, clazz);\n    },\n  };\n};\n\n/**\n * Class decorator factory that defines the decorated class as a custom element.\n *\n * ```js\n * @customElement('my-element')\n * class MyElement extends LitElement {\n *   render() {\n *     return html``;\n *   }\n * }\n * ```\n * @category Decorator\n * @param tagName The tag name of the custom element to define.\n */\nexport const customElement =\n  (tagName: string) =>\n  (classOrDescriptor: CustomElementClass | ClassDescriptor) =>\n    typeof classOrDescriptor === 'function'\n      ? legacyCustomElement(tagName, classOrDescriptor)\n      : standardCustomElement(tagName, classOrDescriptor as ClassDescriptor);\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\nimport {PropertyDeclaration, ReactiveElement} from '../reactive-element.js';\nimport {ClassElement} from './base.js';\n\nconst standardProperty = (\n  options: PropertyDeclaration,\n  element: ClassElement\n) => {\n  // When decorating an accessor, pass it through and add property metadata.\n  // Note, the `hasOwnProperty` check in `createProperty` ensures we don't\n  // stomp over the user's accessor.\n  if (\n    element.kind === 'method' &&\n    element.descriptor &&\n    !('value' in element.descriptor)\n  ) {\n    return {\n      ...element,\n      finisher(clazz: typeof ReactiveElement) {\n        clazz.createProperty(element.key, options);\n      },\n    };\n  } else {\n    // createProperty() takes care of defining the property, but we still\n    // must return some kind of descriptor, so return a descriptor for an\n    // unused prototype field. The finisher calls createProperty().\n    return {\n      kind: 'field',\n      key: Symbol(),\n      placement: 'own',\n      descriptor: {},\n      // store the original key so subsequent decorators have access to it.\n      originalKey: element.key,\n      // When @babel/plugin-proposal-decorators implements initializers,\n      // do this instead of the initializer below. See:\n      // https://github.com/babel/babel/issues/9260 extras: [\n      //   {\n      //     kind: 'initializer',\n      //     placement: 'own',\n      //     initializer: descriptor.initializer,\n      //   }\n      // ],\n      initializer(this: {[key: string]: unknown}) {\n        if (typeof element.initializer === 'function') {\n          this[element.key as string] = element.initializer.call(this);\n        }\n      },\n      finisher(clazz: typeof ReactiveElement) {\n        clazz.createProperty(element.key, options);\n      },\n    };\n  }\n};\n\nconst legacyProperty = (\n  options: PropertyDeclaration,\n  proto: Object,\n  name: PropertyKey\n) => {\n  (proto.constructor as typeof ReactiveElement).createProperty(name, options);\n};\n\n/**\n * A property decorator which creates a reactive property that reflects a\n * corresponding attribute value. When a decorated property is set\n * the element will update and render. A {@linkcode PropertyDeclaration} may\n * optionally be supplied to configure property features.\n *\n * This decorator should only be used for public fields. As public fields,\n * properties should be considered as primarily settable by element users,\n * either via attribute or the property itself.\n *\n * Generally, properties that are changed by the element should be private or\n * protected fields and should use the {@linkcode state} decorator.\n *\n * However, sometimes element code does need to set a public property. This\n * should typically only be done in response to user interaction, and an event\n * should be fired informing the user; for example, a checkbox sets its\n * `checked` property when clicked and fires a `changed` event. Mutating public\n * properties should typically not be done for non-primitive (object or array)\n * properties. In other cases when an element needs to manage state, a private\n * property decorated via the {@linkcode state} decorator should be used. When\n * needed, state properties can be initialized via public properties to\n * facilitate complex interactions.\n *\n * ```ts\n * class MyElement {\n *   @property({ type: Boolean })\n *   clicked = false;\n * }\n * ```\n * @category Decorator\n * @ExportDecoratedItems\n */\nexport function property(options?: PropertyDeclaration) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return (protoOrDescriptor: Object | ClassElement, name?: PropertyKey): any =>\n    name !== undefined\n      ? legacyProperty(options!, protoOrDescriptor as Object, name)\n      : standardProperty(options!, protoOrDescriptor as ClassElement);\n}\n", "/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\n\nimport {property} from './property.js';\n\nexport interface InternalPropertyDeclaration<Type = unknown> {\n  /**\n   * A function that indicates if a property should be considered changed when\n   * it is set. The function should take the `newValue` and `oldValue` and\n   * return `true` if an update should be requested.\n   */\n  hasChanged?(value: Type, oldValue: Type): boolean;\n}\n\n/**\n * Declares a private or protected reactive property that still triggers\n * updates to the element when it changes. It does not reflect from the\n * corresponding attribute.\n *\n * Properties declared this way must not be used from HTML or HTML templating\n * systems, they're solely for properties internal to the element. These\n * properties may be renamed by optimization tools like closure compiler.\n * @category Decorator\n */\nexport function state(options?: InternalPropertyDeclaration) {\n  return property({\n    ...options,\n    state: true,\n  });\n}\n", "/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\n\n/*\n * IMPORTANT: For compatibility with tsickle and the Closure JS compiler, all\n * property decorators (but not class decorators) in this file that have\n * an @ExportDecoratedItems annotation must be defined as a regular function,\n * not an arrow function.\n */\n\nimport {decorateProperty} from './base.js';\n\nimport type {ReactiveElement} from '../reactive-element.js';\nimport type {QueryAssignedNodesOptions} from './query-assigned-nodes.js';\n\nconst NODE_MODE = false;\nconst global = NODE_MODE ? globalThis : window;\n\n/**\n * A tiny module scoped polyfill for HTMLSlotElement.assignedElements.\n */\nconst slotAssignedElements =\n  global.HTMLSlotElement?.prototype.assignedElements != null\n    ? (slot: HTMLSlotElement, opts?: AssignedNodesOptions) =>\n        slot.assignedElements(opts)\n    : (slot: HTMLSlotElement, opts?: AssignedNodesOptions) =>\n        slot\n          .assignedNodes(opts)\n          .filter(\n            (node): node is Element => node.nodeType === Node.ELEMENT_NODE\n          );\n\n/**\n * Options for the {@linkcode queryAssignedElements} decorator. Extends the\n * options that can be passed into\n * [HTMLSlotElement.assignedElements](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement/assignedElements).\n */\nexport interface QueryAssignedElementsOptions\n  extends QueryAssignedNodesOptions {\n  /**\n   * CSS selector used to filter the elements returned. For example, a selector\n   * of `\".item\"` will only include elements with the `item` class.\n   */\n  selector?: string;\n}\n\n/**\n * A property decorator that converts a class property into a getter that\n * returns the `assignedElements` of the given `slot`. Provides a declarative\n * way to use\n * [`HTMLSlotElement.assignedElements`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLSlotElement/assignedElements).\n *\n * Can be passed an optional {@linkcode QueryAssignedElementsOptions} object.\n *\n * Example usage:\n * ```ts\n * class MyElement {\n *   @queryAssignedElements({ slot: 'list' })\n *   listItems!: Array<HTMLElement>;\n *   @queryAssignedElements()\n *   unnamedSlotEls!: Array<HTMLElement>;\n *\n *   render() {\n *     return html`\n *       <slot name=\"list\"></slot>\n *       <slot></slot>\n *     `;\n *   }\n * }\n * ```\n *\n * Note, the type of this property should be annotated as `Array<HTMLElement>`.\n *\n * @category Decorator\n */\nexport function queryAssignedElements(options?: QueryAssignedElementsOptions) {\n  const {slot, selector} = options ?? {};\n  return decorateProperty({\n    descriptor: (_name: PropertyKey) => ({\n      get(this: ReactiveElement) {\n        const slotSelector = `slot${slot ? `[name=${slot}]` : ':not([name])'}`;\n        const slotEl =\n          this.renderRoot?.querySelector<HTMLSlotElement>(slotSelector);\n        const elements =\n          slotEl != null ? slotAssignedElements(slotEl, options) : [];\n        if (selector) {\n          return elements.filter((node) => node.matches(selector));\n        }\n        return elements;\n      },\n      enumerable: true,\n      configurable: true,\n    }),\n  });\n}\n", "/**\n * Creates an attribute of given type and value and adds it to the element. If\n * the element already has that attribute set, nothing happens.\n * @param el Element to add the attribute to\n * @param type Type of the attribute (e.g. \"slot\")\n * @param value Value of the attribute (e.g. \"footer\")\n * @returns Returns element which has been modified in place (if attribute was added)\n */\nexport function setElAttr(el: HTMLElement, type: string, value: string) {\n  const attr = document.createAttribute(type);\n  attr.value = value;\n\n  // Make sure that we're not overwriting an existing attribute\n  if (!el.attributes.getNamedItem(type)) {\n    el.attributes.setNamedItem(attr);\n  }\n\n  return el;\n}\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\nimport { setElAttr } from \"./set_el_attr\";\n\n@customElement(\"shiny-dashboard-footer\")\nexport class DashboardFooter extends LitElement {\n  static properties = {};\n\n  // Styles are scoped to this element: they won't conflict with styles\n  // on the main page or in other components. Styling API can be exposed\n  // via CSS custom properties.\n  static styles = css`\n    :host {\n      display: block;\n      position: relative;\n      width: 100%;\n    }\n\n    .footer {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n    }\n  `;\n\n  constructor() {\n    super();\n    setElAttr(this, \"slot\", \"footer\");\n  }\n\n  render() {\n    return html`\n      <div class=\"footer\">\n        <slot></slot>\n      </div>\n    `;\n  }\n}\n", "import { LitElement, html } from \"lit\";\nimport {\n  DataPassingEventWatcher,\n  dummyDataPassingWatcher,\n  makeDataPassingWatcher,\n} from \"./make_value_change_emitter\";\n\nexport class GeneralOutput extends LitElement {\n  value: string | null = null;\n  watch: string = \"\";\n\n  watcher: DataPassingEventWatcher = dummyDataPassingWatcher;\n\n  static properties = {\n    value: {},\n    watch: { type: String },\n  };\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.watcher = makeDataPassingWatcher(this.watch, (payload) => {\n      // Try and parse the value to string\n      // this.value = JSON.stringify(payload.value);\n      this.value = String(payload.value);\n    });\n  }\n\n  render() {\n    return html`<span class=\"value\">${this.value}</span>`;\n  }\n}\n\n// Register both the custom element and the input bindings\ncustomElements.define(\"general-output\", GeneralOutput);\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n@customElement(\"shiny-grid\")\nexport class Grid extends LitElement {\n  /**\n   * The number of rows in the grid.\n   */\n  @property({ type: Number })\n  nRows: number = 1;\n\n  /**\n   * The number of columns in the grid.\n   */\n  @property({ type: Number })\n  nCols: number = 2;\n\n  /**\n   * The alignment of items in the grid.\n   */\n  @property({ type: String })\n  alignItems: string = \"stretch\";\n\n  // Styles are scoped to this element: they won't conflict with styles\n  // on the main page or in other components. Styling API can be exposed\n  // via CSS custom properties.\n  static styles = css`\n    :host {\n      display: grid;\n      grid-template-columns: repeat(var(--nCols), 1fr);\n      grid-template-rows: repeat(var(--nRows), 1fr);\n      gap: var(--grid-gap, var(--size-m));\n      align-items: var(--align-items);\n      height: 100%;\n    }\n\n    * {\n      box-sizing: border-box;\n    }\n\n    ::slotted(*) {\n      min-height: 0;\n      min-width: 0;\n    }\n  `;\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.style.setProperty(\"--nRows\", this.nRows.toString());\n    this.style.setProperty(\"--nCols\", this.nCols.toString());\n    this.style.setProperty(\"--align-items\", this.alignItems);\n  }\n\n  render() {\n    return html`<slot></slot>`;\n  }\n}\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { TabElements, TabInfo } from \"../layout-container\";\n\n/**\n * A custom element representing a label for a tab. This is effectively a div\n * that can have anything put in it which it will layout using a flexbox layout with\n * `align-items: center` and `gap: var(--size-xxs)`.\n */\n@customElement(\"tab-label\")\nexport class TabLabel extends LitElement {\n  static styles = [\n    css`\n      :host {\n        display: flex;\n        align-items: center;\n        gap: var(--size-xxs);\n      }\n    `,\n  ];\n\n  render() {\n    return html`<slot></slot>`;\n  }\n}\n\n@customElement(\"tab-bar\")\nexport class TabBar extends LitElement {\n  @property() tabs: TabElements = [];\n  @property({ type: Number }) selectedTabIndex: number = 0;\n  @property({ type: String, reflect: true }) orientation:\n    | \"vertical\"\n    | \"horizontal\" = \"horizontal\";\n\n  static styles = [\n    css`\n      :host {\n        /* Some variables that control the little bars that demarkate tabs and\n        also show what is selected */\n        --tab-border-color: var(--text-2);\n\n        grid-area: nav;\n        display: flex;\n        flex-flow: row nowrap;\n        align-items: baseline;\n        justify-content: space-between;\n        border-block-end: 1px solid var(--border-color);\n        gap: var(--_layout-container-gap);\n        background-color: var(--surface-1);\n      }\n\n      :host([orientation=\"vertical\"]) {\n        overflow: auto;\n        flex-flow: column nowrap;\n        justify-content: flex-start;\n        border-inline-end: 1px solid var(--border-color);\n        border-block-end: unset;\n        gap: 0;\n      }\n\n      :host([orientation=\"vertical\"]) > .after_navigation {\n        margin-block-start: auto;\n      }\n\n      :host([orientation=\"vertical\"]) > .title ::slotted(*) {\n        padding-block-end: var(--_layout-container-gap);\n      }\n\n      :host([orientation=\"vertical\"]) > .after_navigation ::slotted(*) {\n        padding-block-start: var(--_layout-container-gap);\n      }\n\n      .tab {\n        cursor: pointer;\n        position: relative;\n        padding-inline: var(--size-m);\n\n        /* Use the container padding for the top of the tab */\n        padding-block: var(--size-xs);\n        color: var(--text-1);\n\n        /* Add elipses to prevent overflow for tab names that are too long */\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        transition: background-color var(--transition-fast);\n        border-radius: var(--radius-s);\n      }\n\n      .selected-tab {\n        background-color: var(--surface-3);\n      }\n\n      .mobile-tabs {\n        display: none;\n      }\n\n      .tabs {\n        flex-shrink: 1;\n        display: flex;\n        align-items: end;\n        row-gap: var(--size-xs);\n        position: relative;\n        width: auto;\n        border-radius: var(--radius-s);\n        background-color: var(--surface-1);\n        overflow: hidden;\n        gap: var(--size-xs);\n      }\n\n      :host([orientation=\"vertical\"]) .tabs {\n        border-width: 1;\n        min-width: unset;\n        flex-flow: column nowrap;\n        align-items: stretch;\n        overflow: auto;\n        max-width: var(--size-content-1);\n      }\n\n      .tab:last-child {\n        border-inline-end: unset;\n      }\n\n      .tab:hover:not(.selected-tab) {\n        background-color: var(--surface-4);\n      }\n\n      /* Mobile styles */\n\n      .mobile-tabs select {\n        background-color: inherit;\n        accent-color: pink;\n      }\n\n      @container (width < 250px) {\n        /* Hide the tabs and show the select */\n        :host([orientation=\"horizontal\"]) .mobile-tabs {\n          display: unset;\n        }\n\n        :host([orientation=\"horizontal\"]) .tabs {\n          display: none;\n        }\n      }\n    `,\n  ];\n\n  selectTab(tabIndex: number = this.selectedTabIndex) {\n    this.selectedTabIndex = tabIndex;\n    const options = {\n      detail: { index: tabIndex, name: this.tabs[tabIndex].name },\n      bubbles: true,\n      composed: true,\n    };\n    this.dispatchEvent(new CustomEvent(\"selection\", options));\n  }\n\n  // Callback used in the select input for mobile mode tab selection\n  handleTabSelect(event: Event) {\n    const selectedTabName = (\n      event.target as HTMLSelectElement\n    ).value.replaceAll(\"_\", \" \");\n    const selectedTabIndex = this.tabs.findIndex(\n      (tab) => tab.name === selectedTabName\n    );\n    this.selectTab(selectedTabIndex);\n  }\n\n  render() {\n    if (this.tabs.length === 0) {\n      this.style.display = \"none\";\n      return html``;\n    }\n\n    this.style.display = \"flex\";\n\n    const tabs = this.tabs.map((tab, i) => {\n      const isSelected = i === this.selectedTabIndex;\n      return html`<div\n        class=\"tab ${isSelected ? \"selected-tab\" : \"\"}\"\n        @click=${() => this.selectTab(i)}\n        title=${isSelected ? `Current: ${tab.name}` : `Switch to: ${tab.name}`}\n      >\n        ${tab.label}\n      </div>`;\n    });\n\n    return html`\n      <div class=\"title\">\n        <slot name=\"title\">\n          <div class=\"title_fallback\">fallback</div>\n        </slot>\n      </div>\n\n      <div class=\"tabs\">${tabs}</div>\n      <div class=\"mobile-tabs\">\n        <sl-select\n          @sl-change=${this.handleTabSelect}\n          value=${this.tabs[this.selectedTabIndex]?.value ?? \"\"}\n        >\n          ${this.tabs.map(\n            (tab) =>\n              html`<sl-option value=\"${tab.value}\">${tab.name}</sl-option>`\n          )}\n        </sl-select>\n      </div>\n\n      <div class=\"after_navigation\">\n        <slot name=\"after_navigation\"></slot>\n      </div>\n    `;\n  }\n}\n\nexport function extractTabsFromElements(container: HTMLElement) {\n  let unnamedTabCounter = 0;\n  // We directly traverse the immediate children here instead of using a\n  // querySelector so we avoid accidentally finding tabs of children\n  const tabElements: TabElements = Array.from(container.children)\n    .filter(({ tagName }) => tagName === \"SHINY-TAB\")\n    .map((child) => {\n      // We checked this in the filter above, so force the type\n      const tabName =\n        child.attributes.getNamedItem(\"name\")?.value ??\n        `Tab ${unnamedTabCounter++}`;\n      const tabIcon = child.attributes.getNamedItem(\"icon\")?.value;\n\n      // Check for a custom label.\n      const tabLabel = Array.from(child.children).find(\n        (el) => el.tagName === \"TAB-LABEL\"\n      ) as HTMLElement | undefined;\n\n      return {\n        name: tabName,\n        value: tabName.replaceAll(\" \", \"_\"),\n        el: child as HTMLElement,\n        label:\n          tabLabel ??\n          html`\n            <tab-label>\n              ${tabIcon ? html`<shiny-icon name=${tabIcon}></shiny-icon>` : \"\"}\n              ${tabName}\n            </tab-label>\n          `,\n      } satisfies TabInfo;\n    });\n\n  return tabElements;\n}\n\nexport function selectTabByIndex(tabs: TabElements, index: number) {\n  tabs.forEach((tab, i) => {\n    const isSelected = i === index;\n    const currentlyHidden = tab.el.hasAttribute(\"aria-hidden\");\n\n    // Is this tab the one being shifted away from?\n    const hidingTab = !currentlyHidden && !isSelected;\n    if (hidingTab) {\n      if (typeof $ !== \"undefined\") {\n        $(tab.el).trigger(\"hidden\");\n      }\n      // Make sure that screen readers know to not include the hidden tabs\n      tab.el.inert = true;\n      tab.el.setAttribute(\"aria-hidden\", \"\");\n    }\n\n    // Is this tab the one being shifted to?\n    const showingTab = currentlyHidden && isSelected;\n    if (showingTab) {\n      if (typeof $ !== \"undefined\") {\n        $(tab.el).trigger(\"shown\");\n      }\n      tab.el.inert = false;\n      tab.el.removeAttribute(\"aria-hidden\");\n    }\n  });\n}\n", "import { CSSResultGroup, LitElement, TemplateResult, css, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport { CustomElementInputGetValue } from \"./shiny/make-input-binding\";\nimport { extractTabsFromElements, selectTabByIndex } from \"./tabs/TabBar\";\n\n/**\n * Information about a tab in the dashboard that is used for rendering and\n * choosing tabs\n */\nexport type TabInfo = {\n  /**\n   * Name of the tab as provided by the tab's name attribute\n   */\n  name: string;\n  /**\n   * Value of the tab as provided by the tab's name attribute but with spaces\n   * replaced by underscores. Needed for the select input that is used in mobile\n   */\n  value: string;\n  /**\n   * The tab element itself\n   */\n  el: HTMLElement;\n  /**\n   * The tab label element. If provided in the Dom as a tab-label element, then\n   * this is the element itself. Otherwise, it's a template result that is\n   * rendered as a tab-label element\n   */\n  label: HTMLElement | TemplateResult;\n};\n\nexport type TabElements = TabInfo[];\n\n/**\n * CSS selectors used to specify which elements should be allowed to flex by default\n */\nconst flexibleElementSelectors = css`{[\".shiny-plot-output\"].join(\", \")}`;\n\n/**\n * A custom element that acts like a flexible layout container. It can have a\n * header, sidebar, and footer added to it. It is used as the base for other\n * elements like cards and dashboard layouts. Typically this component isn't\n * used directly.\n *\n * @element sc-layout-container\n *\n * @cssprop --layout-container-padding - The padding of the container.\n * @cssprop --layout-container-radius - The border radius of the container.\n * @cssprop --layout-container-child-radius - The border radius of the\n * container's children. Defaults to nothing\n * @cssprop --layout-container-border - The border of the container.\n * @cssprop --layout-container-shadow - The shadow of the container.\n * @cssprop --layout-container-bg - The surface color of the container.\n * @cssprop --layout-container-bg-image - The background image of the container.\n * Useful for things like gradients and patterns. Defaults to nothing.\n * @cssprop --layout-container-h - The height of the container. Typically set by\n * the `height` attribute instead of this variable.\n */\n@customElement(\"sc-layout-container\")\nexport class LayoutContainer\n  extends LitElement\n  implements CustomElementInputGetValue<string>\n{\n  /**\n   * The height of the container. If a number is used, the height wil be set to that\n   * number in pixels. If \"content\" is used, then the container will take the minimum\n   * height needed to contain all the children (aka typical block-layout\n   * behavior). This value is typically left unset and the container is allowed to to\n   * sized by it's containing environment.\n   *\n   * @attr height\n   */\n  @property() height?: \"content\" | number;\n\n  /**\n   * Whether the content of the container should be centered or not.\n   *\n   * @attr centercontent\n   */\n  @property({ type: Boolean, reflect: true }) centercontent: boolean = false;\n\n  /**\n   * Should the contents of the container take their natural size instead of\n   * filling remaining space in the container?\n   *\n   * @attr no-flex\n   */\n  @property({ type: Boolean, reflect: true, attribute: \"no-flex\" })\n  noFlex: boolean = false;\n\n  /**\n   * Whether the dashboard should have sidebar navigation. Only used if the dashboard has tabs.\n   */\n  @property({ type: Boolean, reflect: true, attribute: \"sidebar-nav\" })\n  sidebarNav: boolean = false;\n\n  /**\n   * The index of the selected tab. Only used if the dashboard has tabs.\n   */\n  @property({ type: Number, attribute: \"selected-tab-index\" })\n  selectedTabIndex: number = 0;\n\n  /**\n   * An array of objects that contain information about each tab in the dashboard.\n   */\n  @state() tabs: TabElements = [];\n\n  /**\n   * Since the container will report the current tab selected (if tabs are\n   * present), we need to define a onChangeCallaback\n   */\n  onChangeCallback: (x: boolean) => void = (x: boolean) => {};\n\n  static styles: CSSResultGroup = css`\n    * {\n      box-sizing: border-box;\n    }\n\n    :host {\n      /* All the available css properties to customize. Some have defaults and\n      some dont */\n      --_layout-container-bg: var(--layout-container-bg);\n      --_layout-container-padding: var(\n        --layout-container-padding,\n        var(--size-s)\n      );\n      --_layout-container-gap: var(\n        --layout-container-gap,\n        var(--_layout-container-padding)\n      );\n      --_layout-container-border: var(\n        --layout-container-border,\n        var(--border-standard)\n      );\n      --_layout-container-shadow: var(--layout-container-shadow);\n      --_layout-container-radius: var(--layout-container-radius);\n      --_layout-container-child-radius: var(--layout-container-child-radius);\n      --_layout-container-h: var(--layout-container-h, 100%);\n\n      border: var(--_layout-container-border);\n      border-radius: var(--_layout-container-radius);\n      box-shadow: var(--_layout-container-shadow);\n      background-color: var(--_layout-container-bg);\n      background-image: var(--_layout-container-bg-image);\n      overflow: hidden;\n      flex: 1 1 auto;\n      display: grid;\n      grid-template:\n        \"header header  header\" auto\n        \"vtabs tabs    tabs\" auto\n        \"vtabs sidebar body\" 1fr\n        \"footer footer  footer\" auto /\n        auto auto 1fr;\n      isolation: isolate;\n      height: var(--_layout-container-h);\n      max-height: 100%;\n\n      /* We use inline-size here because the more broad \"size\" value will force\n      this element to declare its height explicitely. We only really care about\n      width for container queries so that's fine. This is a funny gotcha though\n      that isn't obvious */\n      container-type: inline-size;\n      container-name: sc-layout-container;\n    }\n\n    @container sc-layout-container (width < 300px) {\n      ::slotted(:is(sc-header, sc-footer, shiny-sidebar)),\n      tab-bar,\n      .body {\n        --_layout-container-padding: var(\n          --layout-container-padding,\n          var(--size-s)\n        );\n      }\n    }\n\n    :host([height]) {\n      height: var(--_layout-container-h);\n      flex: 0 0 var(--_layout-container-h);\n    }\n\n    :host([height=\"content\"]) {\n      height: fit-content;\n      flex-basis: content;\n    }\n\n    tab-bar {\n      padding: var(--_layout-container-padding);\n    }\n\n    tab-bar[orientation=\"horizontal\"] {\n      grid-area: tabs;\n      padding-block: calc(var(--_layout-container-padding) / 1.5);\n    }\n\n    tab-bar[orientation=\"vertical\"] {\n      grid-area: vtabs;\n    }\n\n    ::slotted(sc-header) {\n      grid-area: header;\n      z-index: 3;\n      border-bottom: var(--border-standard);\n    }\n\n    ::slotted(sc-footer) {\n      grid-area: footer;\n      z-index: 2;\n      border-top: var(--border-standard);\n    }\n\n    ::slotted(sc-header),\n    ::slotted(sc-footer) {\n      padding-inline: var(--_layout-container-padding);\n      padding-block: calc(var(--_layout-container-padding) / 1.5);\n      position: relative;\n    }\n\n    ::slotted(shiny-sidebar) {\n      grid-area: sidebar;\n      position: relative;\n      z-index: 1;\n    }\n\n    .body {\n      grid-area: body;\n      display: flex;\n      flex-direction: column;\n      padding: var(--_layout-container-padding);\n      gap: var(--_layout-container-gap);\n      overflow: auto;\n      z-index: 0;\n    }\n\n    /* Let the tab containers take care of padding */\n    .body.withTabs {\n      padding: 0;\n    }\n\n    :host([no-flex]) .body {\n      display: block;\n    }\n\n    /* List of items who should explicitely not be flexing to fit available\n    space. The choice to do this in the direction of explicitely choosing what\n    _doesnt_ rather than what _does_ flex is semi-arbitrary.\n    */\n    ::slotted(:is(p, span, h1, h2, h3, h4, h5, h6, label)) {\n      flex: 0 0 auto;\n    }\n\n    /* Allow elements to say they can flex with a special property */\n    ::slotted(:is([can-flex, ${flexibleElementSelectors}])) {\n      flex: 1 1 auto;\n    }\n\n    /* This is needed to keep sizing as expected for flex-items. Why? No one\n    knows. But if you remove this there will be infinite resizing loops for\n    plots... sometimes */\n    .body > ::slotted(*) {\n      min-height: 0;\n    }\n\n    /* Need to set all children as block display to keep behavior similar to flex */\n    :host([no-flex]) .body > ::slotted(*) {\n      display: block;\n      border-radius: var(--_layout-container-child-radius);\n    }\n\n    :host([centercontent]) .body {\n      display: grid;\n      place-content: center;\n      overflow: auto;\n    }\n  `;\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (this.height) {\n      // If the height is a pure number, add px to the end of it. Otherwise assume it's a css length and just use it as providede\n      const height =\n        typeof this.height === \"number\" ? `${this.height}px` : this.height;\n      this.style.setProperty(\"--layout-container-h\", height);\n    }\n  }\n\n  watchMainSlot(e: Event) {\n    this.tabs = extractTabsFromElements(this);\n    this.selectTab();\n  }\n\n  selectTab(tabIndex: number = this.selectedTabIndex) {\n    this.selectedTabIndex = tabIndex;\n    selectTabByIndex(this.tabs, tabIndex);\n    this.onChangeCallback(true);\n  }\n\n  currentTabName(): string {\n    return this.tabs[this.selectedTabIndex].name;\n  }\n\n  getValue(): string {\n    return this.currentTabName();\n  }\n\n  render() {\n    const hasTabs = this.tabs.length > 0;\n    return html`\n      <slot name=\"header\"></slot>\n      <tab-bar\n        .tabs=${this.tabs}\n        @selection=${(e: CustomEvent) => {\n          this.selectTab(e.detail.index);\n        }}\n        orientation=${this.sidebarNav ? \"vertical\" : \"horizontal\"}\n        part=\"tabs\"\n      >\n        <slot name=\"title\" slot=\"title\"> </slot>\n        <slot name=\"after_navigation\" slot=\"after_navigation\"> </slot>\n      </tab-bar>\n      <slot name=\"sidebar\"></slot>\n      <div class=\"body ${hasTabs ? \"withTabs\" : \"\"}\" part=\"body\">\n        <slot @slotchange=${this.watchMainSlot}></slot>\n      </div>\n      <slot name=\"footer\"></slot>\n    `;\n  }\n}\n\nclass ContainerSlot extends LitElement {\n  static styles = css`\n    * {\n      box-sizing: border-box;\n    }\n\n    :host {\n      display: block;\n    }\n\n    ::slotted(*) {\n      margin: 0;\n    }\n  `;\n\n  render() {\n    return html`<slot></slot>`;\n  }\n}\n\n/**\n * Custom element to be paired with `<shiny-card>` to display a header stuck at\n * the top of the card.\n */\n@customElement(\"sc-header\")\nexport class Header extends ContainerSlot {\n  @property({ type: String, reflect: true }) slot = \"header\";\n}\n\n/**\n * Custom element to be paired with `<shiny-card>` to display a footer stuck at\n * the bottom of the card.\n */\n@customElement(\"sc-footer\")\nexport class Footer extends ContainerSlot {\n  @property({ type: String, reflect: true }) slot = \"footer\";\n}\n", "import { css } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\nimport { LayoutContainer } from \"./layout-container\";\n\nexport const cardVariables = css`\n  /* Exposed variables for styling card */\n  --_card-bg: var(--card-bg, var(--surface-1));\n  --_card-padding: var(--card-padding, var(--size-s));\n  --_card-gap: var(--card-gap, var(--_card-padding));\n  --_card-border: var(--card-border, var(--border-standard));\n  --_card-shadow: var(--card-shadow, var(--shadow-m));\n  --_card-radius: var(--card-radius, var(--radius-m));\n  --_card-child-radius: var(--card-child-radius);\n  --_card-h: var(--card-h, 100%);\n\n  /* Map card-scoped variables to the underlying container variables */\n  --_layout-container-bg: var(--_card-bg);\n  --_layout-container-padding: var(--_card-padding);\n  --_layout-container-gap: var(--_card-gap);\n  --_layout-container-border: var(--_card-border);\n  --_layout-container-shadow: var(--_card-shadow);\n  --_layout-container-radius: var(--_card-radius);\n  --_layout-container-h: var(--_card-h);\n  --_layout-container-child-radius: var(--_card-child-radius);\n`;\n\n/**\n * A custom element that displays a card with a header, body, and footer.\n * The card can be customized with various properties.\n *\n * @element shiny-card\n *\n * @cssprop --card-bg - The surface color of the card.\n * @cssprop --card-padding - The padding of the card.\n * @cssprop --card-gap - The gap between elements in the card body.\n * @cssprop --card-border - The border of the card.\n * @cssprop --card-shadow - The shadow of the card.\n * @cssprop --card-radius - The border radius of the card.\n * @cssprop --card-child-radius - The border radius of the card's children. Defaults to nothing\n * @cssprop --card-h - The height of the card. Typically set by the `height` attribute instead of this variable.\n */\n@customElement(\"shiny-card\")\nexport class ShinyCard extends LayoutContainer {\n  static styles = [\n    LayoutContainer.styles,\n    css`\n      :host {\n        ${cardVariables}\n      }\n    `,\n  ];\n}\n", "import { property } from \"lit/decorators.js\";\nimport { ShinyCard } from \"./shiny-card\";\n\n/**\n * A custom element representing a grid item.\n * Inherits from ShinyCard.\n */\nexport class GridItem extends ShinyCard {\n  /**\n   * The width of the grid item in columns of the enclosing grid.\n   * Defaults to 1.\n   */\n  @property({ type: Number }) colWidth: number = 1;\n\n  /**\n   * The height of the grid item in rows of the enclosing grid.\n   * Defaults to 1.\n   */\n  @property({ type: Number }) rowHeight: number = 1;\n\n  /**\n   * Whether to style the grid item as a card. Aka wrapping the children in a\n   * `<shiny-card>` element.\n   */\n  @property({ type: Boolean }) cardStyled: boolean = true;\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    // Let the grid control height for this card variant\n    this.style.setProperty(\n      \"grid-area\",\n      `span ${this.rowHeight} / span ${this.colWidth}`\n    );\n  }\n}\n\ncustomElements.define(\"shiny-grid-item\", GridItem);\n", "/**\n* (c) Iconify\n*\n* For the full copyright and license information, please view the license.txt\n* files at https://github.com/iconify/iconify\n*\n* Licensed under MIT.\n*\n* @license MIT\n* @version 1.0.7\n*/\nconst defaultIconDimensions = Object.freeze(\n  {\n    left: 0,\n    top: 0,\n    width: 16,\n    height: 16\n  }\n);\nconst defaultIconTransformations = Object.freeze({\n  rotate: 0,\n  vFlip: false,\n  hFlip: false\n});\nconst defaultIconProps = Object.freeze({\n  ...defaultIconDimensions,\n  ...defaultIconTransformations\n});\nconst defaultExtendedIconProps = Object.freeze({\n  ...defaultIconProps,\n  body: \"\",\n  hidden: false\n});\n\nconst defaultIconSizeCustomisations = Object.freeze({\n  width: null,\n  height: null\n});\nconst defaultIconCustomisations = Object.freeze({\n  // Dimensions\n  ...defaultIconSizeCustomisations,\n  // Transformations\n  ...defaultIconTransformations\n});\n\nfunction rotateFromString(value, defaultValue = 0) {\n  const units = value.replace(/^-?[0-9.]*/, \"\");\n  function cleanup(value2) {\n    while (value2 < 0) {\n      value2 += 4;\n    }\n    return value2 % 4;\n  }\n  if (units === \"\") {\n    const num = parseInt(value);\n    return isNaN(num) ? 0 : cleanup(num);\n  } else if (units !== value) {\n    let split = 0;\n    switch (units) {\n      case \"%\":\n        split = 25;\n        break;\n      case \"deg\":\n        split = 90;\n    }\n    if (split) {\n      let num = parseFloat(value.slice(0, value.length - units.length));\n      if (isNaN(num)) {\n        return 0;\n      }\n      num = num / split;\n      return num % 1 === 0 ? cleanup(num) : 0;\n    }\n  }\n  return defaultValue;\n}\n\nconst separator = /[\\s,]+/;\nfunction flipFromString(custom, flip) {\n  flip.split(separator).forEach((str) => {\n    const value = str.trim();\n    switch (value) {\n      case \"horizontal\":\n        custom.hFlip = true;\n        break;\n      case \"vertical\":\n        custom.vFlip = true;\n        break;\n    }\n  });\n}\n\nconst defaultCustomisations = {\n    ...defaultIconCustomisations,\n    preserveAspectRatio: '',\n};\n/**\n * Get customisations\n */\nfunction getCustomisations(node) {\n    const customisations = {\n        ...defaultCustomisations,\n    };\n    const attr = (key, def) => node.getAttribute(key) || def;\n    // Dimensions\n    customisations.width = attr('width', null);\n    customisations.height = attr('height', null);\n    // Rotation\n    customisations.rotate = rotateFromString(attr('rotate', ''));\n    // Flip\n    flipFromString(customisations, attr('flip', ''));\n    // SVG attributes\n    customisations.preserveAspectRatio = attr('preserveAspectRatio', attr('preserveaspectratio', ''));\n    return customisations;\n}\n/**\n * Check if customisations have been updated\n */\nfunction haveCustomisationsChanged(value1, value2) {\n    for (const key in defaultCustomisations) {\n        if (value1[key] !== value2[key]) {\n            return true;\n        }\n    }\n    return false;\n}\n\nconst matchIconName = /^[a-z0-9]+(-[a-z0-9]+)*$/;\nconst stringToIcon = (value, validate, allowSimpleName, provider = \"\") => {\n  const colonSeparated = value.split(\":\");\n  if (value.slice(0, 1) === \"@\") {\n    if (colonSeparated.length < 2 || colonSeparated.length > 3) {\n      return null;\n    }\n    provider = colonSeparated.shift().slice(1);\n  }\n  if (colonSeparated.length > 3 || !colonSeparated.length) {\n    return null;\n  }\n  if (colonSeparated.length > 1) {\n    const name2 = colonSeparated.pop();\n    const prefix = colonSeparated.pop();\n    const result = {\n      // Allow provider without '@': \"provider:prefix:name\"\n      provider: colonSeparated.length > 0 ? colonSeparated[0] : provider,\n      prefix,\n      name: name2\n    };\n    return validate && !validateIconName(result) ? null : result;\n  }\n  const name = colonSeparated[0];\n  const dashSeparated = name.split(\"-\");\n  if (dashSeparated.length > 1) {\n    const result = {\n      provider,\n      prefix: dashSeparated.shift(),\n      name: dashSeparated.join(\"-\")\n    };\n    return validate && !validateIconName(result) ? null : result;\n  }\n  if (allowSimpleName && provider === \"\") {\n    const result = {\n      provider,\n      prefix: \"\",\n      name\n    };\n    return validate && !validateIconName(result, allowSimpleName) ? null : result;\n  }\n  return null;\n};\nconst validateIconName = (icon, allowSimpleName) => {\n  if (!icon) {\n    return false;\n  }\n  return !!((icon.provider === \"\" || icon.provider.match(matchIconName)) && (allowSimpleName && icon.prefix === \"\" || icon.prefix.match(matchIconName)) && icon.name.match(matchIconName));\n};\n\nfunction mergeIconTransformations(obj1, obj2) {\n  const result = {};\n  if (!obj1.hFlip !== !obj2.hFlip) {\n    result.hFlip = true;\n  }\n  if (!obj1.vFlip !== !obj2.vFlip) {\n    result.vFlip = true;\n  }\n  const rotate = ((obj1.rotate || 0) + (obj2.rotate || 0)) % 4;\n  if (rotate) {\n    result.rotate = rotate;\n  }\n  return result;\n}\n\nfunction mergeIconData(parent, child) {\n  const result = mergeIconTransformations(parent, child);\n  for (const key in defaultExtendedIconProps) {\n    if (key in defaultIconTransformations) {\n      if (key in parent && !(key in result)) {\n        result[key] = defaultIconTransformations[key];\n      }\n    } else if (key in child) {\n      result[key] = child[key];\n    } else if (key in parent) {\n      result[key] = parent[key];\n    }\n  }\n  return result;\n}\n\nfunction getIconsTree(data, names) {\n  const icons = data.icons;\n  const aliases = data.aliases || /* @__PURE__ */ Object.create(null);\n  const resolved = /* @__PURE__ */ Object.create(null);\n  function resolve(name) {\n    if (icons[name]) {\n      return resolved[name] = [];\n    }\n    if (!(name in resolved)) {\n      resolved[name] = null;\n      const parent = aliases[name] && aliases[name].parent;\n      const value = parent && resolve(parent);\n      if (value) {\n        resolved[name] = [parent].concat(value);\n      }\n    }\n    return resolved[name];\n  }\n  (names || Object.keys(icons).concat(Object.keys(aliases))).forEach(resolve);\n  return resolved;\n}\n\nfunction internalGetIconData(data, name, tree) {\n  const icons = data.icons;\n  const aliases = data.aliases || /* @__PURE__ */ Object.create(null);\n  let currentProps = {};\n  function parse(name2) {\n    currentProps = mergeIconData(\n      icons[name2] || aliases[name2],\n      currentProps\n    );\n  }\n  parse(name);\n  tree.forEach(parse);\n  return mergeIconData(data, currentProps);\n}\n\nfunction parseIconSet(data, callback) {\n  const names = [];\n  if (typeof data !== \"object\" || typeof data.icons !== \"object\") {\n    return names;\n  }\n  if (data.not_found instanceof Array) {\n    data.not_found.forEach((name) => {\n      callback(name, null);\n      names.push(name);\n    });\n  }\n  const tree = getIconsTree(data);\n  for (const name in tree) {\n    const item = tree[name];\n    if (item) {\n      callback(name, internalGetIconData(data, name, item));\n      names.push(name);\n    }\n  }\n  return names;\n}\n\nconst optionalPropertyDefaults = {\n  provider: \"\",\n  aliases: {},\n  not_found: {},\n  ...defaultIconDimensions\n};\nfunction checkOptionalProps(item, defaults) {\n  for (const prop in defaults) {\n    if (prop in item && typeof item[prop] !== typeof defaults[prop]) {\n      return false;\n    }\n  }\n  return true;\n}\nfunction quicklyValidateIconSet(obj) {\n  if (typeof obj !== \"object\" || obj === null) {\n    return null;\n  }\n  const data = obj;\n  if (typeof data.prefix !== \"string\" || !obj.icons || typeof obj.icons !== \"object\") {\n    return null;\n  }\n  if (!checkOptionalProps(obj, optionalPropertyDefaults)) {\n    return null;\n  }\n  const icons = data.icons;\n  for (const name in icons) {\n    const icon = icons[name];\n    if (!name.match(matchIconName) || typeof icon.body !== \"string\" || !checkOptionalProps(\n      icon,\n      defaultExtendedIconProps\n    )) {\n      return null;\n    }\n  }\n  const aliases = data.aliases || /* @__PURE__ */ Object.create(null);\n  for (const name in aliases) {\n    const icon = aliases[name];\n    const parent = icon.parent;\n    if (!name.match(matchIconName) || typeof parent !== \"string\" || !icons[parent] && !aliases[parent] || !checkOptionalProps(\n      icon,\n      defaultExtendedIconProps\n    )) {\n      return null;\n    }\n  }\n  return data;\n}\n\nconst dataStorage = /* @__PURE__ */ Object.create(null);\nfunction newStorage(provider, prefix) {\n  return {\n    provider,\n    prefix,\n    icons: /* @__PURE__ */ Object.create(null),\n    missing: /* @__PURE__ */ new Set()\n  };\n}\nfunction getStorage(provider, prefix) {\n  const providerStorage = dataStorage[provider] || (dataStorage[provider] = /* @__PURE__ */ Object.create(null));\n  return providerStorage[prefix] || (providerStorage[prefix] = newStorage(provider, prefix));\n}\nfunction addIconSet(storage, data) {\n  if (!quicklyValidateIconSet(data)) {\n    return [];\n  }\n  return parseIconSet(data, (name, icon) => {\n    if (icon) {\n      storage.icons[name] = icon;\n    } else {\n      storage.missing.add(name);\n    }\n  });\n}\nfunction addIconToStorage(storage, name, icon) {\n  try {\n    if (typeof icon.body === \"string\") {\n      storage.icons[name] = { ...icon };\n      return true;\n    }\n  } catch (err) {\n  }\n  return false;\n}\nfunction listIcons$1(provider, prefix) {\n  let allIcons = [];\n  const providers = typeof provider === \"string\" ? [provider] : Object.keys(dataStorage);\n  providers.forEach((provider2) => {\n    const prefixes = typeof provider2 === \"string\" && typeof prefix === \"string\" ? [prefix] : Object.keys(dataStorage[provider2] || {});\n    prefixes.forEach((prefix2) => {\n      const storage = getStorage(provider2, prefix2);\n      allIcons = allIcons.concat(\n        Object.keys(storage.icons).map(\n          (name) => (provider2 !== \"\" ? \"@\" + provider2 + \":\" : \"\") + prefix2 + \":\" + name\n        )\n      );\n    });\n  });\n  return allIcons;\n}\n\nlet simpleNames = false;\nfunction allowSimpleNames(allow) {\n  if (typeof allow === \"boolean\") {\n    simpleNames = allow;\n  }\n  return simpleNames;\n}\nfunction getIconData(name) {\n  const icon = typeof name === \"string\" ? stringToIcon(name, true, simpleNames) : name;\n  if (icon) {\n    const storage = getStorage(icon.provider, icon.prefix);\n    const iconName = icon.name;\n    return storage.icons[iconName] || (storage.missing.has(iconName) ? null : void 0);\n  }\n}\nfunction addIcon$1(name, data) {\n  const icon = stringToIcon(name, true, simpleNames);\n  if (!icon) {\n    return false;\n  }\n  const storage = getStorage(icon.provider, icon.prefix);\n  return addIconToStorage(storage, icon.name, data);\n}\nfunction addCollection$1(data, provider) {\n  if (typeof data !== \"object\") {\n    return false;\n  }\n  if (typeof provider !== \"string\") {\n    provider = data.provider || \"\";\n  }\n  if (simpleNames && !provider && !data.prefix) {\n    let added = false;\n    if (quicklyValidateIconSet(data)) {\n      data.prefix = \"\";\n      parseIconSet(data, (name, icon) => {\n        if (icon && addIcon$1(name, icon)) {\n          added = true;\n        }\n      });\n    }\n    return added;\n  }\n  const prefix = data.prefix;\n  if (!validateIconName({\n    provider,\n    prefix,\n    name: \"a\"\n  })) {\n    return false;\n  }\n  const storage = getStorage(provider, prefix);\n  return !!addIconSet(storage, data);\n}\nfunction iconExists$1(name) {\n  return !!getIconData(name);\n}\nfunction getIcon$1(name) {\n  const result = getIconData(name);\n  return result ? {\n    ...defaultIconProps,\n    ...result\n  } : null;\n}\n\nfunction sortIcons(icons) {\n  const result = {\n    loaded: [],\n    missing: [],\n    pending: []\n  };\n  const storage = /* @__PURE__ */ Object.create(null);\n  icons.sort((a, b) => {\n    if (a.provider !== b.provider) {\n      return a.provider.localeCompare(b.provider);\n    }\n    if (a.prefix !== b.prefix) {\n      return a.prefix.localeCompare(b.prefix);\n    }\n    return a.name.localeCompare(b.name);\n  });\n  let lastIcon = {\n    provider: \"\",\n    prefix: \"\",\n    name: \"\"\n  };\n  icons.forEach((icon) => {\n    if (lastIcon.name === icon.name && lastIcon.prefix === icon.prefix && lastIcon.provider === icon.provider) {\n      return;\n    }\n    lastIcon = icon;\n    const provider = icon.provider;\n    const prefix = icon.prefix;\n    const name = icon.name;\n    const providerStorage = storage[provider] || (storage[provider] = /* @__PURE__ */ Object.create(null));\n    const localStorage = providerStorage[prefix] || (providerStorage[prefix] = getStorage(provider, prefix));\n    let list;\n    if (name in localStorage.icons) {\n      list = result.loaded;\n    } else if (prefix === \"\" || localStorage.missing.has(name)) {\n      list = result.missing;\n    } else {\n      list = result.pending;\n    }\n    const item = {\n      provider,\n      prefix,\n      name\n    };\n    list.push(item);\n  });\n  return result;\n}\n\nfunction removeCallback(storages, id) {\n  storages.forEach((storage) => {\n    const items = storage.loaderCallbacks;\n    if (items) {\n      storage.loaderCallbacks = items.filter((row) => row.id !== id);\n    }\n  });\n}\nfunction updateCallbacks(storage) {\n  if (!storage.pendingCallbacksFlag) {\n    storage.pendingCallbacksFlag = true;\n    setTimeout(() => {\n      storage.pendingCallbacksFlag = false;\n      const items = storage.loaderCallbacks ? storage.loaderCallbacks.slice(0) : [];\n      if (!items.length) {\n        return;\n      }\n      let hasPending = false;\n      const provider = storage.provider;\n      const prefix = storage.prefix;\n      items.forEach((item) => {\n        const icons = item.icons;\n        const oldLength = icons.pending.length;\n        icons.pending = icons.pending.filter((icon) => {\n          if (icon.prefix !== prefix) {\n            return true;\n          }\n          const name = icon.name;\n          if (storage.icons[name]) {\n            icons.loaded.push({\n              provider,\n              prefix,\n              name\n            });\n          } else if (storage.missing.has(name)) {\n            icons.missing.push({\n              provider,\n              prefix,\n              name\n            });\n          } else {\n            hasPending = true;\n            return true;\n          }\n          return false;\n        });\n        if (icons.pending.length !== oldLength) {\n          if (!hasPending) {\n            removeCallback([storage], item.id);\n          }\n          item.callback(\n            icons.loaded.slice(0),\n            icons.missing.slice(0),\n            icons.pending.slice(0),\n            item.abort\n          );\n        }\n      });\n    });\n  }\n}\nlet idCounter = 0;\nfunction storeCallback(callback, icons, pendingSources) {\n  const id = idCounter++;\n  const abort = removeCallback.bind(null, pendingSources, id);\n  if (!icons.pending.length) {\n    return abort;\n  }\n  const item = {\n    id,\n    icons,\n    callback,\n    abort\n  };\n  pendingSources.forEach((storage) => {\n    (storage.loaderCallbacks || (storage.loaderCallbacks = [])).push(item);\n  });\n  return abort;\n}\n\nconst storage = /* @__PURE__ */ Object.create(null);\nfunction setAPIModule(provider, item) {\n  storage[provider] = item;\n}\nfunction getAPIModule(provider) {\n  return storage[provider] || storage[\"\"];\n}\n\nfunction listToIcons(list, validate = true, simpleNames = false) {\n  const result = [];\n  list.forEach((item) => {\n    const icon = typeof item === \"string\" ? stringToIcon(item, validate, simpleNames) : item;\n    if (icon) {\n      result.push(icon);\n    }\n  });\n  return result;\n}\n\n// src/config.ts\nvar defaultConfig = {\n  resources: [],\n  index: 0,\n  timeout: 2e3,\n  rotate: 750,\n  random: false,\n  dataAfterTimeout: false\n};\n\n// src/query.ts\nfunction sendQuery(config, payload, query, done) {\n  const resourcesCount = config.resources.length;\n  const startIndex = config.random ? Math.floor(Math.random() * resourcesCount) : config.index;\n  let resources;\n  if (config.random) {\n    let list = config.resources.slice(0);\n    resources = [];\n    while (list.length > 1) {\n      const nextIndex = Math.floor(Math.random() * list.length);\n      resources.push(list[nextIndex]);\n      list = list.slice(0, nextIndex).concat(list.slice(nextIndex + 1));\n    }\n    resources = resources.concat(list);\n  } else {\n    resources = config.resources.slice(startIndex).concat(config.resources.slice(0, startIndex));\n  }\n  const startTime = Date.now();\n  let status = \"pending\";\n  let queriesSent = 0;\n  let lastError;\n  let timer = null;\n  let queue = [];\n  let doneCallbacks = [];\n  if (typeof done === \"function\") {\n    doneCallbacks.push(done);\n  }\n  function resetTimer() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n  function abort() {\n    if (status === \"pending\") {\n      status = \"aborted\";\n    }\n    resetTimer();\n    queue.forEach((item) => {\n      if (item.status === \"pending\") {\n        item.status = \"aborted\";\n      }\n    });\n    queue = [];\n  }\n  function subscribe(callback, overwrite) {\n    if (overwrite) {\n      doneCallbacks = [];\n    }\n    if (typeof callback === \"function\") {\n      doneCallbacks.push(callback);\n    }\n  }\n  function getQueryStatus() {\n    return {\n      startTime,\n      payload,\n      status,\n      queriesSent,\n      queriesPending: queue.length,\n      subscribe,\n      abort\n    };\n  }\n  function failQuery() {\n    status = \"failed\";\n    doneCallbacks.forEach((callback) => {\n      callback(void 0, lastError);\n    });\n  }\n  function clearQueue() {\n    queue.forEach((item) => {\n      if (item.status === \"pending\") {\n        item.status = \"aborted\";\n      }\n    });\n    queue = [];\n  }\n  function moduleResponse(item, response, data) {\n    const isError = response !== \"success\";\n    queue = queue.filter((queued) => queued !== item);\n    switch (status) {\n      case \"pending\":\n        break;\n      case \"failed\":\n        if (isError || !config.dataAfterTimeout) {\n          return;\n        }\n        break;\n      default:\n        return;\n    }\n    if (response === \"abort\") {\n      lastError = data;\n      failQuery();\n      return;\n    }\n    if (isError) {\n      lastError = data;\n      if (!queue.length) {\n        if (!resources.length) {\n          failQuery();\n        } else {\n          execNext();\n        }\n      }\n      return;\n    }\n    resetTimer();\n    clearQueue();\n    if (!config.random) {\n      const index = config.resources.indexOf(item.resource);\n      if (index !== -1 && index !== config.index) {\n        config.index = index;\n      }\n    }\n    status = \"completed\";\n    doneCallbacks.forEach((callback) => {\n      callback(data);\n    });\n  }\n  function execNext() {\n    if (status !== \"pending\") {\n      return;\n    }\n    resetTimer();\n    const resource = resources.shift();\n    if (resource === void 0) {\n      if (queue.length) {\n        timer = setTimeout(() => {\n          resetTimer();\n          if (status === \"pending\") {\n            clearQueue();\n            failQuery();\n          }\n        }, config.timeout);\n        return;\n      }\n      failQuery();\n      return;\n    }\n    const item = {\n      status: \"pending\",\n      resource,\n      callback: (status2, data) => {\n        moduleResponse(item, status2, data);\n      }\n    };\n    queue.push(item);\n    queriesSent++;\n    timer = setTimeout(execNext, config.rotate);\n    query(resource, payload, item.callback);\n  }\n  setTimeout(execNext);\n  return getQueryStatus;\n}\n\n// src/index.ts\nfunction initRedundancy(cfg) {\n  const config = {\n    ...defaultConfig,\n    ...cfg\n  };\n  let queries = [];\n  function cleanup() {\n    queries = queries.filter((item) => item().status === \"pending\");\n  }\n  function query(payload, queryCallback, doneCallback) {\n    const query2 = sendQuery(\n      config,\n      payload,\n      queryCallback,\n      (data, error) => {\n        cleanup();\n        if (doneCallback) {\n          doneCallback(data, error);\n        }\n      }\n    );\n    queries.push(query2);\n    return query2;\n  }\n  function find(callback) {\n    return queries.find((value) => {\n      return callback(value);\n    }) || null;\n  }\n  const instance = {\n    query,\n    find,\n    setIndex: (index) => {\n      config.index = index;\n    },\n    getIndex: () => config.index,\n    cleanup\n  };\n  return instance;\n}\n\nfunction createAPIConfig(source) {\n  let resources;\n  if (typeof source.resources === \"string\") {\n    resources = [source.resources];\n  } else {\n    resources = source.resources;\n    if (!(resources instanceof Array) || !resources.length) {\n      return null;\n    }\n  }\n  const result = {\n    resources,\n    path: source.path || \"/\",\n    maxURL: source.maxURL || 500,\n    rotate: source.rotate || 750,\n    timeout: source.timeout || 5e3,\n    random: source.random === true,\n    index: source.index || 0,\n    dataAfterTimeout: source.dataAfterTimeout !== false\n  };\n  return result;\n}\nconst configStorage = /* @__PURE__ */ Object.create(null);\nconst fallBackAPISources = [\n  \"https://api.simplesvg.com\",\n  \"https://api.unisvg.com\"\n];\nconst fallBackAPI = [];\nwhile (fallBackAPISources.length > 0) {\n  if (fallBackAPISources.length === 1) {\n    fallBackAPI.push(fallBackAPISources.shift());\n  } else {\n    if (Math.random() > 0.5) {\n      fallBackAPI.push(fallBackAPISources.shift());\n    } else {\n      fallBackAPI.push(fallBackAPISources.pop());\n    }\n  }\n}\nconfigStorage[\"\"] = createAPIConfig({\n  resources: [\"https://api.iconify.design\"].concat(fallBackAPI)\n});\nfunction addAPIProvider$1(provider, customConfig) {\n  const config = createAPIConfig(customConfig);\n  if (config === null) {\n    return false;\n  }\n  configStorage[provider] = config;\n  return true;\n}\nfunction getAPIConfig(provider) {\n  return configStorage[provider];\n}\nfunction listAPIProviders() {\n  return Object.keys(configStorage);\n}\n\nfunction emptyCallback$1() {\n}\nconst redundancyCache = /* @__PURE__ */ Object.create(null);\nfunction getRedundancyCache(provider) {\n  if (!redundancyCache[provider]) {\n    const config = getAPIConfig(provider);\n    if (!config) {\n      return;\n    }\n    const redundancy = initRedundancy(config);\n    const cachedReundancy = {\n      config,\n      redundancy\n    };\n    redundancyCache[provider] = cachedReundancy;\n  }\n  return redundancyCache[provider];\n}\nfunction sendAPIQuery(target, query, callback) {\n  let redundancy;\n  let send;\n  if (typeof target === \"string\") {\n    const api = getAPIModule(target);\n    if (!api) {\n      callback(void 0, 424);\n      return emptyCallback$1;\n    }\n    send = api.send;\n    const cached = getRedundancyCache(target);\n    if (cached) {\n      redundancy = cached.redundancy;\n    }\n  } else {\n    const config = createAPIConfig(target);\n    if (config) {\n      redundancy = initRedundancy(config);\n      const moduleKey = target.resources ? target.resources[0] : \"\";\n      const api = getAPIModule(moduleKey);\n      if (api) {\n        send = api.send;\n      }\n    }\n  }\n  if (!redundancy || !send) {\n    callback(void 0, 424);\n    return emptyCallback$1;\n  }\n  return redundancy.query(query, send, callback)().abort;\n}\n\nconst browserCacheVersion = \"iconify2\";\nconst browserCachePrefix = \"iconify\";\nconst browserCacheCountKey = browserCachePrefix + \"-count\";\nconst browserCacheVersionKey = browserCachePrefix + \"-version\";\nconst browserStorageHour = 36e5;\nconst browserStorageCacheExpiration = 168;\n\nfunction getStoredItem(func, key) {\n  try {\n    return func.getItem(key);\n  } catch (err) {\n  }\n}\nfunction setStoredItem(func, key, value) {\n  try {\n    func.setItem(key, value);\n    return true;\n  } catch (err) {\n  }\n}\nfunction removeStoredItem(func, key) {\n  try {\n    func.removeItem(key);\n  } catch (err) {\n  }\n}\n\nfunction setBrowserStorageItemsCount(storage, value) {\n  return setStoredItem(storage, browserCacheCountKey, value.toString());\n}\nfunction getBrowserStorageItemsCount(storage) {\n  return parseInt(getStoredItem(storage, browserCacheCountKey)) || 0;\n}\n\nconst browserStorageConfig = {\n  local: true,\n  session: true\n};\nconst browserStorageEmptyItems = {\n  local: /* @__PURE__ */ new Set(),\n  session: /* @__PURE__ */ new Set()\n};\nlet browserStorageStatus = false;\nfunction setBrowserStorageStatus(status) {\n  browserStorageStatus = status;\n}\n\nlet _window = typeof window === \"undefined\" ? {} : window;\nfunction getBrowserStorage(key) {\n  const attr = key + \"Storage\";\n  try {\n    if (_window && _window[attr] && typeof _window[attr].length === \"number\") {\n      return _window[attr];\n    }\n  } catch (err) {\n  }\n  browserStorageConfig[key] = false;\n}\n\nfunction iterateBrowserStorage(key, callback) {\n  const func = getBrowserStorage(key);\n  if (!func) {\n    return;\n  }\n  const version = getStoredItem(func, browserCacheVersionKey);\n  if (version !== browserCacheVersion) {\n    if (version) {\n      const total2 = getBrowserStorageItemsCount(func);\n      for (let i = 0; i < total2; i++) {\n        removeStoredItem(func, browserCachePrefix + i.toString());\n      }\n    }\n    setStoredItem(func, browserCacheVersionKey, browserCacheVersion);\n    setBrowserStorageItemsCount(func, 0);\n    return;\n  }\n  const minTime = Math.floor(Date.now() / browserStorageHour) - browserStorageCacheExpiration;\n  const parseItem = (index) => {\n    const name = browserCachePrefix + index.toString();\n    const item = getStoredItem(func, name);\n    if (typeof item !== \"string\") {\n      return;\n    }\n    try {\n      const data = JSON.parse(item);\n      if (typeof data === \"object\" && typeof data.cached === \"number\" && data.cached > minTime && typeof data.provider === \"string\" && typeof data.data === \"object\" && typeof data.data.prefix === \"string\" && callback(data, index)) {\n        return true;\n      }\n    } catch (err) {\n    }\n    removeStoredItem(func, name);\n  };\n  let total = getBrowserStorageItemsCount(func);\n  for (let i = total - 1; i >= 0; i--) {\n    if (!parseItem(i)) {\n      if (i === total - 1) {\n        total--;\n        setBrowserStorageItemsCount(func, total);\n      } else {\n        browserStorageEmptyItems[key].add(i);\n      }\n    }\n  }\n}\n\nfunction initBrowserStorage() {\n  if (browserStorageStatus) {\n    return;\n  }\n  setBrowserStorageStatus(true);\n  for (const key in browserStorageConfig) {\n    iterateBrowserStorage(key, (item) => {\n      const iconSet = item.data;\n      const provider = item.provider;\n      const prefix = iconSet.prefix;\n      const storage = getStorage(\n        provider,\n        prefix\n      );\n      if (!addIconSet(storage, iconSet).length) {\n        return false;\n      }\n      const lastModified = iconSet.lastModified || -1;\n      storage.lastModifiedCached = storage.lastModifiedCached ? Math.min(storage.lastModifiedCached, lastModified) : lastModified;\n      return true;\n    });\n  }\n}\n\nfunction updateLastModified(storage, lastModified) {\n  const lastValue = storage.lastModifiedCached;\n  if (lastValue && lastValue >= lastModified) {\n    return lastValue === lastModified;\n  }\n  storage.lastModifiedCached = lastModified;\n  if (lastValue) {\n    for (const key in browserStorageConfig) {\n      iterateBrowserStorage(key, (item) => {\n        const iconSet = item.data;\n        return item.provider !== storage.provider || iconSet.prefix !== storage.prefix || iconSet.lastModified === lastModified;\n      });\n    }\n  }\n  return true;\n}\nfunction storeInBrowserStorage(storage, data) {\n  if (!browserStorageStatus) {\n    initBrowserStorage();\n  }\n  function store(key) {\n    let func;\n    if (!browserStorageConfig[key] || !(func = getBrowserStorage(key))) {\n      return;\n    }\n    const set = browserStorageEmptyItems[key];\n    let index;\n    if (set.size) {\n      set.delete(index = Array.from(set).shift());\n    } else {\n      index = getBrowserStorageItemsCount(func);\n      if (!setBrowserStorageItemsCount(func, index + 1)) {\n        return;\n      }\n    }\n    const item = {\n      cached: Math.floor(Date.now() / browserStorageHour),\n      provider: storage.provider,\n      data\n    };\n    return setStoredItem(\n      func,\n      browserCachePrefix + index.toString(),\n      JSON.stringify(item)\n    );\n  }\n  if (data.lastModified && !updateLastModified(storage, data.lastModified)) {\n    return;\n  }\n  if (!Object.keys(data.icons).length) {\n    return;\n  }\n  if (data.not_found) {\n    data = Object.assign({}, data);\n    delete data.not_found;\n  }\n  if (!store(\"local\")) {\n    store(\"session\");\n  }\n}\n\nfunction emptyCallback() {\n}\nfunction loadedNewIcons(storage) {\n  if (!storage.iconsLoaderFlag) {\n    storage.iconsLoaderFlag = true;\n    setTimeout(() => {\n      storage.iconsLoaderFlag = false;\n      updateCallbacks(storage);\n    });\n  }\n}\nfunction loadNewIcons(storage, icons) {\n  if (!storage.iconsToLoad) {\n    storage.iconsToLoad = icons;\n  } else {\n    storage.iconsToLoad = storage.iconsToLoad.concat(icons).sort();\n  }\n  if (!storage.iconsQueueFlag) {\n    storage.iconsQueueFlag = true;\n    setTimeout(() => {\n      storage.iconsQueueFlag = false;\n      const { provider, prefix } = storage;\n      const icons2 = storage.iconsToLoad;\n      delete storage.iconsToLoad;\n      let api;\n      if (!icons2 || !(api = getAPIModule(provider))) {\n        return;\n      }\n      const params = api.prepare(provider, prefix, icons2);\n      params.forEach((item) => {\n        sendAPIQuery(provider, item, (data) => {\n          if (typeof data !== \"object\") {\n            item.icons.forEach((name) => {\n              storage.missing.add(name);\n            });\n          } else {\n            try {\n              const parsed = addIconSet(\n                storage,\n                data\n              );\n              if (!parsed.length) {\n                return;\n              }\n              const pending = storage.pendingIcons;\n              if (pending) {\n                parsed.forEach((name) => {\n                  pending.delete(name);\n                });\n              }\n              storeInBrowserStorage(storage, data);\n            } catch (err) {\n              console.error(err);\n            }\n          }\n          loadedNewIcons(storage);\n        });\n      });\n    });\n  }\n}\nconst loadIcons$1 = (icons, callback) => {\n  const cleanedIcons = listToIcons(icons, true, allowSimpleNames());\n  const sortedIcons = sortIcons(cleanedIcons);\n  if (!sortedIcons.pending.length) {\n    let callCallback = true;\n    if (callback) {\n      setTimeout(() => {\n        if (callCallback) {\n          callback(\n            sortedIcons.loaded,\n            sortedIcons.missing,\n            sortedIcons.pending,\n            emptyCallback\n          );\n        }\n      });\n    }\n    return () => {\n      callCallback = false;\n    };\n  }\n  const newIcons = /* @__PURE__ */ Object.create(null);\n  const sources = [];\n  let lastProvider, lastPrefix;\n  sortedIcons.pending.forEach((icon) => {\n    const { provider, prefix } = icon;\n    if (prefix === lastPrefix && provider === lastProvider) {\n      return;\n    }\n    lastProvider = provider;\n    lastPrefix = prefix;\n    sources.push(getStorage(provider, prefix));\n    const providerNewIcons = newIcons[provider] || (newIcons[provider] = /* @__PURE__ */ Object.create(null));\n    if (!providerNewIcons[prefix]) {\n      providerNewIcons[prefix] = [];\n    }\n  });\n  sortedIcons.pending.forEach((icon) => {\n    const { provider, prefix, name } = icon;\n    const storage = getStorage(provider, prefix);\n    const pendingQueue = storage.pendingIcons || (storage.pendingIcons = /* @__PURE__ */ new Set());\n    if (!pendingQueue.has(name)) {\n      pendingQueue.add(name);\n      newIcons[provider][prefix].push(name);\n    }\n  });\n  sources.forEach((storage) => {\n    const { provider, prefix } = storage;\n    if (newIcons[provider][prefix].length) {\n      loadNewIcons(storage, newIcons[provider][prefix]);\n    }\n  });\n  return callback ? storeCallback(callback, sortedIcons, sources) : emptyCallback;\n};\nconst loadIcon$1 = (icon) => {\n  return new Promise((fulfill, reject) => {\n    const iconObj = typeof icon === \"string\" ? stringToIcon(icon, true) : icon;\n    if (!iconObj) {\n      reject(icon);\n      return;\n    }\n    loadIcons$1([iconObj || icon], (loaded) => {\n      if (loaded.length && iconObj) {\n        const data = getIconData(iconObj);\n        if (data) {\n          fulfill({\n            ...defaultIconProps,\n            ...data\n          });\n          return;\n        }\n      }\n      reject(icon);\n    });\n  });\n};\n\n/**\n * Test icon string\n */\nfunction testIconObject(value) {\n    try {\n        const obj = typeof value === 'string' ? JSON.parse(value) : value;\n        if (typeof obj.body === 'string') {\n            return {\n                ...obj,\n            };\n        }\n    }\n    catch (err) {\n        //\n    }\n}\n\n/**\n * Parse icon value, load if needed\n */\nfunction parseIconValue(value, onload) {\n    // Check if icon name is valid\n    const name = typeof value === 'string' ? stringToIcon(value, true, true) : null;\n    if (!name) {\n        // Test for serialised object\n        const data = testIconObject(value);\n        return {\n            value,\n            data,\n        };\n    }\n    // Valid icon name: check if data is available\n    const data = getIconData(name);\n    // Icon data exists or icon has no prefix. Do not load icon from API if icon has no prefix\n    if (data !== void 0 || !name.prefix) {\n        return {\n            value,\n            name,\n            data, // could be 'null' -> icon is missing\n        };\n    }\n    // Load icon\n    const loading = loadIcons$1([name], () => onload(value, name, getIconData(name)));\n    return {\n        value,\n        name,\n        loading,\n    };\n}\n\n/**\n * Check for inline\n */\nfunction getInline(node) {\n    return node.hasAttribute('inline');\n}\n\n// Check for Safari\nlet isBuggedSafari = false;\ntry {\n    isBuggedSafari = navigator.vendor.indexOf('Apple') === 0;\n}\ncatch (err) {\n    //\n}\n/**\n * Get render mode\n */\nfunction getRenderMode(body, mode) {\n    switch (mode) {\n        // Force mode\n        case 'svg':\n        case 'bg':\n        case 'mask':\n            return mode;\n    }\n    // Check for animation, use 'style' for animated icons, unless browser is Safari\n    // (only <a>, which should be ignored or animations start with '<a')\n    if (mode !== 'style' &&\n        (isBuggedSafari || body.indexOf('<a') === -1)) {\n        // Render <svg>\n        return 'svg';\n    }\n    // Use background or mask\n    return body.indexOf('currentColor') === -1 ? 'bg' : 'mask';\n}\n\nconst unitsSplit = /(-?[0-9.]*[0-9]+[0-9.]*)/g;\nconst unitsTest = /^-?[0-9.]*[0-9]+[0-9.]*$/g;\nfunction calculateSize$1(size, ratio, precision) {\n  if (ratio === 1) {\n    return size;\n  }\n  precision = precision || 100;\n  if (typeof size === \"number\") {\n    return Math.ceil(size * ratio * precision) / precision;\n  }\n  if (typeof size !== \"string\") {\n    return size;\n  }\n  const oldParts = size.split(unitsSplit);\n  if (oldParts === null || !oldParts.length) {\n    return size;\n  }\n  const newParts = [];\n  let code = oldParts.shift();\n  let isNumber = unitsTest.test(code);\n  while (true) {\n    if (isNumber) {\n      const num = parseFloat(code);\n      if (isNaN(num)) {\n        newParts.push(code);\n      } else {\n        newParts.push(Math.ceil(num * ratio * precision) / precision);\n      }\n    } else {\n      newParts.push(code);\n    }\n    code = oldParts.shift();\n    if (code === void 0) {\n      return newParts.join(\"\");\n    }\n    isNumber = !isNumber;\n  }\n}\n\nconst isUnsetKeyword = (value) => value === \"unset\" || value === \"undefined\" || value === \"none\";\nfunction iconToSVG(icon, customisations) {\n  const fullIcon = {\n    ...defaultIconProps,\n    ...icon\n  };\n  const fullCustomisations = {\n    ...defaultIconCustomisations,\n    ...customisations\n  };\n  const box = {\n    left: fullIcon.left,\n    top: fullIcon.top,\n    width: fullIcon.width,\n    height: fullIcon.height\n  };\n  let body = fullIcon.body;\n  [fullIcon, fullCustomisations].forEach((props) => {\n    const transformations = [];\n    const hFlip = props.hFlip;\n    const vFlip = props.vFlip;\n    let rotation = props.rotate;\n    if (hFlip) {\n      if (vFlip) {\n        rotation += 2;\n      } else {\n        transformations.push(\n          \"translate(\" + (box.width + box.left).toString() + \" \" + (0 - box.top).toString() + \")\"\n        );\n        transformations.push(\"scale(-1 1)\");\n        box.top = box.left = 0;\n      }\n    } else if (vFlip) {\n      transformations.push(\n        \"translate(\" + (0 - box.left).toString() + \" \" + (box.height + box.top).toString() + \")\"\n      );\n      transformations.push(\"scale(1 -1)\");\n      box.top = box.left = 0;\n    }\n    let tempValue;\n    if (rotation < 0) {\n      rotation -= Math.floor(rotation / 4) * 4;\n    }\n    rotation = rotation % 4;\n    switch (rotation) {\n      case 1:\n        tempValue = box.height / 2 + box.top;\n        transformations.unshift(\n          \"rotate(90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\"\n        );\n        break;\n      case 2:\n        transformations.unshift(\n          \"rotate(180 \" + (box.width / 2 + box.left).toString() + \" \" + (box.height / 2 + box.top).toString() + \")\"\n        );\n        break;\n      case 3:\n        tempValue = box.width / 2 + box.left;\n        transformations.unshift(\n          \"rotate(-90 \" + tempValue.toString() + \" \" + tempValue.toString() + \")\"\n        );\n        break;\n    }\n    if (rotation % 2 === 1) {\n      if (box.left !== box.top) {\n        tempValue = box.left;\n        box.left = box.top;\n        box.top = tempValue;\n      }\n      if (box.width !== box.height) {\n        tempValue = box.width;\n        box.width = box.height;\n        box.height = tempValue;\n      }\n    }\n    if (transformations.length) {\n      body = '<g transform=\"' + transformations.join(\" \") + '\">' + body + \"</g>\";\n    }\n  });\n  const customisationsWidth = fullCustomisations.width;\n  const customisationsHeight = fullCustomisations.height;\n  const boxWidth = box.width;\n  const boxHeight = box.height;\n  let width;\n  let height;\n  if (customisationsWidth === null) {\n    height = customisationsHeight === null ? \"1em\" : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n    width = calculateSize$1(height, boxWidth / boxHeight);\n  } else {\n    width = customisationsWidth === \"auto\" ? boxWidth : customisationsWidth;\n    height = customisationsHeight === null ? calculateSize$1(width, boxHeight / boxWidth) : customisationsHeight === \"auto\" ? boxHeight : customisationsHeight;\n  }\n  const attributes = {};\n  const setAttr = (prop, value) => {\n    if (!isUnsetKeyword(value)) {\n      attributes[prop] = value.toString();\n    }\n  };\n  setAttr(\"width\", width);\n  setAttr(\"height\", height);\n  attributes.viewBox = box.left.toString() + \" \" + box.top.toString() + \" \" + boxWidth.toString() + \" \" + boxHeight.toString();\n  return {\n    attributes,\n    body\n  };\n}\n\nconst detectFetch = () => {\n  let callback;\n  try {\n    callback = fetch;\n    if (typeof callback === \"function\") {\n      return callback;\n    }\n  } catch (err) {\n  }\n};\nlet fetchModule = detectFetch();\nfunction setFetch(fetch2) {\n  fetchModule = fetch2;\n}\nfunction getFetch() {\n  return fetchModule;\n}\nfunction calculateMaxLength(provider, prefix) {\n  const config = getAPIConfig(provider);\n  if (!config) {\n    return 0;\n  }\n  let result;\n  if (!config.maxURL) {\n    result = 0;\n  } else {\n    let maxHostLength = 0;\n    config.resources.forEach((item) => {\n      const host = item;\n      maxHostLength = Math.max(maxHostLength, host.length);\n    });\n    const url = prefix + \".json?icons=\";\n    result = config.maxURL - maxHostLength - config.path.length - url.length;\n  }\n  return result;\n}\nfunction shouldAbort(status) {\n  return status === 404;\n}\nconst prepare = (provider, prefix, icons) => {\n  const results = [];\n  const maxLength = calculateMaxLength(provider, prefix);\n  const type = \"icons\";\n  let item = {\n    type,\n    provider,\n    prefix,\n    icons: []\n  };\n  let length = 0;\n  icons.forEach((name, index) => {\n    length += name.length + 1;\n    if (length >= maxLength && index > 0) {\n      results.push(item);\n      item = {\n        type,\n        provider,\n        prefix,\n        icons: []\n      };\n      length = name.length;\n    }\n    item.icons.push(name);\n  });\n  results.push(item);\n  return results;\n};\nfunction getPath(provider) {\n  if (typeof provider === \"string\") {\n    const config = getAPIConfig(provider);\n    if (config) {\n      return config.path;\n    }\n  }\n  return \"/\";\n}\nconst send = (host, params, callback) => {\n  if (!fetchModule) {\n    callback(\"abort\", 424);\n    return;\n  }\n  let path = getPath(params.provider);\n  switch (params.type) {\n    case \"icons\": {\n      const prefix = params.prefix;\n      const icons = params.icons;\n      const iconsList = icons.join(\",\");\n      const urlParams = new URLSearchParams({\n        icons: iconsList\n      });\n      path += prefix + \".json?\" + urlParams.toString();\n      break;\n    }\n    case \"custom\": {\n      const uri = params.uri;\n      path += uri.slice(0, 1) === \"/\" ? uri.slice(1) : uri;\n      break;\n    }\n    default:\n      callback(\"abort\", 400);\n      return;\n  }\n  let defaultError = 503;\n  fetchModule(host + path).then((response) => {\n    const status = response.status;\n    if (status !== 200) {\n      setTimeout(() => {\n        callback(shouldAbort(status) ? \"abort\" : \"next\", status);\n      });\n      return;\n    }\n    defaultError = 501;\n    return response.json();\n  }).then((data) => {\n    if (typeof data !== \"object\" || data === null) {\n      setTimeout(() => {\n        if (data === 404) {\n          callback(\"abort\", data);\n        } else {\n          callback(\"next\", defaultError);\n        }\n      });\n      return;\n    }\n    setTimeout(() => {\n      callback(\"success\", data);\n    });\n  }).catch(() => {\n    callback(\"next\", defaultError);\n  });\n};\nconst fetchAPIModule = {\n  prepare,\n  send\n};\n\nfunction toggleBrowserCache(storage, value) {\n  switch (storage) {\n    case \"local\":\n    case \"session\":\n      browserStorageConfig[storage] = value;\n      break;\n    case \"all\":\n      for (const key in browserStorageConfig) {\n        browserStorageConfig[key] = value;\n      }\n      break;\n  }\n}\n\n/**\n * Attribute to add\n */\nconst nodeAttr = 'data-style';\n/**\n * Custom style to add to each node\n */\nlet customStyle = '';\n/**\n * Set custom style to add to all components\n *\n * Affects only components rendered after function call\n */\nfunction appendCustomStyle(style) {\n    customStyle = style;\n}\n/**\n * Add/update style node\n */\nfunction updateStyle(parent, inline) {\n    // Get node, create if needed\n    let styleNode = Array.from(parent.childNodes).find((node) => node.hasAttribute &&\n        node.hasAttribute(nodeAttr));\n    if (!styleNode) {\n        styleNode = document.createElement('style');\n        styleNode.setAttribute(nodeAttr, nodeAttr);\n        parent.appendChild(styleNode);\n    }\n    // Update content\n    styleNode.textContent =\n        ':host{display:inline-block;vertical-align:' +\n            (inline ? '-0.125em' : '0') +\n            '}span,svg{display:block}' +\n            customStyle;\n}\n\n// Core\n/**\n * Get functions and initialise stuff\n */\nfunction exportFunctions() {\n    /**\n     * Initialise stuff\n     */\n    // Set API module\n    setAPIModule('', fetchAPIModule);\n    // Allow simple icon names\n    allowSimpleNames(true);\n    let _window;\n    try {\n        _window = window;\n    }\n    catch (err) {\n        //\n    }\n    if (_window) {\n        // Set cache and load existing cache\n        initBrowserStorage();\n        // Load icons from global \"IconifyPreload\"\n        if (_window.IconifyPreload !== void 0) {\n            const preload = _window.IconifyPreload;\n            const err = 'Invalid IconifyPreload syntax.';\n            if (typeof preload === 'object' && preload !== null) {\n                (preload instanceof Array ? preload : [preload]).forEach((item) => {\n                    try {\n                        if (\n                        // Check if item is an object and not null/array\n                        typeof item !== 'object' ||\n                            item === null ||\n                            item instanceof Array ||\n                            // Check for 'icons' and 'prefix'\n                            typeof item.icons !== 'object' ||\n                            typeof item.prefix !== 'string' ||\n                            // Add icon set\n                            !addCollection$1(item)) {\n                            console.error(err);\n                        }\n                    }\n                    catch (e) {\n                        console.error(err);\n                    }\n                });\n            }\n        }\n        // Set API from global \"IconifyProviders\"\n        if (_window.IconifyProviders !== void 0) {\n            const providers = _window.IconifyProviders;\n            if (typeof providers === 'object' && providers !== null) {\n                for (const key in providers) {\n                    const err = 'IconifyProviders[' + key + '] is invalid.';\n                    try {\n                        const value = providers[key];\n                        if (typeof value !== 'object' ||\n                            !value ||\n                            value.resources === void 0) {\n                            continue;\n                        }\n                        if (!addAPIProvider$1(key, value)) {\n                            console.error(err);\n                        }\n                    }\n                    catch (e) {\n                        console.error(err);\n                    }\n                }\n            }\n        }\n    }\n    const _api = {\n        getAPIConfig,\n        setAPIModule,\n        sendAPIQuery,\n        setFetch,\n        getFetch,\n        listAPIProviders,\n    };\n    return {\n        enableCache: (storage) => toggleBrowserCache(storage, true),\n        disableCache: (storage) => toggleBrowserCache(storage, false),\n        iconExists: iconExists$1,\n        getIcon: getIcon$1,\n        listIcons: listIcons$1,\n        addIcon: addIcon$1,\n        addCollection: addCollection$1,\n        calculateSize: calculateSize$1,\n        buildIcon: iconToSVG,\n        loadIcons: loadIcons$1,\n        loadIcon: loadIcon$1,\n        addAPIProvider: addAPIProvider$1,\n        appendCustomStyle,\n        _api,\n    };\n}\n\nfunction iconToHTML(body, attributes) {\n  let renderAttribsHTML = body.indexOf(\"xlink:\") === -1 ? \"\" : ' xmlns:xlink=\"http://www.w3.org/1999/xlink\"';\n  for (const attr in attributes) {\n    renderAttribsHTML += \" \" + attr + '=\"' + attributes[attr] + '\"';\n  }\n  return '<svg xmlns=\"http://www.w3.org/2000/svg\"' + renderAttribsHTML + \">\" + body + \"</svg>\";\n}\n\nfunction encodeSVGforURL(svg) {\n  return svg.replace(/\"/g, \"'\").replace(/%/g, \"%25\").replace(/#/g, \"%23\").replace(/</g, \"%3C\").replace(/>/g, \"%3E\").replace(/\\s+/g, \" \");\n}\nfunction svgToURL(svg) {\n  return 'url(\"data:image/svg+xml,' + encodeSVGforURL(svg) + '\")';\n}\n\n// List of properties to apply\nconst monotoneProps = {\n    'background-color': 'currentColor',\n};\nconst coloredProps = {\n    'background-color': 'transparent',\n};\n// Dynamically add common props to variables above\nconst propsToAdd = {\n    image: 'var(--svg)',\n    repeat: 'no-repeat',\n    size: '100% 100%',\n};\nconst propsToAddTo = {\n    '-webkit-mask': monotoneProps,\n    'mask': monotoneProps,\n    'background': coloredProps,\n};\nfor (const prefix in propsToAddTo) {\n    const list = propsToAddTo[prefix];\n    for (const prop in propsToAdd) {\n        list[prefix + '-' + prop] = propsToAdd[prop];\n    }\n}\n/**\n * Fix size: add 'px' to numbers\n */\nfunction fixSize(value) {\n    return value ? value + (value.match(/^[-0-9.]+$/) ? 'px' : '') : 'inherit';\n}\n/**\n * Render node as <span>\n */\nfunction renderSPAN(data, icon, useMask) {\n    const node = document.createElement('span');\n    // Body\n    let body = data.body;\n    if (body.indexOf('<a') !== -1) {\n        // Animated SVG: add something to fix timing bug\n        body += '<!-- ' + Date.now() + ' -->';\n    }\n    // Generate SVG as URL\n    const renderAttribs = data.attributes;\n    const html = iconToHTML(body, {\n        ...renderAttribs,\n        width: icon.width + '',\n        height: icon.height + '',\n    });\n    const url = svgToURL(html);\n    // Generate style\n    const svgStyle = node.style;\n    const styles = {\n        '--svg': url,\n        'width': fixSize(renderAttribs.width),\n        'height': fixSize(renderAttribs.height),\n        ...(useMask ? monotoneProps : coloredProps),\n    };\n    // Apply style\n    for (const prop in styles) {\n        svgStyle.setProperty(prop, styles[prop]);\n    }\n    return node;\n}\n\n/**\n * Render node as <svg>\n */\nfunction renderSVG(data) {\n    const node = document.createElement('span');\n    // Add style if needed\n    const attr = data.attributes;\n    let style = '';\n    if (!attr.width) {\n        style = 'width: inherit;';\n    }\n    if (!attr.height) {\n        style += 'height: inherit;';\n    }\n    if (style) {\n        attr.style = style;\n    }\n    // Generate SVG\n    node.innerHTML = iconToHTML(data.body, attr);\n    return node.firstChild;\n}\n\n/**\n * Render icon\n */\nfunction renderIcon(parent, state) {\n    const iconData = state.icon.data;\n    const customisations = state.customisations;\n    // Render icon\n    const renderData = iconToSVG(iconData, customisations);\n    if (customisations.preserveAspectRatio) {\n        renderData.attributes['preserveAspectRatio'] =\n            customisations.preserveAspectRatio;\n    }\n    const mode = state.renderedMode;\n    let node;\n    switch (mode) {\n        case 'svg':\n            node = renderSVG(renderData);\n            break;\n        default:\n            node = renderSPAN(renderData, {\n                ...defaultIconProps,\n                ...iconData,\n            }, mode === 'mask');\n    }\n    // Set element\n    const oldNode = Array.from(parent.childNodes).find((node) => {\n        const tag = node.tagName &&\n            node.tagName.toUpperCase();\n        return tag === 'SPAN' || tag === 'SVG';\n    });\n    if (oldNode) {\n        // Replace old element\n        if (node.tagName === 'SPAN' && oldNode.tagName === node.tagName) {\n            // Swap style instead of whole node\n            oldNode.setAttribute('style', node.getAttribute('style'));\n        }\n        else {\n            parent.replaceChild(node, oldNode);\n        }\n    }\n    else {\n        // Add new element\n        parent.appendChild(node);\n    }\n}\n\n/**\n * Set state to PendingState\n */\nfunction setPendingState(icon, inline, lastState) {\n    const lastRender = lastState &&\n        (lastState.rendered\n            ? lastState\n            : lastState.lastRender);\n    return {\n        rendered: false,\n        inline,\n        icon,\n        lastRender,\n    };\n}\n\n/**\n * Register 'iconify-icon' component, if it does not exist\n */\nfunction defineIconifyIcon(name = 'iconify-icon') {\n    // Check for custom elements registry and HTMLElement\n    let customElements;\n    let ParentClass;\n    try {\n        customElements = window.customElements;\n        ParentClass = window.HTMLElement;\n    }\n    catch (err) {\n        return;\n    }\n    // Make sure registry and HTMLElement exist\n    if (!customElements || !ParentClass) {\n        return;\n    }\n    // Check for duplicate\n    const ConflictingClass = customElements.get(name);\n    if (ConflictingClass) {\n        return ConflictingClass;\n    }\n    // All attributes\n    const attributes = [\n        // Icon\n        'icon',\n        // Mode\n        'mode',\n        'inline',\n        // Customisations\n        'width',\n        'height',\n        'rotate',\n        'flip',\n    ];\n    /**\n     * Component class\n     */\n    const IconifyIcon = class extends ParentClass {\n        // Root\n        _shadowRoot;\n        // State\n        _state;\n        // Attributes check queued\n        _checkQueued = false;\n        /**\n         * Constructor\n         */\n        constructor() {\n            super();\n            // Attach shadow DOM\n            const root = (this._shadowRoot = this.attachShadow({\n                mode: 'open',\n            }));\n            // Add style\n            const inline = getInline(this);\n            updateStyle(root, inline);\n            // Create empty state\n            this._state = setPendingState({\n                value: '',\n            }, inline);\n            // Queue icon render\n            this._queueCheck();\n        }\n        /**\n         * Observed attributes\n         */\n        static get observedAttributes() {\n            return attributes.slice(0);\n        }\n        /**\n         * Observed properties that are different from attributes\n         *\n         * Experimental! Need to test with various frameworks that support it\n         */\n        /*\n        static get properties() {\n            return {\n                inline: {\n                    type: Boolean,\n                    reflect: true,\n                },\n                // Not listing other attributes because they are strings or combination\n                // of string and another type. Cannot have multiple types\n            };\n        }\n        */\n        /**\n         * Attribute has changed\n         */\n        attributeChangedCallback(name) {\n            if (name === 'inline') {\n                // Update immediately: not affected by other attributes\n                const newInline = getInline(this);\n                const state = this._state;\n                if (newInline !== state.inline) {\n                    // Update style if inline mode changed\n                    state.inline = newInline;\n                    updateStyle(this._shadowRoot, newInline);\n                }\n            }\n            else {\n                // Queue check for other attributes\n                this._queueCheck();\n            }\n        }\n        /**\n         * Get/set icon\n         */\n        get icon() {\n            const value = this.getAttribute('icon');\n            if (value && value.slice(0, 1) === '{') {\n                try {\n                    return JSON.parse(value);\n                }\n                catch (err) {\n                    //\n                }\n            }\n            return value;\n        }\n        set icon(value) {\n            if (typeof value === 'object') {\n                value = JSON.stringify(value);\n            }\n            this.setAttribute('icon', value);\n        }\n        /**\n         * Get/set inline\n         */\n        get inline() {\n            return getInline(this);\n        }\n        set inline(value) {\n            if (value) {\n                this.setAttribute('inline', 'true');\n            }\n            else {\n                this.removeAttribute('inline');\n            }\n        }\n        /**\n         * Restart animation\n         */\n        restartAnimation() {\n            const state = this._state;\n            if (state.rendered) {\n                const root = this._shadowRoot;\n                if (state.renderedMode === 'svg') {\n                    // Update root node\n                    try {\n                        root.lastChild.setCurrentTime(0);\n                        return;\n                    }\n                    catch (err) {\n                        // Failed: setCurrentTime() is not supported\n                    }\n                }\n                renderIcon(root, state);\n            }\n        }\n        /**\n         * Get status\n         */\n        get status() {\n            const state = this._state;\n            return state.rendered\n                ? 'rendered'\n                : state.icon.data === null\n                    ? 'failed'\n                    : 'loading';\n        }\n        /**\n         * Queue attributes re-check\n         */\n        _queueCheck() {\n            if (!this._checkQueued) {\n                this._checkQueued = true;\n                setTimeout(() => {\n                    this._check();\n                });\n            }\n        }\n        /**\n         * Check for changes\n         */\n        _check() {\n            if (!this._checkQueued) {\n                return;\n            }\n            this._checkQueued = false;\n            const state = this._state;\n            // Get icon\n            const newIcon = this.getAttribute('icon');\n            if (newIcon !== state.icon.value) {\n                this._iconChanged(newIcon);\n                return;\n            }\n            // Ignore other attributes if icon is not rendered\n            if (!state.rendered) {\n                return;\n            }\n            // Check for mode and attribute changes\n            const mode = this.getAttribute('mode');\n            const customisations = getCustomisations(this);\n            if (state.attrMode !== mode ||\n                haveCustomisationsChanged(state.customisations, customisations)) {\n                this._renderIcon(state.icon, customisations, mode);\n            }\n        }\n        /**\n         * Icon value has changed\n         */\n        _iconChanged(newValue) {\n            const icon = parseIconValue(newValue, (value, name, data) => {\n                // Asynchronous callback: re-check values to make sure stuff wasn't changed\n                const state = this._state;\n                if (state.rendered || this.getAttribute('icon') !== value) {\n                    // Icon data is already available or icon attribute was changed\n                    return;\n                }\n                // Change icon\n                const icon = {\n                    value,\n                    name,\n                    data,\n                };\n                if (icon.data) {\n                    // Render icon\n                    this._gotIconData(icon);\n                }\n                else {\n                    // Nothing to render: update icon in state\n                    state.icon = icon;\n                }\n            });\n            if (icon.data) {\n                // Icon is ready to render\n                this._gotIconData(icon);\n            }\n            else {\n                // Pending icon\n                this._state = setPendingState(icon, this._state.inline, this._state);\n            }\n        }\n        /**\n         * Got new icon data, icon is ready to (re)render\n         */\n        _gotIconData(icon) {\n            this._checkQueued = false;\n            this._renderIcon(icon, getCustomisations(this), this.getAttribute('mode'));\n        }\n        /**\n         * Re-render based on icon data\n         */\n        _renderIcon(icon, customisations, attrMode) {\n            // Get mode\n            const renderedMode = getRenderMode(icon.data.body, attrMode);\n            // Inline was not changed\n            const inline = this._state.inline;\n            // Set state and render\n            renderIcon(this._shadowRoot, (this._state = {\n                rendered: true,\n                icon,\n                inline,\n                customisations,\n                attrMode,\n                renderedMode,\n            }));\n        }\n    };\n    // Add getters and setters\n    attributes.forEach((attr) => {\n        if (!(attr in IconifyIcon.prototype)) {\n            Object.defineProperty(IconifyIcon.prototype, attr, {\n                get: function () {\n                    return this.getAttribute(attr);\n                },\n                set: function (value) {\n                    if (value !== null) {\n                        this.setAttribute(attr, value);\n                    }\n                    else {\n                        this.removeAttribute(attr);\n                    }\n                },\n            });\n        }\n    });\n    // Add exported functions: both as static and instance methods\n    const functions = exportFunctions();\n    for (const key in functions) {\n        IconifyIcon[key] = IconifyIcon.prototype[key] = functions[key];\n    }\n    // Define new component\n    customElements.define(name, IconifyIcon);\n    return IconifyIcon;\n}\n\n/**\n * Create exported data: either component instance or functions\n */\nconst IconifyIconComponent = defineIconifyIcon() || exportFunctions();\n/**\n * Export functions\n */\nconst { enableCache, disableCache, iconExists, getIcon, listIcons, addIcon, addCollection, calculateSize, buildIcon, loadIcons, loadIcon, addAPIProvider, _api, } = IconifyIconComponent;\n\nexport { IconifyIconComponent, _api, addAPIProvider, addCollection, addIcon, appendCustomStyle, buildIcon, calculateSize, disableCache, enableCache, getIcon, iconExists, listIcons, loadIcon, loadIcons };\n", "import \"iconify-icon\";\nimport { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n/**\n * A custom element that displays an icon using the Iconify library. For list of\n * all available icons, see: https://icon-sets.iconify.design/\n * @customElement shiny-icon\n * @extends LitElement\n */\n@customElement(\"shiny-icon\")\nexport class ShinyIcon extends LitElement {\n  /**\n   * The name of the icon to display using iconify format.\n   * @property {string} name\n   * @default \"info-circle\"\n   */\n  @property() name: string = \"info-circle\";\n\n  /**\n   * The styles for the ShinyIcon element.\n   * @static\n   * @property {CSSResult} styles\n   */\n  static styles = css`\n    :host {\n      display: inline-block;\n      height: 1em;\n    }\n  `;\n\n  /**\n   * Renders the ShinyIcon element.\n   * @returns {TemplateResult} The rendered template for the ShinyIcon element.\n   */\n  render() {\n    return html`<iconify-icon icon=\"${this.name}\"></iconify-icon>`;\n  }\n}\n", "export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n", "import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can\u2019t do this\n  // for a comparator (except for specific, known comparators) because we can\u2019t\n  // tell if the comparator is symmetric, and an asymmetric comparator can\u2019t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n", "export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n", "import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n", "export default function count(values, valueof) {\n  let count = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count;\n      }\n    }\n  }\n  return count;\n}\n", "function length(array) {\n  return array.length | 0;\n}\n\nfunction empty(length) {\n  return !(length > 0);\n}\n\nfunction arrayify(values) {\n  return typeof values !== \"object\" || \"length\" in values ? values : Array.from(values);\n}\n\nfunction reducer(reduce) {\n  return values => reduce(...values);\n}\n\nexport default function cross(...values) {\n  const reduce = typeof values[values.length - 1] === \"function\" && reducer(values.pop());\n  values = values.map(arrayify);\n  const lengths = values.map(length);\n  const j = values.length - 1;\n  const index = new Array(j + 1).fill(0);\n  const product = [];\n  if (j < 0 || lengths.some(empty)) return product;\n  while (true) {\n    product.push(index.map((j, i) => values[i][j]));\n    let i = j;\n    while (++index[i] === lengths[i]) {\n      if (i === 0) return reduce ? product.map(reduce) : product;\n      index[i--] = 0;\n    }\n  }\n}\n", "export default function cumsum(values, valueof) {\n  var sum = 0, index = 0;\n  return Float64Array.from(values, valueof === undefined\n    ? v => (sum += +v || 0)\n    : v => (sum += +valueof(v, index++, values) || 0));\n}", "export default function variance(values, valueof) {\n  let count = 0;\n  let delta;\n  let mean = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        delta = value - mean;\n        mean += delta / ++count;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n  if (count > 1) return sum / (count - 1);\n}\n", "import variance from \"./variance.js\";\n\nexport default function deviation(values, valueof) {\n  const v = variance(values, valueof);\n  return v ? Math.sqrt(v) : v;\n}\n", "export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n", "// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n", "export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n", "export default function identity(x) {\n  return x;\n}\n", "import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nfunction flatten(groups, keys) {\n  for (let i = 1, n = keys.length; i < n; ++i) {\n    groups = groups.flatMap(g => g.pop().map(([key, value]) => [...g, key, value]));\n  }\n  return groups;\n}\n\nexport function flatGroup(values, ...keys) {\n  return flatten(groups(values, ...keys), keys);\n}\n\nexport function flatRollup(values, reduce, ...keys) {\n  return flatten(rollups(values, reduce, ...keys), keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n", "export default function permute(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n", "import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f] = F;\n  if ((f && f.length !== 2) || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascendingDefined(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascendingDefined(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(compareDefined(f));\n}\n\nexport function compareDefined(compare = ascending) {\n  if (compare === ascending) return ascendingDefined;\n  if (typeof compare !== \"function\") throw new TypeError(\"compare is not a function\");\n  return (a, b) => {\n    const x = compare(a, b);\n    if (x || x === 0) return x;\n    return (compare(b, b) === 0) - (compare(a, a) === 0);\n  };\n}\n\nexport function ascendingDefined(a, b) {\n  return (a == null || !(a >= a)) - (b == null || !(b >= b)) || (a < b ? -1 : a > b ? 1 : 0);\n}\n", "import ascending from \"./ascending.js\";\nimport group, {rollup} from \"./group.js\";\nimport sort from \"./sort.js\";\n\nexport default function groupSort(values, reduce, key) {\n  return (reduce.length !== 2\n    ? sort(rollup(values, reduce, key), (([ak, av], [bk, bv]) => ascending(av, bv) || ascending(ak, bk)))\n    : sort(group(values, key), (([ak, av], [bk, bv]) => reduce(av, bv) || ascending(ak, bk))))\n    .map(([key]) => key);\n}\n", "const e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction tickSpec(start, stop, count) {\n  const step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log10(step)),\n      error = step / Math.pow(10, power),\n      factor = error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1;\n  let i1, i2, inc;\n  if (power < 0) {\n    inc = Math.pow(10, -power) / factor;\n    i1 = Math.round(start * inc);\n    i2 = Math.round(stop * inc);\n    if (i1 / inc < start) ++i1;\n    if (i2 / inc > stop) --i2;\n    inc = -inc;\n  } else {\n    inc = Math.pow(10, power) * factor;\n    i1 = Math.round(start / inc);\n    i2 = Math.round(stop / inc);\n    if (i1 * inc < start) ++i1;\n    if (i2 * inc > stop) --i2;\n  }\n  if (i2 < i1 && 0.5 <= count && count < 2) return tickSpec(start, stop, count * 2);\n  return [i1, i2, inc];\n}\n\nexport default function ticks(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  if (!(count > 0)) return [];\n  if (start === stop) return [start];\n  const reverse = stop < start, [i1, i2, inc] = reverse ? tickSpec(stop, start, count) : tickSpec(start, stop, count);\n  if (!(i2 >= i1)) return [];\n  const n = i2 - i1 + 1, ticks = new Array(n);\n  if (reverse) {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i2 - i) * inc;\n  } else {\n    if (inc < 0) for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) / -inc;\n    else for (let i = 0; i < n; ++i) ticks[i] = (i1 + i) * inc;\n  }\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  return tickSpec(start, stop, count)[2];\n}\n\nexport function tickStep(start, stop, count) {\n  stop = +stop, start = +start, count = +count;\n  const reverse = stop < start, inc = reverse ? tickIncrement(stop, start, count) : tickIncrement(start, stop, count);\n  return (reverse ? -1 : 1) * (inc < 0 ? 1 / -inc : inc);\n}\n", "import count from \"../count.js\";\n\nexport default function thresholdSturges(values) {\n  return Math.max(1, Math.ceil(Math.log(count(values)) / Math.LN2) + 1);\n}\n", "export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n", "export default function maxIndex(values, valueof) {\n  let max;\n  let maxIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value, maxIndex = index;\n      }\n    }\n  }\n  return maxIndex;\n}\n", "export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n", "export default function minIndex(values, valueof) {\n  let min;\n  let minIndex = -1;\n  let index = -1;\n  if (valueof === undefined) {\n    for (const value of values) {\n      ++index;\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  } else {\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value, minIndex = index;\n      }\n    }\n  }\n  return minIndex;\n}\n", "import {ascendingDefined, compareDefined} from \"./sort.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = Infinity, compare) {\n  k = Math.floor(k);\n  left = Math.floor(Math.max(0, left));\n  right = Math.floor(Math.min(array.length - 1, right));\n\n  if (!(left <= k && k <= right)) return array;\n\n  compare = compare === undefined ? ascendingDefined : compareDefined(compare);\n\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n", "import ascending from \"./ascending.js\";\n\nexport default function greatest(values, compare = ascending) {\n  let max;\n  let defined = false;\n  if (compare.length === 1) {\n    let maxValue;\n    for (const element of values) {\n      const value = compare(element);\n      if (defined\n          ? ascending(value, maxValue) > 0\n          : ascending(value, value) === 0) {\n        max = element;\n        maxValue = value;\n        defined = true;\n      }\n    }\n  } else {\n    for (const value of values) {\n      if (defined\n          ? compare(value, max) > 0\n          : compare(value, value) === 0) {\n        max = value;\n        defined = true;\n      }\n    }\n  }\n  return max;\n}\n", "import max from \"./max.js\";\nimport maxIndex from \"./maxIndex.js\";\nimport min from \"./min.js\";\nimport minIndex from \"./minIndex.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\nimport {ascendingDefined} from \"./sort.js\";\nimport greatest from \"./greatest.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length) || isNaN(p = +p)) return;\n  if (p <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileIndex(values, p, valueof = number) {\n  if (isNaN(p = +p)) return;\n  numbers = Float64Array.from(values, (_, i) => number(valueof(values[i], i, values)));\n  if (p <= 0) return minIndex(numbers);\n  if (p >= 1) return maxIndex(numbers);\n  var numbers,\n      index = Uint32Array.from(values, (_, i) => i),\n      j = numbers.length - 1,\n      i = Math.floor(j * p);\n  quickselect(index, i, 0, j, (i, j) => ascendingDefined(numbers[i], numbers[j]));\n  i = greatest(index.subarray(0, i + 1), (i) => numbers[i]);\n  return i >= 0 ? i : -1;\n}\n", "import count from \"../count.js\";\nimport quantile from \"../quantile.js\";\n\nexport default function thresholdFreedmanDiaconis(values, min, max) {\n  const c = count(values), d = quantile(values, 0.75) - quantile(values, 0.25);\n  return c && d ? Math.ceil((max - min) / (2 * d * Math.pow(c, -1 / 3))) : 1;\n}\n", "import count from \"../count.js\";\nimport deviation from \"../deviation.js\";\n\nexport default function thresholdScott(values, min, max) {\n  const c = count(values), d = deviation(values);\n  return c && d ? Math.ceil((max - min) * Math.cbrt(c) / (3.49 * d)) : 1;\n}\n", "export default function mean(values, valueof) {\n  let count = 0;\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        ++count, sum += value;\n      }\n    }\n  }\n  if (count) return sum / count;\n}\n", "import quantile, {quantileIndex} from \"./quantile.js\";\n\nexport default function median(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n\nexport function medianIndex(values, valueof) {\n  return quantileIndex(values, 0.5, valueof);\n}\n", "function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n", "import {InternMap} from \"internmap\";\n\nexport default function mode(values, valueof) {\n  const counts = new InternMap();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && value >= value) {\n        counts.set(value, (counts.get(value) || 0) + 1);\n      }\n    }\n  }\n  let modeValue;\n  let modeCount = 0;\n  for (const [value, count] of counts) {\n    if (count > modeCount) {\n      modeCount = count;\n      modeValue = value;\n    }\n  }\n  return modeValue;\n}\n", "export default function pairs(values, pairof = pair) {\n  const pairs = [];\n  let previous;\n  let first = false;\n  for (const value of values) {\n    if (first) pairs.push(pairof(previous, value));\n    previous = value;\n    first = true;\n  }\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n", "export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n", "export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n", "export default function reverse(values) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  return Array.from(values).reverse();\n}\n", "export default function(x) {\n  return x;\n}\n", "import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n", "var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n", "export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n", "import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n", "import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n", "function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don\u2019t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n", "function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n", "export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n", "import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n", "import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n", "export default function(update) {\n  return new Array(update.length);\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n", "export default function(x) {\n  return function() {\n    return x;\n  };\n}\n", "import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don\u2019t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn\u2019t worried about \u201Clive\u201D collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don\u2019t; we\u2019d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n", "import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n", "export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n", "import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n", "export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n", "export default function() {\n  return Array.from(this);\n}\n", "export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n", "export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n", "export default function() {\n  return !this.node();\n}\n", "export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n", "import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n", "export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n", "import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n", "function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n", "function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n", "function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n", "function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n", "function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n", "function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n", "import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n", "import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n", "function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n", "function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n", "export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n", "function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n", "import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n", "export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n", "import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n", "import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n", "export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n", "import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n", "export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n", "import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n", "export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n", "import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * degrees - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * radians,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n", "export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n", "export default x => () => x;\n", "import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n", "import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n", "export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n", "import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n", "export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n", "import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n", "import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n", "import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n", "export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n", "var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n", "import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n", "import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n", "import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n", "import {lab as colorLab} from \"d3-color\";\nimport color from \"./color.js\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n", "import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n", "import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n", "import {default as value} from \"./value.js\";\n\nexport default function piecewise(interpolate, values) {\n  if (values === undefined) values = interpolate, interpolate = value;\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n", "export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n", "var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we\u2019ve set an alarm, if we haven\u2019t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n", "import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n", "import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n", "import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n", "import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n", "import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n", "import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n", "import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n", "import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n", "import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n", "import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n", "import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n", "import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n", "import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n", "function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n", "import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n", "import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n", "import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we\u2019re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n", "function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n", "import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n", "function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n", "import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n", "import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we\u2019re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n", "import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n", "export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n", "import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n", "import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n", "import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {pointer, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport BrushEvent from \"./event.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nconst {abs, max, min} = Math;\n\nfunction number1(e) {\n  return [+e[0], +e[1]];\n}\n\nfunction number2(e) {\n  return [number1(e[0]), number1(e[1])];\n}\n\nvar X = {\n  name: \"x\",\n  handles: [\"w\", \"e\"].map(type),\n  input: function(x, e) { return x == null ? null : [[+x[0], e[0][1]], [+x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y == null ? null : [[e[0][0], +y[0]], [e[1][0], +y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"w\", \"e\", \"s\", \"nw\", \"ne\", \"sw\", \"se\"].map(type),\n  input: function(xy) { return xy == null ? null : number2(xy); },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  if (svg.hasAttribute(\"viewBox\")) {\n    svg = svg.viewBox.baseVal;\n    return [[svg.x, svg.y], [svg.x + svg.width, svg.y + svg.height]];\n  }\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\n// Like d3.local, but with the name \u201C__brush\u201D rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      touchable = defaultTouchable,\n      keys = true,\n      listeners = dispatch(\"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .on(\"mousedown.brush\", started)\n      .filter(touchable)\n        .on(\"touchstart.brush\", started)\n        .on(\"touchmove.brush\", touchmoved)\n        .on(\"touchend.brush touchcancel.brush\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  brush.move = function(group, selection, event) {\n    if (group.tween) {\n      group\n          .on(\"start.brush\", function(event) { emitter(this, arguments).beforestart().start(event); })\n          .on(\"interrupt.brush end.brush\", function(event) { emitter(this, arguments).end(event); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && selection1 === null ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 !== null && selection1 !== null ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 === null ? null : selection1;\n            redraw.call(that);\n            emit.start(event).brush(event).end(event);\n          });\n    }\n  };\n\n  brush.clear = function(group, event) {\n    brush.move(group, null, event);\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args, clean) {\n    var emit = that.__brush.emitter;\n    return emit && (!clean || !emit.clean) ? emit : new Emitter(that, args, clean);\n  }\n\n  function Emitter(that, args, clean) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n    this.clean = clean;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function(event, mode) {\n      if (this.starting) this.starting = false, this.emit(\"start\", event, mode);\n      else this.emit(\"brush\", event);\n      return this;\n    },\n    brush: function(event, mode) {\n      this.emit(\"brush\", event, mode);\n      return this;\n    },\n    end: function(event, mode) {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\", event, mode);\n      return this;\n    },\n    emit: function(type, event, mode) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new BrushEvent(type, {\n          sourceEvent: event,\n          target: brush,\n          selection: dim.output(this.state.selection),\n          mode,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function started(event) {\n    if (touchending && !event.touches) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (keys && event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (keys && event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx = 0,\n        dy = 0,\n        moving,\n        shifting = signX && signY && keys && event.shiftKey,\n        lockX,\n        lockY,\n        points = Array.from(event.touches || [event], t => {\n          const i = t.identifier;\n          t = pointer(t, that);\n          t.point0 = t.slice();\n          t.identifier = i;\n          return t;\n        });\n\n    interrupt(that);\n    var emit = emitter(that, arguments, true).beforestart();\n\n    if (type === \"overlay\") {\n      if (selection) moving = true;\n      const pts = [points[0], points[1] || points[0]];\n      state.selection = selection = [[\n          w0 = dim === Y ? W : min(pts[0][0], pts[1][0]),\n          n0 = dim === X ? N : min(pts[0][1], pts[1][1])\n        ], [\n          e0 = dim === Y ? E : max(pts[0][0], pts[1][0]),\n          s0 = dim === X ? S : max(pts[0][1], pts[1][1])\n        ]];\n      if (points.length > 1) move(event);\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      emit.moved = moved;\n      emit.ended = ended;\n    } else {\n      var view = select(event.view)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n      if (keys) view\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n\n      dragDisable(event.view);\n    }\n\n    redraw.call(that);\n    emit.start(event, mode.name);\n\n    function moved(event) {\n      for (const p of event.changedTouches || [event]) {\n        for (const d of points)\n          if (d.identifier === p.identifier) d.cur = pointer(p, that);\n      }\n      if (shifting && !lockX && !lockY && points.length === 1) {\n        const point = points[0];\n        if (abs(point.cur[0] - point[0]) > abs(point.cur[1] - point[1]))\n          lockY = true;\n        else\n          lockX = true;\n      }\n      for (const point of points)\n        if (point.cur) point[0] = point.cur[0], point[1] = point.cur[1];\n      moving = true;\n      noevent(event);\n      move(event);\n    }\n\n    function move(event) {\n      const point = points[0], point0 = point.point0;\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = max(W - w0, min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = max(N - n0, min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (points[1]) {\n            if (signX) w1 = max(W, min(E, points[0][0])), e1 = max(W, min(E, points[1][0])), signX = 1;\n            if (signY) n1 = max(N, min(S, points[0][1])), s1 = max(N, min(S, points[1][1])), signY = 1;\n          } else {\n            if (signX < 0) dx = max(W - w0, min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n            else if (signX > 0) dx = max(W - e0, min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = max(N - n0, min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n            else if (signY > 0) dy = max(N - s0, min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          }\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = max(W, min(E, w0 - dx * signX)), e1 = max(W, min(E, e0 + dx * signX));\n          if (signY) n1 = max(N, min(S, n0 - dy * signY)), s1 = max(N, min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush(event, mode.name);\n      }\n    }\n\n    function ended(event) {\n      nopropagation(event);\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end(event, mode.name);\n    }\n\n    function keydowned(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n\n    function keyupped(event) {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move(event);\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move(event);\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move(event);\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent(event);\n    }\n  }\n\n  function touchmoved(event) {\n    emitter(this, arguments).moved(event);\n  }\n\n  function touchended(event) {\n    emitter(this, arguments).ended(event);\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = number2(extent.apply(this, arguments));\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant(number2(_)), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), brush) : touchable;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.keyModifiers = function(_) {\n    return arguments.length ? (keys = !!_, brush) : keys;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n", "const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction append(strings) {\n  this._ += strings[0];\n  for (let i = 1, n = strings.length; i < n; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  let d = Math.floor(digits);\n  if (!(d >= 0)) throw new Error(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  const k = 10 ** d;\n  return function(strings) {\n    this._ += strings[0];\n    for (let i = 1, n = strings.length; i < n; ++i) {\n      this._ += Math.round(arguments[i] * k) / k + strings[i];\n    }\n  };\n}\n\nexport class Path {\n  constructor(digits) {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n    this._append = digits == null ? append : appendRound(digits);\n  }\n  moveTo(x, y) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._append`Z`;\n    }\n  }\n  lineTo(x, y) {\n    this._append`L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  quadraticCurveTo(x1, y1, x, y) {\n    this._append`Q${+x1},${+y1},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  bezierCurveTo(x1, y1, x2, y2, x, y) {\n    this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arcTo(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._append`M${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._append`L${this._x1 = x1},${this._y1 = y1}`;\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      let x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._append`L${x1 + t01 * x01},${y1 + t01 * y01}`;\n      }\n\n      this._append`A${r},${r},0,0,${+(y01 * x20 > x01 * y20)},${this._x1 = x1 + t21 * x21},${this._y1 = y1 + t21 * y21}`;\n    }\n  }\n  arc(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(`negative radius: ${r}`);\n\n    let dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._append`M${x0},${y0}`;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._append`L${x0},${y0}`;\n    }\n\n    // Is this arc empty? We\u2019re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._append`A${r},${r},0,1,${cw},${x - dx},${y - dy}A${r},${r},0,1,${cw},${this._x1 = x0},${this._y1 = y0}`;\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._append`A${r},${r},0,${+(da >= pi)},${cw},${this._x1 = x + r * Math.cos(a1)},${this._y1 = y + r * Math.sin(a1)}`;\n    }\n  }\n  rect(x, y, w, h) {\n    this._append`M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${w = +w}v${+h}h${-w}Z`;\n  }\n  toString() {\n    return this._;\n  }\n}\n\nexport function path() {\n  return new Path;\n}\n\n// Allow instanceof d3.path\npath.prototype = Path.prototype;\n\nexport function pathRound(digits = 3) {\n  return new Path(+digits);\n}\n", "export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, \u00B1Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n", "export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n", "export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n", "// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n", "// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n", "import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n", "import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n", "export default function(x) {\n  return x;\n}\n", "import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\u00B5\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"\u2212\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer \u201Cvalue\u201D part that can be\n        // grouped, and fractional or exponential \u201Csuffix\u201D part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n", "import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n", "export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n", "export default function noop() {}\n", "function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n", "export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n", "import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n", "import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0\u00B0, 0\u00B0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(6),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n", "import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n", "import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n", "import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n", "import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the point\u2019s meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n", "import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n", "import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n", "import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 6 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1 \u2A2F n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n", "export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n", "import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygon\u2019s polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n", "export default x => x;\n", "import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n", "import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n", "import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n", "import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n", "import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n", "// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n", "import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n", "export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n", "import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n", "import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n", "import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n", "import {degrees, pi, radians} from \"../math.js\";\nimport {projectionMutator} from \"./index.js\";\n\nexport function conicProjection(projectAt) {\n  var phi0 = 0,\n      phi1 = pi / 3,\n      m = projectionMutator(projectAt),\n      p = m(phi0, phi1);\n\n  p.parallels = function(_) {\n    return arguments.length ? m(phi0 = _[0] * radians, phi1 = _[1] * radians) : [phi0 * degrees, phi1 * degrees];\n  };\n\n  return p;\n}\n", "import {asin, cos, sin} from \"../math.js\";\n\nexport function cylindricalEqualAreaRaw(phi0) {\n  var cosPhi0 = cos(phi0);\n\n  function forward(lambda, phi) {\n    return [lambda * cosPhi0, sin(phi) / cosPhi0];\n  }\n\n  forward.invert = function(x, y) {\n    return [x / cosPhi0, asin(y * cosPhi0)];\n  };\n\n  return forward;\n}\n", "import {abs, asin, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {cylindricalEqualAreaRaw} from \"./cylindricalEqualArea.js\";\n\nexport function conicEqualAreaRaw(y0, y1) {\n  var sy0 = sin(y0), n = (sy0 + sin(y1)) / 2;\n\n  // Are the parallels symmetrical around the Equator?\n  if (abs(n) < epsilon) return cylindricalEqualAreaRaw(y0);\n\n  var c = 1 + sy0 * (2 * n - sy0), r0 = sqrt(c) / n;\n\n  function project(x, y) {\n    var r = sqrt(c - 2 * n * sin(y)) / n;\n    return [r * sin(x *= n), r0 - r * cos(x)];\n  }\n\n  project.invert = function(x, y) {\n    var r0y = r0 - y,\n        l = atan2(x, abs(r0y)) * sign(r0y);\n    if (r0y * n < 0)\n      l -= pi * sign(x) * sign(r0y);\n    return [l / n, asin((c - (x * x + r0y * r0y) * n * n) / (2 * n))];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEqualAreaRaw)\n      .scale(155.424)\n      .center([0, 33.6442]);\n}\n", "import conicEqualArea from \"./conicEqualArea.js\";\n\nexport default function() {\n  return conicEqualArea()\n      .parallels([29.5, 45.5])\n      .scale(1070)\n      .translate([480, 250])\n      .rotate([96, 0])\n      .center([-0.6, 38.7]);\n}\n", "import {epsilon} from \"../math.js\";\nimport albers from \"./albers.js\";\nimport conicEqualArea from \"./conicEqualArea.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\n\n// The projections must have mutually exclusive clip regions on the sphere,\n// as this will avoid emitting interleaving lines and polygons.\nfunction multiplex(streams) {\n  var n = streams.length;\n  return {\n    point: function(x, y) { var i = -1; while (++i < n) streams[i].point(x, y); },\n    sphere: function() { var i = -1; while (++i < n) streams[i].sphere(); },\n    lineStart: function() { var i = -1; while (++i < n) streams[i].lineStart(); },\n    lineEnd: function() { var i = -1; while (++i < n) streams[i].lineEnd(); },\n    polygonStart: function() { var i = -1; while (++i < n) streams[i].polygonStart(); },\n    polygonEnd: function() { var i = -1; while (++i < n) streams[i].polygonEnd(); }\n  };\n}\n\n// A composite projection for the United States, configured by default for\n// 960\u00D7500. The projection also works quite well at 960\u00D7600 if you change the\n// scale to 1285 and adjust the translate accordingly. The set of standard\n// parallels for each region comes from USGS, which is published here:\n// http://egsc.usgs.gov/isb/pubs/MapProjections/projections.html#albers\nexport default function() {\n  var cache,\n      cacheStream,\n      lower48 = albers(), lower48Point,\n      alaska = conicEqualArea().rotate([154, 0]).center([-2, 58.5]).parallels([55, 65]), alaskaPoint, // EPSG:3338\n      hawaii = conicEqualArea().rotate([157, 0]).center([-3, 19.9]).parallels([8, 18]), hawaiiPoint, // ESRI:102007\n      point, pointStream = {point: function(x, y) { point = [x, y]; }};\n\n  function albersUsa(coordinates) {\n    var x = coordinates[0], y = coordinates[1];\n    return point = null,\n        (lower48Point.point(x, y), point)\n        || (alaskaPoint.point(x, y), point)\n        || (hawaiiPoint.point(x, y), point);\n  }\n\n  albersUsa.invert = function(coordinates) {\n    var k = lower48.scale(),\n        t = lower48.translate(),\n        x = (coordinates[0] - t[0]) / k,\n        y = (coordinates[1] - t[1]) / k;\n    return (y >= 0.120 && y < 0.234 && x >= -0.425 && x < -0.214 ? alaska\n        : y >= 0.166 && y < 0.234 && x >= -0.214 && x < -0.115 ? hawaii\n        : lower48).invert(coordinates);\n  };\n\n  albersUsa.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = multiplex([lower48.stream(cacheStream = stream), alaska.stream(stream), hawaii.stream(stream)]);\n  };\n\n  albersUsa.precision = function(_) {\n    if (!arguments.length) return lower48.precision();\n    lower48.precision(_), alaska.precision(_), hawaii.precision(_);\n    return reset();\n  };\n\n  albersUsa.scale = function(_) {\n    if (!arguments.length) return lower48.scale();\n    lower48.scale(_), alaska.scale(_ * 0.35), hawaii.scale(_);\n    return albersUsa.translate(lower48.translate());\n  };\n\n  albersUsa.translate = function(_) {\n    if (!arguments.length) return lower48.translate();\n    var k = lower48.scale(), x = +_[0], y = +_[1];\n\n    lower48Point = lower48\n        .translate(_)\n        .clipExtent([[x - 0.455 * k, y - 0.238 * k], [x + 0.455 * k, y + 0.238 * k]])\n        .stream(pointStream);\n\n    alaskaPoint = alaska\n        .translate([x - 0.307 * k, y + 0.201 * k])\n        .clipExtent([[x - 0.425 * k + epsilon, y + 0.120 * k + epsilon], [x - 0.214 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    hawaiiPoint = hawaii\n        .translate([x - 0.205 * k, y + 0.212 * k])\n        .clipExtent([[x - 0.214 * k + epsilon, y + 0.166 * k + epsilon], [x - 0.115 * k - epsilon, y + 0.234 * k - epsilon]])\n        .stream(pointStream);\n\n    return reset();\n  };\n\n  albersUsa.fitExtent = function(extent, object) {\n    return fitExtent(albersUsa, extent, object);\n  };\n\n  albersUsa.fitSize = function(size, object) {\n    return fitSize(albersUsa, size, object);\n  };\n\n  albersUsa.fitWidth = function(width, object) {\n    return fitWidth(albersUsa, width, object);\n  };\n\n  albersUsa.fitHeight = function(height, object) {\n    return fitHeight(albersUsa, height, object);\n  };\n\n  function reset() {\n    cache = cacheStream = null;\n    return albersUsa;\n  }\n\n  return albersUsa.scale(1070);\n}\n", "import {asin, atan2, cos, sin, sqrt} from \"../math.js\";\n\nexport function azimuthalRaw(scale) {\n  return function(x, y) {\n    var cx = cos(x),\n        cy = cos(y),\n        k = scale(cx * cy);\n        if (k === Infinity) return [2, 0];\n    return [\n      k * cy * sin(x),\n      k * sin(y)\n    ];\n  }\n}\n\nexport function azimuthalInvert(angle) {\n  return function(x, y) {\n    var z = sqrt(x * x + y * y),\n        c = angle(z),\n        sc = sin(c),\n        cc = cos(c);\n    return [\n      atan2(x * sc, z * cc),\n      asin(z && y * sc / z)\n    ];\n  }\n}\n", "import {asin, sqrt} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEqualAreaRaw = azimuthalRaw(function(cxcy) {\n  return sqrt(2 / (1 + cxcy));\n});\n\nazimuthalEqualAreaRaw.invert = azimuthalInvert(function(z) {\n  return 2 * asin(z / 2);\n});\n\nexport default function() {\n  return projection(azimuthalEqualAreaRaw)\n      .scale(124.75)\n      .clipAngle(180 - 1e-3);\n}\n", "import {acos, sin} from \"../math.js\";\nimport {azimuthalRaw, azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport var azimuthalEquidistantRaw = azimuthalRaw(function(c) {\n  return (c = acos(c)) && c / sin(c);\n});\n\nazimuthalEquidistantRaw.invert = azimuthalInvert(function(z) {\n  return z;\n});\n\nexport default function() {\n  return projection(azimuthalEquidistantRaw)\n      .scale(79.4188)\n      .clipAngle(180 - 1e-3);\n}\n", "import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n", "import {abs, atan, atan2, cos, epsilon, halfPi, log, pi, pow, sign, sin, sqrt, tan} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {mercatorRaw} from \"./mercator.js\";\n\nfunction tany(y) {\n  return tan((halfPi + y) / 2);\n}\n\nexport function conicConformalRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : log(cy0 / cos(y1)) / log(tany(y1) / tany(y0)),\n      f = cy0 * pow(tany(y0), n) / n;\n\n  if (!n) return mercatorRaw;\n\n  function project(x, y) {\n    if (f > 0) { if (y < -halfPi + epsilon) y = -halfPi + epsilon; }\n    else { if (y > halfPi - epsilon) y = halfPi - epsilon; }\n    var r = f / pow(tany(y), n);\n    return [r * sin(n * x), f - r * cos(n * x)];\n  }\n\n  project.invert = function(x, y) {\n    var fy = f - y, r = sign(n) * sqrt(x * x + fy * fy),\n      l = atan2(x, abs(fy)) * sign(fy);\n    if (fy * n < 0)\n      l -= pi * sign(x) * sign(fy);\n    return [l / n, 2 * atan(pow(f / r, 1 / n)) - halfPi];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicConformalRaw)\n      .scale(109.5)\n      .parallels([30, 30]);\n}\n", "import projection from \"./index.js\";\n\nexport function equirectangularRaw(lambda, phi) {\n  return [lambda, phi];\n}\n\nequirectangularRaw.invert = equirectangularRaw;\n\nexport default function() {\n  return projection(equirectangularRaw)\n      .scale(152.63);\n}\n", "import {abs, atan2, cos, epsilon, pi, sign, sin, sqrt} from \"../math.js\";\nimport {conicProjection} from \"./conic.js\";\nimport {equirectangularRaw} from \"./equirectangular.js\";\n\nexport function conicEquidistantRaw(y0, y1) {\n  var cy0 = cos(y0),\n      n = y0 === y1 ? sin(y0) : (cy0 - cos(y1)) / (y1 - y0),\n      g = cy0 / n + y0;\n\n  if (abs(n) < epsilon) return equirectangularRaw;\n\n  function project(x, y) {\n    var gy = g - y, nx = n * x;\n    return [gy * sin(nx), g - gy * cos(nx)];\n  }\n\n  project.invert = function(x, y) {\n    var gy = g - y,\n        l = atan2(x, abs(gy)) * sign(gy);\n    if (gy * n < 0)\n      l -= pi * sign(x) * sign(gy);\n    return [l / n, g - sign(n) * sqrt(x * x + gy * gy)];\n  };\n\n  return project;\n}\n\nexport default function() {\n  return conicProjection(conicEquidistantRaw)\n      .scale(131.154)\n      .center([0, 13.9389]);\n}\n", "import projection from \"./index.js\";\nimport {abs, asin, cos, epsilon2, sin, sqrt} from \"../math.js\";\n\nvar A1 = 1.340264,\n    A2 = -0.081106,\n    A3 = 0.000893,\n    A4 = 0.003796,\n    M = sqrt(3) / 2,\n    iterations = 12;\n\nexport function equalEarthRaw(lambda, phi) {\n  var l = asin(M * sin(phi)), l2 = l * l, l6 = l2 * l2 * l2;\n  return [\n    lambda * cos(l) / (M * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2))),\n    l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2))\n  ];\n}\n\nequalEarthRaw.invert = function(x, y) {\n  var l = y, l2 = l * l, l6 = l2 * l2 * l2;\n  for (var i = 0, delta, fy, fpy; i < iterations; ++i) {\n    fy = l * (A1 + A2 * l2 + l6 * (A3 + A4 * l2)) - y;\n    fpy = A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2);\n    l -= delta = fy / fpy, l2 = l * l, l6 = l2 * l2 * l2;\n    if (abs(delta) < epsilon2) break;\n  }\n  return [\n    M * x * (A1 + 3 * A2 * l2 + l6 * (7 * A3 + 9 * A4 * l2)) / cos(l),\n    asin(sin(l) / M)\n  ];\n};\n\nexport default function() {\n  return projection(equalEarthRaw)\n      .scale(177.158);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function gnomonicRaw(x, y) {\n  var cy = cos(y), k = cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\ngnomonicRaw.invert = azimuthalInvert(atan);\n\nexport default function() {\n  return projection(gnomonicRaw)\n      .scale(144.049)\n      .clipAngle(60);\n}\n", "import {asin, cos, epsilon, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function orthographicRaw(x, y) {\n  return [cos(y) * sin(x), sin(y)];\n}\n\northographicRaw.invert = azimuthalInvert(asin);\n\nexport default function() {\n  return projection(orthographicRaw)\n      .scale(249.5)\n      .clipAngle(90 + epsilon);\n}\n", "import {atan, cos, sin} from \"../math.js\";\nimport {azimuthalInvert} from \"./azimuthal.js\";\nimport projection from \"./index.js\";\n\nexport function stereographicRaw(x, y) {\n  var cy = cos(y), k = 1 + cos(x) * cy;\n  return [cy * sin(x) / k, sin(y) / k];\n}\n\nstereographicRaw.invert = azimuthalInvert(function(z) {\n  return 2 * atan(z);\n});\n\nexport default function() {\n  return projection(stereographicRaw)\n      .scale(250)\n      .clipAngle(142);\n}\n", "import {atan, exp, halfPi, log, tan} from \"../math.js\";\nimport {mercatorProjection} from \"./mercator.js\";\n\nexport function transverseMercatorRaw(lambda, phi) {\n  return [log(tan((halfPi + phi) / 2)), -lambda];\n}\n\ntransverseMercatorRaw.invert = function(x, y) {\n  return [-y, 2 * atan(exp(x)) - halfPi];\n};\n\nexport default function() {\n  var m = mercatorProjection(transverseMercatorRaw),\n      center = m.center,\n      rotate = m.rotate;\n\n  m.center = function(_) {\n    return arguments.length ? center([-_[1], _[0]]) : (_ = center(), [_[1], -_[0]]);\n  };\n\n  m.rotate = function(_) {\n    return arguments.length ? rotate([_[0], _[1], _.length > 2 ? _[2] + 90 : 90]) : (_ = rotate(), [_[0], _[1], _[2] - 90]);\n  };\n\n  return rotate([0, 0, 90])\n      .scale(159.155);\n}\n", "export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n", "import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n", "import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n", "export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n", "export default function number(x) {\n  return +x;\n}\n", "import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n", "import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n", "import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n", "import {linearish} from \"./linear.js\";\nimport number from \"./number.js\";\n\nexport default function identity(domain) {\n  var unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), scale) : domain.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return identity(domain).unknown(unknown);\n  };\n\n  domain = arguments.length ? Array.from(domain, number) : [0, 1];\n\n  return linearish(scale);\n}\n", "export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n", "import {ticks} from \"d3-array\";\nimport {format, formatSpecifier} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : x => Math.pow(base, x);\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), x => Math.log(x) / base);\n}\n\nfunction reflect(f) {\n  return (x, k) => -f(-x, k);\n}\n\nexport function loggish(transform) {\n  const scale = transform(transformLog, transformExp);\n  const domain = scale.domain;\n  let base = 10;\n  let logs;\n  let pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = count => {\n    const d = domain();\n    let u = d[0];\n    let v = d[d.length - 1];\n    const r = v < u;\n\n    if (r) ([u, v] = [v, u]);\n\n    let i = logs(u);\n    let j = logs(v);\n    let k;\n    let t;\n    const n = count == null ? 10 : +count;\n    let z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1; k < base; ++k) {\n          t = i < 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1; k >= 1; --k) {\n          t = i > 0 ? k / pows(-i) : k * pows(i);\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = (count, specifier) => {\n    if (count == null) count = 10;\n    if (specifier == null) specifier = base === 10 ? \"s\" : \",\";\n    if (typeof specifier !== \"function\") {\n      if (!(base % 1) && (specifier = formatSpecifier(specifier)).precision == null) specifier.trim = true;\n      specifier = format(specifier);\n    }\n    if (count === Infinity) return specifier;\n    const k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return d => {\n      let i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = () => {\n    return domain(nice(domain(), {\n      floor: x => pows(Math.floor(logs(x))),\n      ceil: x => pows(Math.ceil(logs(x)))\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  const scale = loggish(transformer()).domain([1, 10]);\n  scale.copy = () => copy(scale, log()).base(scale.base());\n  initRange.apply(scale, arguments);\n  return scale;\n}\n", "import {linearish} from \"./linear.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformSymlog(c) {\n  return function(x) {\n    return Math.sign(x) * Math.log1p(Math.abs(x / c));\n  };\n}\n\nfunction transformSymexp(c) {\n  return function(x) {\n    return Math.sign(x) * Math.expm1(Math.abs(x)) * c;\n  };\n}\n\nexport function symlogish(transform) {\n  var c = 1, scale = transform(transformSymlog(c), transformSymexp(c));\n\n  scale.constant = function(_) {\n    return arguments.length ? transform(transformSymlog(c = +_), transformSymexp(c)) : c;\n  };\n\n  return linearish(scale);\n}\n\nexport default function symlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, symlog()).constant(scale.constant());\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "import {linearish} from \"./linear.js\";\nimport {copy, identity, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformPow(exponent) {\n  return function(x) {\n    return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n  };\n}\n\nfunction transformSqrt(x) {\n  return x < 0 ? -Math.sqrt(-x) : Math.sqrt(x);\n}\n\nfunction transformSquare(x) {\n  return x < 0 ? -x * x : x * x;\n}\n\nexport function powish(transform) {\n  var scale = transform(identity, identity),\n      exponent = 1;\n\n  function rescale() {\n    return exponent === 1 ? transform(identity, identity)\n        : exponent === 0.5 ? transform(transformSqrt, transformSquare)\n        : transform(transformPow(exponent), transformPow(1 / exponent));\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, rescale()) : exponent;\n  };\n\n  return linearish(scale);\n}\n\nexport default function pow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, pow()).exponent(scale.exponent());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n\nexport function sqrt() {\n  return pow.apply(null, arguments).exponent(0.5);\n}\n", "import {ascending, bisect, quantileSorted as threshold} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [],\n      unknown;\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (let d of _) if (d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "import {bisect} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      unknown,\n      n = 1;\n\n  function scale(x) {\n    return x != null && x <= x ? range[bisect(domain, x, 0, n)] : unknown;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return initRange.apply(scale, arguments);\n}\n", "const t0 = new Date, t1 = new Date;\n\nexport function timeInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = (date) => {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = (date) => {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = (date) => {\n    const d0 = interval(date), d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = (date, step) => {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = (start, stop, step) => {\n    const range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    let previous;\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = (test) => {\n    return timeInterval((date) => {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, (date, step) => {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = (start, end) => {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = (step) => {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? (d) => field(d) % step === 0\n              : (d) => interval.count(0, d) % step === 0);\n    };\n  }\n\n  return interval;\n}\n", "import {timeInterval} from \"./interval.js\";\n\nexport const millisecond = timeInterval(() => {\n  // noop\n}, (date, step) => {\n  date.setTime(+date + step);\n}, (start, end) => {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = (k) => {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return timeInterval((date) => {\n    date.setTime(Math.floor(date / k) * k);\n  }, (date, step) => {\n    date.setTime(+date + step * k);\n  }, (start, end) => {\n    return (end - start) / k;\n  });\n};\n\nexport const milliseconds = millisecond.range;\n", "export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nexport const second = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds());\n}, (date, step) => {\n  date.setTime(+date + step * durationSecond);\n}, (start, end) => {\n  return (end - start) / durationSecond;\n}, (date) => {\n  return date.getUTCSeconds();\n});\n\nexport const seconds = second.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeMinute = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getMinutes();\n});\n\nexport const timeMinutes = timeMinute.range;\n\nexport const utcMinute = timeInterval((date) => {\n  date.setUTCSeconds(0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationMinute);\n}, (start, end) => {\n  return (end - start) / durationMinute;\n}, (date) => {\n  return date.getUTCMinutes();\n});\n\nexport const utcMinutes = utcMinute.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nexport const timeHour = timeInterval((date) => {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getHours();\n});\n\nexport const timeHours = timeHour.range;\n\nexport const utcHour = timeInterval((date) => {\n  date.setUTCMinutes(0, 0, 0);\n}, (date, step) => {\n  date.setTime(+date + step * durationHour);\n}, (start, end) => {\n  return (end - start) / durationHour;\n}, (date) => {\n  return date.getUTCHours();\n});\n\nexport const utcHours = utcHour.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nexport const timeDay = timeInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport const timeDays = timeDay.range;\n\nexport const utcDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return date.getUTCDate() - 1;\n});\n\nexport const utcDays = utcDay.range;\n\nexport const unixDay = timeInterval((date) => {\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCDate(date.getUTCDate() + step);\n}, (start, end) => {\n  return (end - start) / durationDay;\n}, (date) => {\n  return Math.floor(date / durationDay);\n});\n\nexport const unixDays = unixDay.range;\n", "import {timeInterval} from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction timeWeekday(i) {\n  return timeInterval((date) => {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setDate(date.getDate() + step * 7);\n  }, (start, end) => {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport const timeSunday = timeWeekday(0);\nexport const timeMonday = timeWeekday(1);\nexport const timeTuesday = timeWeekday(2);\nexport const timeWednesday = timeWeekday(3);\nexport const timeThursday = timeWeekday(4);\nexport const timeFriday = timeWeekday(5);\nexport const timeSaturday = timeWeekday(6);\n\nexport const timeSundays = timeSunday.range;\nexport const timeMondays = timeMonday.range;\nexport const timeTuesdays = timeTuesday.range;\nexport const timeWednesdays = timeWednesday.range;\nexport const timeThursdays = timeThursday.range;\nexport const timeFridays = timeFriday.range;\nexport const timeSaturdays = timeSaturday.range;\n\nfunction utcWeekday(i) {\n  return timeInterval((date) => {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, (start, end) => {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport const utcSunday = utcWeekday(0);\nexport const utcMonday = utcWeekday(1);\nexport const utcTuesday = utcWeekday(2);\nexport const utcWednesday = utcWeekday(3);\nexport const utcThursday = utcWeekday(4);\nexport const utcFriday = utcWeekday(5);\nexport const utcSaturday = utcWeekday(6);\n\nexport const utcSundays = utcSunday.range;\nexport const utcMondays = utcMonday.range;\nexport const utcTuesdays = utcTuesday.range;\nexport const utcWednesdays = utcWednesday.range;\nexport const utcThursdays = utcThursday.range;\nexport const utcFridays = utcFriday.range;\nexport const utcSaturdays = utcSaturday.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeMonth = timeInterval((date) => {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setMonth(date.getMonth() + step);\n}, (start, end) => {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, (date) => {\n  return date.getMonth();\n});\n\nexport const timeMonths = timeMonth.range;\n\nexport const utcMonth = timeInterval((date) => {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, (start, end) => {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, (date) => {\n  return date.getUTCMonth();\n});\n\nexport const utcMonths = utcMonth.range;\n", "import {timeInterval} from \"./interval.js\";\n\nexport const timeYear = timeInterval((date) => {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setFullYear(date.getFullYear() + step);\n}, (start, end) => {\n  return end.getFullYear() - start.getFullYear();\n}, (date) => {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\ntimeYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport const timeYears = timeYear.range;\n\nexport const utcYear = timeInterval((date) => {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, (date, step) => {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, (start, end) => {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, (date) => {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = (k) => {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : timeInterval((date) => {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, (date, step) => {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport const utcYears = utcYear.range;\n", "import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport {millisecond} from \"./millisecond.js\";\nimport {second} from \"./second.js\";\nimport {timeMinute, utcMinute} from \"./minute.js\";\nimport {timeHour, utcHour} from \"./hour.js\";\nimport {timeDay, unixDay} from \"./day.js\";\nimport {timeSunday, utcSunday} from \"./week.js\";\nimport {timeMonth, utcMonth} from \"./month.js\";\nimport {timeYear, utcYear} from \"./year.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcSunday, unixDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(timeYear, timeMonth, timeSunday, timeDay, timeHour, timeMinute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n", "import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n", "import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n", "import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n", "import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n", "import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n", "import {interpolate, interpolateRound, piecewise} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {copy} from \"./sequential.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 0.5,\n      x2 = 1,\n      s = 1,\n      t0,\n      t1,\n      t2,\n      k10,\n      k21,\n      interpolator = identity,\n      transform,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return isNaN(x = +x) ? unknown : (x = 0.5 + ((x = +transform(x)) - t1) * (s * x < s * t1 ? k10 : k21), interpolator(clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1, x2] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), t2 = transform(x2 = +x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1, scale) : [x0, x1, x2];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1, r2;\n      return arguments.length ? ([r0, r1, r2] = _, interpolator = piecewise(interpolate, [r0, r1, r2]), scale) : [interpolator(0), interpolator(0.5), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), t2 = t(x2), k10 = t0 === t1 ? 0 : 0.5 / (t1 - t0), k21 = t1 === t2 ? 0 : 0.5 / (t2 - t1), s = t1 < t0 ? -1 : 1;\n    return scale;\n  };\n}\n\nexport default function diverging() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, diverging());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingLog() {\n  var scale = loggish(transformer()).domain([0.1, 1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, divergingLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, divergingPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function divergingSqrt() {\n  return divergingPow.apply(null, arguments).exponent(0.5);\n}\n", "export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n", "import colors from \"../colors.js\";\n\nexport default colors(\"4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab\");\n", "import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default scheme => interpolateRgbBasis(scheme[scheme.length - 1]);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n", "import colors from \"../colors.js\";\nimport ramp from \"../ramp.js\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(-4.54 - t * (35.34 - t * (2381.73 - t * (6402.7 - t * (7024.72 - t * 2710.57))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(32.49 + t * (170.73 + t * (52.82 - t * (131.46 - t * (176.58 - t * 67.37))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(81.24 + t * (442.36 - t * (2482.43 - t * (6167.24 - t * (6614.94 - t * 2475.67)))))))\n      + \")\";\n}\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n", "import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n", "import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n", "export default function(t) {\n  t = Math.max(0, Math.min(1, t));\n  return \"rgb(\"\n      + Math.max(0, Math.min(255, Math.round(34.61 + t * (1172.33 - t * (10793.56 - t * (33300.12 - t * (38394.49 - t * 14825.05))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(23.31 + t * (557.33 + t * (1225.33 - t * (3574.96 - t * (1073.77 + t * 707.56))))))) + \", \"\n      + Math.max(0, Math.min(255, Math.round(27.2 + t * (3211.1 - t * (15327.97 - t * (27814 - t * (22569.18 - t * 6838.66)))))))\n      + \")\";\n}\n", "import colors from \"../colors.js\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n", "export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n", "export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n", "import {Path} from \"d3-path\";\n\nexport function withPath(shape) {\n  let digits = 3;\n\n  shape.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) {\n      digits = null;\n    } else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    return shape;\n  };\n\n  return () => new Path(digits);\n}\n", "export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n", "function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n", "export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(line);\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n", "import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {withPath} from \"./path.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null,\n      path = withPath(area);\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n", "import pointRadial from \"../pointRadial.js\";\n\nclass Bump {\n  constructor(context, x) {\n    this._context = context;\n    this._x = x;\n  }\n  areaStart() {\n    this._line = 0;\n  }\n  areaEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  }\n  point(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: {\n        this._point = 1;\n        if (this._line) this._context.lineTo(x, y);\n        else this._context.moveTo(x, y);\n        break;\n      }\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._x) this._context.bezierCurveTo(this._x0 = (this._x0 + x) / 2, this._y0, this._x0, y, x, y);\n        else this._context.bezierCurveTo(this._x0, this._y0 = (this._y0 + y) / 2, x, this._y0, x, y);\n        break;\n      }\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nclass BumpRadial {\n  constructor(context) {\n    this._context = context;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {}\n  point(x, y) {\n    x = +x, y = +y;\n    if (this._point === 0) {\n      this._point = 1;\n    } else {\n      const p0 = pointRadial(this._x0, this._y0);\n      const p1 = pointRadial(this._x0, this._y0 = (this._y0 + y) / 2);\n      const p2 = pointRadial(x, this._y0);\n      const p3 = pointRadial(x, y);\n      this._context.moveTo(...p0);\n      this._context.bezierCurveTo(...p1, ...p2, ...p3);\n    }\n    this._x0 = x, this._y0 = y;\n  }\n}\n\nexport function bumpX(context) {\n  return new Bump(context, true);\n}\n\nexport function bumpY(context) {\n  return new Bump(context, false);\n}\n\nexport function bumpRadial(context) {\n  return new BumpRadial(context);\n}\n", "import {min, sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size + min(size / 28, 0.75)) * 0.59436;\n    const t = r / 2;\n    const u = t * sqrt3;\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n    context.moveTo(-u, -t);\n    context.lineTo(u, t);\n    context.moveTo(-u, t);\n    context.lineTo(u, -t);\n  }\n};\n", "import {pi, sqrt, tau} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst tan30 = sqrt(1 / 3);\nconst tan30_2 = tan30 * 2;\n\nexport default {\n  draw(context, size) {\n    const y = sqrt(size / tan30_2);\n    const x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.62625;\n    context.moveTo(0, -r);\n    context.lineTo(r, 0);\n    context.lineTo(0, r);\n    context.lineTo(-r, 0);\n    context.closePath();\n  }\n};\n", "import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 7, 2)) * 0.87559;\n    context.moveTo(-r, 0);\n    context.lineTo(r, 0);\n    context.moveTo(0, r);\n    context.lineTo(0, -r);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const w = sqrt(size);\n    const x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size) * 0.4431;\n    context.moveTo(r, r);\n    context.lineTo(r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, r);\n    context.closePath();\n  }\n};\n", "import {sin, cos, sqrt, pi, tau} from \"../math.js\";\n\nconst ka = 0.89081309152928522810;\nconst kr = sin(pi / 10) / sin(7 * pi / 10);\nconst kx = sin(tau / 10) * kr;\nconst ky = -cos(tau / 10) * kr;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size * ka);\n    const x = kx * r;\n    const y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (let i = 1; i < 5; ++i) {\n      const a = tau * i / 5;\n      const c = cos(a);\n      const s = sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const y = -sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst sqrt3 = sqrt(3);\n\nexport default {\n  draw(context, size) {\n    const s = sqrt(size) * 0.6824;\n    const t = s  / 2;\n    const u = (s * sqrt3) / 2; // cos(Math.PI / 6)\n    context.moveTo(0, -s);\n    context.lineTo(u, t);\n    context.lineTo(-u, t);\n    context.closePath();\n  }\n};\n", "import {sqrt} from \"../math.js\";\n\nconst c = -0.5;\nconst s = sqrt(3) / 2;\nconst k = 1 / sqrt(12);\nconst a = (k / 2 + 1) * 3;\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size / a);\n    const x0 = r / 2, y0 = r * k;\n    const x1 = x0, y1 = r * k + r;\n    const x2 = -x1, y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n", "import {min, sqrt} from \"../math.js\";\n\nexport default {\n  draw(context, size) {\n    const r = sqrt(size - min(size / 6, 1.7)) * 0.6189;\n    context.moveTo(-r, -r);\n    context.lineTo(r, r);\n    context.moveTo(-r, r);\n    context.lineTo(r, -r);\n  }\n};\n", "import constant from \"./constant.js\";\nimport {withPath} from \"./path.js\";\nimport asterisk from \"./symbol/asterisk.js\";\nimport circle from \"./symbol/circle.js\";\nimport cross from \"./symbol/cross.js\";\nimport diamond from \"./symbol/diamond.js\";\nimport diamond2 from \"./symbol/diamond2.js\";\nimport plus from \"./symbol/plus.js\";\nimport square from \"./symbol/square.js\";\nimport square2 from \"./symbol/square2.js\";\nimport star from \"./symbol/star.js\";\nimport triangle from \"./symbol/triangle.js\";\nimport triangle2 from \"./symbol/triangle2.js\";\nimport wye from \"./symbol/wye.js\";\nimport times from \"./symbol/times.js\";\n\n// These symbols are designed to be filled.\nexport const symbolsFill = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\n// These symbols are designed to be stroked (with a width of 1.5px and round caps).\nexport const symbolsStroke = [\n  circle,\n  plus,\n  times,\n  triangle2,\n  asterisk,\n  square2,\n  diamond2\n];\n\nexport default function Symbol(type, size) {\n  let context = null,\n      path = withPath(symbol);\n\n  type = typeof type === \"function\" ? type : constant(type || circle);\n  size = typeof size === \"function\" ? size : constant(size === undefined ? 64 : +size);\n\n  function symbol() {\n    let buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n", "export default function() {}\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // falls through\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n", "import noop from \"../noop.js\";\nimport {point} from \"./basis.js\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n", "import {point} from \"./basis.js\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n", "import {Basis} from \"./basis.js\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n", "export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import noop from \"../noop.js\";\nimport {point} from \"./cardinal.js\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {point} from \"./cardinal.js\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n", "import {epsilon} from \"../math.js\";\nimport {Cardinal} from \"./cardinal.js\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalClosed} from \"./cardinalClosed.js\";\nimport noop from \"../noop.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import {CardinalOpen} from \"./cardinalOpen.js\";\nimport {point} from \"./catmullRom.js\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // falls through\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n", "import noop from \"../noop.js\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n", "function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic B\u00E9zier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n", "function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n", "function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n", "export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n", "import {ascending, descending} from \"d3\";\n\nexport function defined(x) {\n  return x != null && !Number.isNaN(x);\n}\n\nexport function ascendingDefined(a, b) {\n  return +defined(b) - +defined(a) || ascending(a, b);\n}\n\nexport function descendingDefined(a, b) {\n  return +defined(b) - +defined(a) || descending(a, b);\n}\n\nexport function nonempty(x) {\n  return x != null && `${x}` !== \"\";\n}\n\nexport function finite(x) {\n  return isFinite(x) ? x : NaN;\n}\n\nexport function positive(x) {\n  return x > 0 && isFinite(x) ? x : NaN;\n}\n\nexport function negative(x) {\n  return x < 0 && isFinite(x) ? x : NaN;\n}\n", "export default function format(date, fallback) {\n  if (!(date instanceof Date)) date = new Date(+date);\n  if (isNaN(date)) return typeof fallback === \"function\" ? fallback(date) : fallback;\n  const hours = date.getUTCHours();\n  const minutes = date.getUTCMinutes();\n  const seconds = date.getUTCSeconds();\n  const milliseconds = date.getUTCMilliseconds();\n  return `${formatYear(date.getUTCFullYear(), 4)}-${pad(date.getUTCMonth() + 1, 2)}-${pad(date.getUTCDate(), 2)}${\n    hours || minutes || seconds || milliseconds ? `T${pad(hours, 2)}:${pad(minutes, 2)}${\n      seconds || milliseconds ? `:${pad(seconds, 2)}${\n        milliseconds ? `.${pad(milliseconds, 3)}` : ``\n      }` : ``\n    }Z` : ``\n  }`;\n}\n\nfunction formatYear(year) {\n  return year < 0 ? `-${pad(-year, 6)}`\n    : year > 9999 ? `+${pad(year, 6)}`\n    : pad(year, 4);\n}\n\nfunction pad(value, width) {\n  return `${value}`.padStart(width, \"0\");\n}\n", "const re = /^(?:[-+]\\d{2})?\\d{4}(?:-\\d{2}(?:-\\d{2})?)?(?:T\\d{2}:\\d{2}(?::\\d{2}(?:\\.\\d{3})?)?(?:Z|[-+]\\d{2}:?\\d{2})?)?$/;\n\nexport default function parse(string, fallback) {\n  if (!re.test(string += \"\")) return typeof fallback === \"function\" ? fallback(string) : fallback;\n  return new Date(string);\n}\n", "import {bisector, extent, median, pairs, timeFormat, utcFormat} from \"d3\";\nimport {utcSecond, utcMinute, utcHour, unixDay, utcWeek, utcMonth, utcYear} from \"d3\";\nimport {utcMonday, utcTuesday, utcWednesday, utcThursday, utcFriday, utcSaturday, utcSunday} from \"d3\";\nimport {timeSecond, timeMinute, timeHour, timeDay, timeWeek, timeMonth, timeYear} from \"d3\";\nimport {timeMonday, timeTuesday, timeWednesday, timeThursday, timeFriday, timeSaturday, timeSunday} from \"d3\";\nimport {orderof} from \"./options.js\";\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\n// See https://github.com/d3/d3-time/blob/9e8dc940f38f78d7588aad68a54a25b1f0c2d97b/src/ticks.js#L14-L33\nconst formats = [\n  [\"millisecond\", 0.5 * durationSecond],\n  [\"second\", durationSecond],\n  [\"second\", 30 * durationSecond],\n  [\"minute\", durationMinute],\n  [\"minute\", 30 * durationMinute],\n  [\"hour\", durationHour],\n  [\"hour\", 12 * durationHour],\n  [\"day\", durationDay],\n  [\"day\", 2 * durationDay],\n  [\"week\", durationWeek],\n  [\"month\", durationMonth],\n  [\"month\", 3 * durationMonth],\n  [\"year\", durationYear]\n];\n\nconst timeIntervals = new Map([\n  [\"second\", timeSecond],\n  [\"minute\", timeMinute],\n  [\"hour\", timeHour],\n  [\"day\", timeDay], // TODO local time equivalent of unixDay?\n  [\"week\", timeWeek],\n  [\"month\", timeMonth],\n  [\"year\", timeYear],\n  [\"monday\", timeMonday],\n  [\"tuesday\", timeTuesday],\n  [\"wednesday\", timeWednesday],\n  [\"thursday\", timeThursday],\n  [\"friday\", timeFriday],\n  [\"saturday\", timeSaturday],\n  [\"sunday\", timeSunday]\n]);\n\nconst utcIntervals = new Map([\n  [\"second\", utcSecond],\n  [\"minute\", utcMinute],\n  [\"hour\", utcHour],\n  [\"day\", unixDay],\n  [\"week\", utcWeek],\n  [\"month\", utcMonth],\n  [\"year\", utcYear],\n  [\"monday\", utcMonday],\n  [\"tuesday\", utcTuesday],\n  [\"wednesday\", utcWednesday],\n  [\"thursday\", utcThursday],\n  [\"friday\", utcFriday],\n  [\"saturday\", utcSaturday],\n  [\"sunday\", utcSunday]\n]);\n\nfunction parseInterval(input, intervals) {\n  let name = `${input}`.toLowerCase();\n  if (name.endsWith(\"s\")) name = name.slice(0, -1); // drop plural\n  let period = 1;\n  const match = /^(?:(\\d+)\\s+)/.exec(name);\n  if (match) {\n    name = name.slice(match[0].length);\n    period = +match[1];\n  }\n  switch (name) {\n    case \"quarter\":\n      name = \"month\";\n      period *= 3;\n      break;\n    case \"half\":\n      name = \"month\";\n      period *= 6;\n      break;\n  }\n  let interval = intervals.get(name);\n  if (!interval) throw new Error(`unknown interval: ${input}`);\n  if (!(period > 1)) return interval;\n  if (!interval.every) throw new Error(`non-periodic interval: ${name}`);\n  return interval.every(period);\n}\n\nexport function maybeTimeInterval(interval) {\n  return parseInterval(interval, timeIntervals);\n}\n\nexport function maybeUtcInterval(interval) {\n  return parseInterval(interval, utcIntervals);\n}\n\nexport function isUtcYear(i) {\n  if (!i) return false;\n  const date = i.floor(new Date(Date.UTC(2000, 11, 31)));\n  return utcYear(date) >= date; // coercing equality\n}\n\nexport function isTimeYear(i) {\n  if (!i) return false;\n  const date = i.floor(new Date(2000, 11, 31));\n  return timeYear(date) >= date; // coercing equality\n}\n\nexport function formatTimeTicks(scale, data, ticks, anchor) {\n  const format = scale.type === \"time\" ? timeFormat : utcFormat;\n  const template =\n    anchor === \"left\" || anchor === \"right\"\n      ? (f1, f2) => `\\n${f1}\\n${f2}` // extra newline to keep f1 centered\n      : anchor === \"top\"\n      ? (f1, f2) => `${f2}\\n${f1}`\n      : (f1, f2) => `${f1}\\n${f2}`;\n  switch (getTimeTicksInterval(scale, data, ticks)) {\n    case \"millisecond\":\n      return formatConditional(format(\".%L\"), format(\":%M:%S\"), template);\n    case \"second\":\n      return formatConditional(format(\":%S\"), format(\"%-I:%M\"), template);\n    case \"minute\":\n      return formatConditional(format(\"%-I:%M\"), format(\"%p\"), template);\n    case \"hour\":\n      return formatConditional(format(\"%-I %p\"), format(\"%b %-d\"), template);\n    case \"day\":\n      return formatConditional(format(\"%-d\"), format(\"%b\"), template);\n    case \"week\":\n      return formatConditional(format(\"%-d\"), format(\"%b\"), template);\n    case \"month\":\n      return formatConditional(format(\"%b\"), format(\"%Y\"), template);\n    case \"year\":\n      return format(\"%Y\");\n  }\n  throw new Error(\"unable to format time ticks\");\n}\n\n// Compute the median difference between adjacent ticks, ignoring repeated\n// ticks; this implies an effective time interval, assuming that ticks are\n// regularly spaced; choose the largest format less than this interval so that\n// the ticks show the field that is changing. If the ticks are not available,\n// fallback to an approximation based on the desired number of ticks.\nfunction getTimeTicksInterval(scale, data, ticks) {\n  const medianStep = median(pairs(data, (a, b) => Math.abs(b - a) || NaN));\n  if (medianStep > 0) return formats[bisector(([, step]) => step).right(formats, medianStep, 1, formats.length) - 1][0];\n  const [start, stop] = extent(scale.domain());\n  const count = typeof ticks === \"number\" ? ticks : 10;\n  const step = Math.abs(stop - start) / count;\n  return formats[bisector(([, step]) => Math.log(step)).center(formats, Math.log(step))][0];\n}\n\nfunction formatConditional(format1, format2, template) {\n  return (x, i, X) => {\n    const f1 = format1(x, i); // always shown\n    const f2 = format2(x, i); // only shown if different\n    const j = i - orderof(X); // detect reversed domains\n    return i !== j && X[j] !== undefined && f2 === format2(X[j], j) ? f1 : template(f1, f2);\n  };\n}\n", "import {color, descending, quantile, range as rangei} from \"d3\";\nimport {parse as isoParse} from \"isoformat\";\nimport {defined} from \"./defined.js\";\nimport {maybeTimeInterval, maybeUtcInterval} from \"./time.js\";\n\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\nexport const TypedArray = Object.getPrototypeOf(Uint8Array);\nconst objectToString = Object.prototype.toString;\n\nexport function valueof(data, value, type) {\n  const valueType = typeof value;\n  return valueType === \"string\"\n    ? maybeTypedMap(data, field(value), type)\n    : valueType === \"function\"\n    ? maybeTypedMap(data, value, type)\n    : valueType === \"number\" || value instanceof Date || valueType === \"boolean\"\n    ? map(data, constant(value), type)\n    : typeof value?.transform === \"function\"\n    ? maybeTypedArrayify(value.transform(data), type)\n    : maybeTypedArrayify(value, type);\n}\n\nfunction maybeTypedMap(data, f, type) {\n  return map(data, type?.prototype instanceof TypedArray ? floater(f) : f, type);\n}\n\nfunction maybeTypedArrayify(data, type) {\n  return type === undefined\n    ? arrayify(data) // preserve undefined type\n    : data instanceof type\n    ? data\n    : type.prototype instanceof TypedArray && !(data instanceof TypedArray)\n    ? type.from(data, coerceNumber)\n    : type.from(data);\n}\n\nfunction floater(f) {\n  return (d, i) => coerceNumber(f(d, i));\n}\n\nexport const singleton = [null]; // for data-less decoration marks, e.g. frame\nexport const field = (name) => (d) => d[name];\nexport const indexOf = {transform: range};\nexport const identity = {transform: (d) => d};\nexport const zero = () => 0;\nexport const one = () => 1;\nexport const yes = () => true;\nexport const string = (x) => (x == null ? x : `${x}`);\nexport const number = (x) => (x == null ? x : +x);\nexport const boolean = (x) => (x == null ? x : !!x);\nexport const first = (x) => (x ? x[0] : undefined);\nexport const second = (x) => (x ? x[1] : undefined);\nexport const third = (x) => (x ? x[2] : undefined);\nexport const constant = (x) => () => x;\n\n// Converts a string like \u201Cp25\u201D into a function that takes an index I and an\n// accessor function f, returning the corresponding percentile value.\nexport function percentile(reduce) {\n  const p = +`${reduce}`.slice(1) / 100;\n  return (I, f) => quantile(I, p, f);\n}\n\n// If the values are specified as a typed array, no coercion is required.\nexport function coerceNumbers(values) {\n  return values instanceof TypedArray ? values : map(values, coerceNumber, Float64Array);\n}\n\n// Unlike Mark\u2019s number, here we want to convert null and undefined to NaN since\n// the result will be stored in a Float64Array and we don\u2019t want null to be\n// coerced to zero. We use Number instead of unary + to allow BigInt coercion.\nfunction coerceNumber(x) {\n  return x == null ? NaN : Number(x);\n}\n\nexport function coerceDates(values) {\n  return map(values, coerceDate);\n}\n\n// When coercing strings to dates, we only want to allow the ISO 8601 format\n// since the built-in string parsing of the Date constructor varies across\n// browsers. (In the future, this could be made more liberal if desired, though\n// it is still generally preferable to do date parsing yourself explicitly,\n// rather than rely on Plot.) Any non-string values are coerced to number first\n// and treated as milliseconds since UNIX epoch.\nexport function coerceDate(x) {\n  return x instanceof Date && !isNaN(x)\n    ? x\n    : typeof x === \"string\"\n    ? isoParse(x)\n    : x == null || isNaN((x = +x))\n    ? undefined\n    : new Date(x);\n}\n\n// Some channels may allow a string constant to be specified; to differentiate\n// string constants (e.g., \"red\") from named fields (e.g., \"date\"), this\n// function tests whether the given value is a CSS color string and returns a\n// tuple [channel, constant] where one of the two is undefined, and the other is\n// the given value. If you wish to reference a named field that is also a valid\n// CSS color, use an accessor (d => d.red) instead.\nexport function maybeColorChannel(value, defaultValue) {\n  if (value === undefined) value = defaultValue;\n  return value === null ? [undefined, \"none\"] : isColor(value) ? [undefined, value] : [value, undefined];\n}\n\n// Similar to maybeColorChannel, this tests whether the given value is a number\n// indicating a constant, and otherwise assumes that it\u2019s a channel value.\nexport function maybeNumberChannel(value, defaultValue) {\n  if (value === undefined) value = defaultValue;\n  return value === null || typeof value === \"number\" ? [undefined, value] : [value, undefined];\n}\n\n// Validates the specified optional string against the allowed list of keywords.\nexport function maybeKeyword(input, name, allowed) {\n  if (input != null) return keyword(input, name, allowed);\n}\n\n// Validates the specified required string against the allowed list of keywords.\nexport function keyword(input, name, allowed) {\n  const i = `${input}`.toLowerCase();\n  if (!allowed.includes(i)) throw new Error(`invalid ${name}: ${input}`);\n  return i;\n}\n\n// Promotes the specified data to an array as needed.\nexport function arrayify(data) {\n  return data == null || data instanceof Array || data instanceof TypedArray ? data : Array.from(data);\n}\n\n// An optimization of type.from(values, f): if the given values are already an\n// instanceof the desired array type, the faster values.map method is used.\nexport function map(values, f, type = Array) {\n  return values == null ? values : values instanceof type ? values.map(f) : type.from(values, f);\n}\n\n// An optimization of type.from(values): if the given values are already an\n// instanceof the desired array type, the faster values.slice method is used.\nexport function slice(values, type = Array) {\n  return values instanceof type ? values.slice() : type.from(values);\n}\n\n// Returns true if any of x, x1, or x2 is not (strictly) undefined.\nexport function hasX({x, x1, x2}) {\n  return x !== undefined || x1 !== undefined || x2 !== undefined;\n}\n\n// Returns true if any of y, y1, or y2 is not (strictly) undefined.\nexport function hasY({y, y1, y2}) {\n  return y !== undefined || y1 !== undefined || y2 !== undefined;\n}\n\n// Returns true if has x or y, or if interval is not (strictly) undefined.\nexport function hasXY(options) {\n  return hasX(options) || hasY(options) || options.interval !== undefined;\n}\n\n// Disambiguates an options object (e.g., {y: \"x2\"}) from a primitive value.\nexport function isObject(option) {\n  return option?.toString === objectToString;\n}\n\n// Disambiguates a scale options object (e.g., {color: {type: \"linear\"}}) from\n// some other option (e.g., {color: \"red\"}). When creating standalone legends,\n// this is used to test whether a scale is defined; this should be consistent\n// with inferScaleType when there are no channels associated with the scale, and\n// if this returns true, then normalizeScale must return non-null.\nexport function isScaleOptions(option) {\n  return isObject(option) && (option.type !== undefined || option.domain !== undefined);\n}\n\n// Disambiguates an options object (e.g., {y: \"x2\"}) from a channel value\n// definition expressed as a channel transform (e.g., {transform: \u2026}).\nexport function isOptions(option) {\n  return isObject(option) && typeof option.transform !== \"function\";\n}\n\n// Disambiguates a sort transform (e.g., {sort: \"date\"}) from a channel domain\n// sort definition (e.g., {sort: {y: \"x\"}}).\nexport function isDomainSort(sort) {\n  return isOptions(sort) && sort.value === undefined && sort.channel === undefined;\n}\n\n// For marks specified either as [0, x] or [x1, x2], such as areas and bars.\nexport function maybeZero(x, x1, x2, x3 = identity) {\n  if (x1 === undefined && x2 === undefined) {\n    // {x} or {}\n    (x1 = 0), (x2 = x === undefined ? x3 : x);\n  } else if (x1 === undefined) {\n    // {x, x2} or {x2}\n    x1 = x === undefined ? 0 : x;\n  } else if (x2 === undefined) {\n    // {x, x1} or {x1}\n    x2 = x === undefined ? 0 : x;\n  }\n  return [x1, x2];\n}\n\n// For marks that have x and y channels (e.g., cell, dot, line, text).\nexport function maybeTuple(x, y) {\n  return x === undefined && y === undefined ? [first, second] : [x, y];\n}\n\n// A helper for extracting the z channel, if it is variable. Used by transforms\n// that require series, such as moving average and normalize.\nexport function maybeZ({z, fill, stroke} = {}) {\n  if (z === undefined) [z] = maybeColorChannel(fill);\n  if (z === undefined) [z] = maybeColorChannel(stroke);\n  return z;\n}\n\n// Returns a Uint32Array with elements [0, 1, 2, \u2026 data.length - 1].\nexport function range(data) {\n  const n = data.length;\n  const r = new Uint32Array(n);\n  for (let i = 0; i < n; ++i) r[i] = i;\n  return r;\n}\n\n// Returns a filtered range of data given the test function.\nexport function where(data, test) {\n  return range(data).filter((i) => test(data[i], i, data));\n}\n\n// Returns an array [values[index[0]], values[index[1]], \u2026].\nexport function take(values, index) {\n  return map(index, (i) => values[i]);\n}\n\n// If f does not take exactly one argument, wraps it in a function that uses take.\nexport function taker(f) {\n  return f.length === 1 ? (index, values) => f(take(values, index)) : f;\n}\n\n// Uses subarray if available, and otherwise slice.\nexport function subarray(I, i, j) {\n  return I.subarray ? I.subarray(i, j) : I.slice(i, j);\n}\n\n// Based on InternMap (d3.group).\nexport function keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n\nexport function maybeInput(key, options) {\n  if (options[key] !== undefined) return options[key];\n  switch (key) {\n    case \"x1\":\n    case \"x2\":\n      key = \"x\";\n      break;\n    case \"y1\":\n    case \"y2\":\n      key = \"y\";\n      break;\n  }\n  return options[key];\n}\n\nexport function column(source) {\n  // Defines a column whose values are lazily populated by calling the returned\n  // setter. If the given source is labeled, the label is propagated to the\n  // returned column definition.\n  let value;\n  return [\n    {\n      transform: () => value,\n      label: labelof(source)\n    },\n    (v) => (value = v)\n  ];\n}\n\n// Like column, but allows the source to be null.\nexport function maybeColumn(source) {\n  return source == null ? [source] : column(source);\n}\n\nexport function labelof(value, defaultValue) {\n  return typeof value === \"string\" ? value : value && value.label !== undefined ? value.label : defaultValue;\n}\n\n// Assuming that both x1 and x2 and lazy columns (per above), this derives a new\n// a column that\u2019s the average of the two, and which inherits the column label\n// (if any). Both input columns are assumed to be quantitative. If either column\n// is temporal, the returned column is also temporal.\nexport function mid(x1, x2) {\n  return {\n    transform(data) {\n      const X1 = x1.transform(data);\n      const X2 = x2.transform(data);\n      return isTemporal(X1) || isTemporal(X2)\n        ? map(X1, (_, i) => new Date((+X1[i] + +X2[i]) / 2))\n        : map(X1, (_, i) => (+X1[i] + +X2[i]) / 2, Float64Array);\n    },\n    label: x1.label\n  };\n}\n\n// If the scale options declare an interval, applies it to the values V.\nexport function maybeApplyInterval(V, scale) {\n  const t = maybeIntervalTransform(scale?.interval, scale?.type);\n  return t ? map(V, t) : V;\n}\n\n// Returns the equivalent scale transform for the specified interval option.\nexport function maybeIntervalTransform(interval, type) {\n  const i = maybeInterval(interval, type);\n  return i && ((v) => (defined(v) ? i.floor(v) : v));\n}\n\n// If interval is not nullish, converts interval shorthand such as a number (for\n// multiples) or a time interval name (such as \u201Cday\u201D) to a {floor, offset,\n// range} object similar to a D3 time interval.\nexport function maybeInterval(interval, type) {\n  if (interval == null) return;\n  if (typeof interval === \"number\") {\n    if (0 < interval && interval < 1 && Number.isInteger(1 / interval)) interval = -1 / interval;\n    const n = Math.abs(interval);\n    return interval < 0\n      ? {\n          floor: (d) => Math.floor(d * n) / n,\n          offset: (d) => (d * n + 1) / n, // note: no optional step for simplicity\n          range: (lo, hi) => rangei(Math.ceil(lo * n), hi * n).map((x) => x / n)\n        }\n      : {\n          floor: (d) => Math.floor(d / n) * n,\n          offset: (d) => d + n, // note: no optional step for simplicity\n          range: (lo, hi) => rangei(Math.ceil(lo / n), hi / n).map((x) => x * n)\n        };\n  }\n  if (typeof interval === \"string\") return (type === \"time\" ? maybeTimeInterval : maybeUtcInterval)(interval);\n  if (typeof interval.floor !== \"function\") throw new Error(\"invalid interval; missing floor method\");\n  if (typeof interval.offset !== \"function\") throw new Error(\"invalid interval; missing offset method\");\n  return interval;\n}\n\n// Like maybeInterval, but requires a range method too.\nexport function maybeRangeInterval(interval, type) {\n  interval = maybeInterval(interval, type);\n  if (interval && typeof interval.range !== \"function\") throw new Error(\"invalid interval: missing range method\");\n  return interval;\n}\n\n// Like maybeRangeInterval, but requires a ceil method too.\nexport function maybeNiceInterval(interval, type) {\n  interval = maybeRangeInterval(interval, type);\n  if (interval && typeof interval.ceil !== \"function\") throw new Error(\"invalid interval: missing ceil method\");\n  return interval;\n}\n\n// This distinguishes between per-dimension options and a standalone value.\nexport function maybeValue(value) {\n  return value === undefined || isOptions(value) ? value : {value};\n}\n\n// Coerces the given channel values (if any) to numbers. This is useful when\n// values will be interpolated into other code, such as an SVG transform, and\n// where we don\u2019t wish to allow unexpected behavior for weird input.\nexport function numberChannel(source) {\n  return source == null\n    ? null\n    : {\n        transform: (data) => valueof(data, source, Float64Array),\n        label: labelof(source)\n      };\n}\n\nexport function isTuples(data) {\n  if (!isIterable(data)) return false;\n  for (const d of data) {\n    if (d == null) continue;\n    return typeof d === \"object\" && \"0\" in d && \"1\" in d;\n  }\n}\n\nexport function isIterable(value) {\n  return value && typeof value[Symbol.iterator] === \"function\";\n}\n\nexport function isTextual(values) {\n  for (const value of values) {\n    if (value == null) continue;\n    return typeof value !== \"object\" || value instanceof Date;\n  }\n}\n\nexport function isOrdinal(values) {\n  for (const value of values) {\n    if (value == null) continue;\n    const type = typeof value;\n    return type === \"string\" || type === \"boolean\";\n  }\n}\n\nexport function isTemporal(values) {\n  for (const value of values) {\n    if (value == null) continue;\n    return value instanceof Date;\n  }\n}\n\n// Are these strings that might represent dates? This is stricter than ISO 8601\n// because we want to ignore false positives on numbers; for example, the string\n// \"1192\" is more likely to represent a number than a date even though it is\n// valid ISO 8601 representing 1192-01-01.\nexport function isTemporalString(values) {\n  for (const value of values) {\n    if (value == null) continue;\n    return typeof value === \"string\" && isNaN(value) && isoParse(value);\n  }\n}\n\n// Are these strings that might represent numbers? This is stricter than\n// coercion because we want to ignore false positives on e.g. empty strings.\nexport function isNumericString(values) {\n  for (const value of values) {\n    if (value == null) continue;\n    if (typeof value !== \"string\") return false;\n    if (!value.trim()) continue;\n    return !isNaN(value);\n  }\n}\n\nexport function isNumeric(values) {\n  for (const value of values) {\n    if (value == null) continue;\n    return typeof value === \"number\";\n  }\n}\n\n// Returns true if every non-null value in the specified iterable of values\n// passes the specified predicate, and there is at least one non-null value;\n// returns false if at least one non-null value does not pass the specified\n// predicate; otherwise returns undefined (as if all values are null).\nexport function isEvery(values, is) {\n  let every;\n  for (const value of values) {\n    if (value == null) continue;\n    if (!is(value)) return false;\n    every = true;\n  }\n  return every;\n}\n\n// Mostly relies on d3-color, with a few extra color keywords. Currently this\n// strictly requires that the value be a string; we might want to apply string\n// coercion here, though note that d3-color instances would need to support\n// valueOf to work correctly with InternMap.\n// https://www.w3.org/TR/SVG11/painting.html#SpecifyingPaint\nexport function isColor(value) {\n  if (typeof value !== \"string\") return false;\n  value = value.toLowerCase().trim();\n  return (\n    value === \"none\" ||\n    value === \"currentcolor\" ||\n    (value.startsWith(\"url(\") && value.endsWith(\")\")) || // <funciri>, e.g. pattern or gradient\n    (value.startsWith(\"var(\") && value.endsWith(\")\")) || // CSS variable\n    color(value) !== null\n  );\n}\n\nexport function isOpacity(value) {\n  return typeof value === \"number\" && ((0 <= value && value <= 1) || isNaN(value));\n}\n\nexport function isNoneish(value) {\n  return value == null || isNone(value);\n}\n\nexport function isNone(value) {\n  return /^\\s*none\\s*$/i.test(value);\n}\n\nexport function isRound(value) {\n  return /^\\s*round\\s*$/i.test(value);\n}\n\nexport function maybeAnchor(value, name) {\n  return maybeKeyword(value, name, [\n    \"middle\",\n    \"top-left\",\n    \"top\",\n    \"top-right\",\n    \"right\",\n    \"bottom-right\",\n    \"bottom\",\n    \"bottom-left\",\n    \"left\"\n  ]);\n}\n\nexport function maybeFrameAnchor(value = \"middle\") {\n  return maybeAnchor(value, \"frameAnchor\");\n}\n\n// Like a sort comparator, returns a positive value if the given array of values\n// is in ascending order, a negative value if the values are in descending\n// order. Assumes monotonicity; only tests the first and last values.\nexport function orderof(values) {\n  if (values == null) return;\n  const first = values[0];\n  const last = values[values.length - 1];\n  return descending(first, last);\n}\n\n// Unlike {...defaults, ...options}, this ensures that any undefined (but\n// present) properties in options inherit the given default value.\nexport function inherit(options = {}, ...rest) {\n  let o = options;\n  for (const defaults of rest) {\n    for (const key in defaults) {\n      if (o[key] === undefined) {\n        const value = defaults[key];\n        if (o === options) o = {...o, [key]: value};\n        else o[key] = value;\n      }\n    }\n  }\n  return o;\n}\n\n// Given an iterable of named things (objects with a name property), returns a\n// corresponding object with properties associated with the given name.\nexport function named(things) {\n  console.warn(\"named iterables are deprecated; please use an object instead\");\n  const names = new Set();\n  return Object.fromEntries(\n    Array.from(things, (thing) => {\n      const {name} = thing;\n      if (name == null) throw new Error(\"missing name\");\n      const key = `${name}`;\n      if (key === \"__proto__\") throw new Error(`illegal name: ${key}`);\n      if (names.has(key)) throw new Error(`duplicate name: ${key}`);\n      names.add(key);\n      return [name, thing];\n    })\n  );\n}\n\nexport function maybeNamed(things) {\n  return isIterable(things) ? named(things) : things;\n}\n", "// Positional scales have associated axes, and for ordinal data, a point or band\n// scale is used instead of an ordinal scale.\nexport const position = Symbol(\"position\");\n\n// Color scales default to the turbo interpolator for quantitative data, and to\n// the Tableau10 scheme for ordinal data. Color scales may also have an\n// associated legend.\nexport const color = Symbol(\"color\");\n\n// Radius scales default to the sqrt type, have a default range of [0, 3], and a\n// default domain from 0 to the median first quartile of associated channels.\nexport const radius = Symbol(\"radius\");\n\n// Length scales default to the linear type, have a default range of [0, 12],\n// and a default domain from 0 to the median median of associated channels.\nexport const length = Symbol(\"length\");\n\n// Opacity scales have a default range of [0, 1], and a default domain from 0 to\n// the maximum value of associated channels.\nexport const opacity = Symbol(\"opacity\");\n\n// Symbol scales have a default range of categorical symbols.\nexport const symbol = Symbol(\"symbol\");\n\n// There isn\u2019t really a projection scale; this represents x and y for geometry.\nexport const projection = Symbol(\"projection\");\n\n// TODO Rather than hard-coding the list of known scale names, collect the names\n// and categories for each plot specification, so that custom marks can register\n// custom scales.\nexport const registry = new Map([\n  [\"x\", position],\n  [\"y\", position],\n  [\"fx\", position],\n  [\"fy\", position],\n  [\"r\", radius],\n  [\"color\", color],\n  [\"opacity\", opacity],\n  [\"symbol\", symbol],\n  [\"length\", length],\n  [\"projection\", projection]\n]);\n", "import {symbolAsterisk, symbolDiamond2, symbolPlus, symbolSquare2, symbolTriangle2, symbolTimes} from \"d3\";\nimport {symbolCircle, symbolCross, symbolDiamond, symbolSquare, symbolStar, symbolTriangle, symbolWye} from \"d3\";\n\nexport const sqrt3 = Math.sqrt(3);\nexport const sqrt4_3 = 2 / sqrt3;\n\nconst symbolHexagon = {\n  draw(context, size) {\n    const rx = Math.sqrt(size / Math.PI),\n      ry = rx * sqrt4_3,\n      hy = ry / 2;\n    context.moveTo(0, ry);\n    context.lineTo(rx, hy);\n    context.lineTo(rx, -hy);\n    context.lineTo(0, -ry);\n    context.lineTo(-rx, -hy);\n    context.lineTo(-rx, hy);\n    context.closePath();\n  }\n};\n\nconst symbols = new Map([\n  [\"asterisk\", symbolAsterisk],\n  [\"circle\", symbolCircle],\n  [\"cross\", symbolCross],\n  [\"diamond\", symbolDiamond],\n  [\"diamond2\", symbolDiamond2],\n  [\"hexagon\", symbolHexagon],\n  [\"plus\", symbolPlus],\n  [\"square\", symbolSquare],\n  [\"square2\", symbolSquare2],\n  [\"star\", symbolStar],\n  [\"times\", symbolTimes],\n  [\"triangle\", symbolTriangle],\n  [\"triangle2\", symbolTriangle2],\n  [\"wye\", symbolWye]\n]);\n\nfunction isSymbolObject(value) {\n  return value && typeof value.draw === \"function\";\n}\n\nexport function isSymbol(value) {\n  if (isSymbolObject(value)) return true;\n  if (typeof value !== \"string\") return false;\n  return symbols.has(value.toLowerCase());\n}\n\nexport function maybeSymbol(symbol) {\n  if (symbol == null || isSymbolObject(symbol)) return symbol;\n  const value = symbols.get(`${symbol}`.toLowerCase());\n  if (value) return value;\n  throw new Error(`invalid symbol: ${symbol}`);\n}\n\nexport function maybeSymbolChannel(symbol) {\n  if (symbol == null || isSymbolObject(symbol)) return [undefined, symbol];\n  if (typeof symbol === \"string\") {\n    const value = symbols.get(`${symbol}`.toLowerCase());\n    if (value) return [undefined, value];\n  }\n  return [symbol, undefined];\n}\n", "import {randomLcg} from \"d3\";\nimport {ascendingDefined, descendingDefined} from \"../defined.js\";\nimport {arrayify, isDomainSort, isOptions, maybeValue, valueof} from \"../options.js\";\n\nexport function basic({filter: f1, sort: s1, reverse: r1, transform: t1, initializer: i1, ...options} = {}, transform) {\n  // If both t1 and t2 are defined, returns a composite transform that first\n  // applies t1 and then applies t2.\n  if (t1 === undefined) {\n    // explicit transform overrides filter, sort, and reverse\n    if (f1 != null) t1 = filterTransform(f1);\n    if (s1 != null && !isDomainSort(s1)) t1 = composeTransform(t1, sortTransform(s1));\n    if (r1) t1 = composeTransform(t1, reverseTransform);\n  }\n  if (transform != null && i1 != null) throw new Error(\"transforms cannot be applied after initializers\");\n  return {\n    ...options,\n    ...((s1 === null || isDomainSort(s1)) && {sort: s1}),\n    transform: composeTransform(t1, transform)\n  };\n}\n\nexport function initializer({filter: f1, sort: s1, reverse: r1, initializer: i1, ...options} = {}, initializer) {\n  // If both i1 and i2 are defined, returns a composite initializer that first\n  // applies i1 and then applies i2.\n  if (i1 === undefined) {\n    // explicit initializer overrides filter, sort, and reverse\n    if (f1 != null) i1 = filterTransform(f1);\n    if (s1 != null && !isDomainSort(s1)) i1 = composeInitializer(i1, sortTransform(s1));\n    if (r1) i1 = composeInitializer(i1, reverseTransform);\n  }\n  return {\n    ...options,\n    ...((s1 === null || isDomainSort(s1)) && {sort: s1}),\n    initializer: composeInitializer(i1, initializer)\n  };\n}\n\nfunction composeTransform(t1, t2) {\n  if (t1 == null) return t2 === null ? undefined : t2;\n  if (t2 == null) return t1 === null ? undefined : t1;\n  return function (data, facets, plotOptions) {\n    ({data, facets} = t1.call(this, data, facets, plotOptions));\n    return t2.call(this, arrayify(data), facets, plotOptions);\n  };\n}\n\nfunction composeInitializer(i1, i2) {\n  if (i1 == null) return i2 === null ? undefined : i2;\n  if (i2 == null) return i1 === null ? undefined : i1;\n  return function (data, facets, channels, ...args) {\n    let c1, d1, f1, c2, d2, f2;\n    ({data: d1 = data, facets: f1 = facets, channels: c1} = i1.call(this, data, facets, channels, ...args));\n    ({data: d2 = d1, facets: f2 = f1, channels: c2} = i2.call(this, d1, f1, {...channels, ...c1}, ...args));\n    return {data: d2, facets: f2, channels: {...c1, ...c2}};\n  };\n}\n\nfunction apply(options, t) {\n  return (options.initializer != null ? initializer : basic)(options, t);\n}\n\nexport function filter(test, options) {\n  return apply(options, filterTransform(test));\n}\n\nfunction filterTransform(value) {\n  return (data, facets) => {\n    const V = valueof(data, value);\n    return {data, facets: facets.map((I) => I.filter((i) => V[i]))};\n  };\n}\n\nexport function reverse({sort, ...options} = {}) {\n  return {\n    ...apply(options, reverseTransform),\n    sort: isDomainSort(sort) ? sort : null\n  };\n}\n\nfunction reverseTransform(data, facets) {\n  return {data, facets: facets.map((I) => I.slice().reverse())};\n}\n\nexport function shuffle({seed, sort, ...options} = {}) {\n  return {\n    ...apply(options, sortValue(seed == null ? Math.random : randomLcg(seed))),\n    sort: isDomainSort(sort) ? sort : null\n  };\n}\n\nexport function sort(order, {sort, ...options} = {}) {\n  return {\n    ...(isOptions(order) && order.channel !== undefined ? initializer : apply)(options, sortTransform(order)),\n    sort: isDomainSort(sort) ? sort : null\n  };\n}\n\nfunction sortTransform(value) {\n  return (typeof value === \"function\" && value.length !== 1 ? sortData : sortValue)(value);\n}\n\nfunction sortData(compare) {\n  return (data, facets) => {\n    const compareData = (i, j) => compare(data[i], data[j]);\n    return {data, facets: facets.map((I) => I.slice().sort(compareData))};\n  };\n}\n\nfunction sortValue(value) {\n  let channel, order;\n  ({channel, value, order} = {...maybeValue(value)});\n  const negate = channel?.startsWith(\"-\");\n  if (negate) channel = channel.slice(1);\n  if (order === undefined) order = negate ? descendingDefined : ascendingDefined;\n  if (typeof order !== \"function\") {\n    switch (`${order}`.toLowerCase()) {\n      case \"ascending\":\n        order = ascendingDefined;\n        break;\n      case \"descending\":\n        order = descendingDefined;\n        break;\n      default:\n        throw new Error(`invalid order: ${order}`);\n    }\n  }\n  return (data, facets, channels) => {\n    let V;\n    if (channel === undefined) {\n      V = valueof(data, value);\n    } else {\n      if (channels === undefined) throw new Error(\"channel sort requires an initializer\");\n      V = channels[channel];\n      if (!V) return {}; // ignore missing channel\n      V = V.value;\n    }\n    const compareValue = (i, j) => order(V[i], V[j]);\n    return {data, facets: facets.map((I) => I.slice().sort(compareValue))};\n  };\n}\n", "import {\n  InternSet,\n  deviation,\n  group as grouper,\n  max,\n  maxIndex,\n  mean,\n  median,\n  min,\n  minIndex,\n  mode,\n  rollup,\n  sort,\n  sum,\n  variance\n} from \"d3\";\nimport {ascendingDefined} from \"../defined.js\";\nimport {\n  column,\n  first,\n  identity,\n  isObject,\n  isTemporal,\n  labelof,\n  maybeApplyInterval,\n  maybeColorChannel,\n  maybeColumn,\n  maybeInput,\n  maybeTuple,\n  percentile,\n  range,\n  second,\n  take,\n  valueof\n} from \"../options.js\";\nimport {basic} from \"./basic.js\";\n\n// Group on {z, fill, stroke}.\nexport function groupZ(outputs, options) {\n  return groupn(null, null, outputs, options);\n}\n\n// Group on {z, fill, stroke}, then on x.\nexport function groupX(outputs = {y: \"count\"}, options = {}) {\n  const {x = identity} = options;\n  if (x == null) throw new Error(\"missing channel: x\");\n  return groupn(x, null, outputs, options);\n}\n\n// Group on {z, fill, stroke}, then on y.\nexport function groupY(outputs = {x: \"count\"}, options = {}) {\n  const {y = identity} = options;\n  if (y == null) throw new Error(\"missing channel: y\");\n  return groupn(null, y, outputs, options);\n}\n\n// Group on {z, fill, stroke}, then on x and y.\nexport function group(outputs = {fill: \"count\"}, options = {}) {\n  let {x, y} = options;\n  [x, y] = maybeTuple(x, y);\n  if (x == null) throw new Error(\"missing channel: x\");\n  if (y == null) throw new Error(\"missing channel: y\");\n  return groupn(x, y, outputs, options);\n}\n\nfunction groupn(\n  x, // optionally group on x\n  y, // optionally group on y\n  {\n    data: reduceData = reduceIdentity,\n    filter,\n    sort,\n    reverse,\n    ...outputs // output channel definitions\n  } = {},\n  inputs = {} // input channels and options\n) {\n  // Compute the outputs.\n  outputs = maybeOutputs(outputs, inputs);\n  reduceData = maybeReduce(reduceData, identity);\n  sort = sort == null ? undefined : maybeOutput(\"sort\", sort, inputs);\n  filter = filter == null ? undefined : maybeEvaluator(\"filter\", filter, inputs);\n\n  // Produce x and y output channels as appropriate.\n  const [GX, setGX] = maybeColumn(x);\n  const [GY, setGY] = maybeColumn(y);\n\n  // Greedily materialize the z, fill, and stroke channels (if channels and not\n  // constants) so that we can reference them for subdividing groups without\n  // computing them more than once.\n  const {\n    z,\n    fill,\n    stroke,\n    x1,\n    x2, // consumed if x is an output\n    y1,\n    y2, // consumed if y is an output\n    ...options\n  } = inputs;\n  const [GZ, setGZ] = maybeColumn(z);\n  const [vfill] = maybeColorChannel(fill);\n  const [vstroke] = maybeColorChannel(stroke);\n  const [GF, setGF] = maybeColumn(vfill);\n  const [GS, setGS] = maybeColumn(vstroke);\n\n  return {\n    ...(\"z\" in inputs && {z: GZ || z}),\n    ...(\"fill\" in inputs && {fill: GF || fill}),\n    ...(\"stroke\" in inputs && {stroke: GS || stroke}),\n    ...basic(options, (data, facets, plotOptions) => {\n      const X = maybeApplyInterval(valueof(data, x), plotOptions?.x);\n      const Y = maybeApplyInterval(valueof(data, y), plotOptions?.y);\n      const Z = valueof(data, z);\n      const F = valueof(data, vfill);\n      const S = valueof(data, vstroke);\n      const G = maybeSubgroup(outputs, {z: Z, fill: F, stroke: S});\n      const groupFacets = [];\n      const groupData = [];\n      const GX = X && setGX([]);\n      const GY = Y && setGY([]);\n      const GZ = Z && setGZ([]);\n      const GF = F && setGF([]);\n      const GS = S && setGS([]);\n      let i = 0;\n      for (const o of outputs) o.initialize(data);\n      if (sort) sort.initialize(data);\n      if (filter) filter.initialize(data);\n      for (const facet of facets) {\n        const groupFacet = [];\n        for (const o of outputs) o.scope(\"facet\", facet);\n        if (sort) sort.scope(\"facet\", facet);\n        if (filter) filter.scope(\"facet\", facet);\n        for (const [f, I] of maybeGroup(facet, G)) {\n          for (const [y, gg] of maybeGroup(I, Y)) {\n            for (const [x, g] of maybeGroup(gg, X)) {\n              if (filter && !filter.reduce(g)) continue;\n              groupFacet.push(i++);\n              groupData.push(reduceData.reduceIndex(g, data));\n              if (X) GX.push(x);\n              if (Y) GY.push(y);\n              if (Z) GZ.push(G === Z ? f : Z[g[0]]);\n              if (F) GF.push(G === F ? f : F[g[0]]);\n              if (S) GS.push(G === S ? f : S[g[0]]);\n              for (const o of outputs) o.reduce(g);\n              if (sort) sort.reduce(g);\n            }\n          }\n        }\n        groupFacets.push(groupFacet);\n      }\n      maybeSort(groupFacets, sort, reverse);\n      return {data: groupData, facets: groupFacets};\n    }),\n    ...(!hasOutput(outputs, \"x\") && (GX ? {x: GX} : {x1, x2})),\n    ...(!hasOutput(outputs, \"y\") && (GY ? {y: GY} : {y1, y2})),\n    ...Object.fromEntries(outputs.map(({name, output}) => [name, output]))\n  };\n}\n\nexport function hasOutput(outputs, ...names) {\n  for (const {name} of outputs) {\n    if (names.includes(name)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nexport function maybeOutputs(outputs, inputs, asOutput = maybeOutput) {\n  const entries = Object.entries(outputs);\n  // Propagate standard mark channels by default.\n  if (inputs.title != null && outputs.title === undefined) entries.push([\"title\", reduceTitle]);\n  if (inputs.href != null && outputs.href === undefined) entries.push([\"href\", reduceFirst]);\n  return entries\n    .filter(([, reduce]) => reduce !== undefined)\n    .map(([name, reduce]) => (reduce === null ? nullOutput(name) : asOutput(name, reduce, inputs)));\n}\n\nexport function maybeOutput(name, reduce, inputs, asEvaluator = maybeEvaluator) {\n  let scale; // optional per-channel scale override\n  if (isObject(reduce) && \"reduce\" in reduce) (scale = reduce.scale), (reduce = reduce.reduce); // N.B. array.reduce\n  const evaluator = asEvaluator(name, reduce, inputs);\n  const [output, setOutput] = column(evaluator.label);\n  let O;\n  return {\n    name,\n    output: scale === undefined ? output : {value: output, scale},\n    initialize(data) {\n      evaluator.initialize(data);\n      O = setOutput([]);\n    },\n    scope(scope, I) {\n      evaluator.scope(scope, I);\n    },\n    reduce(I, extent) {\n      O.push(evaluator.reduce(I, extent));\n    }\n  };\n}\n\nfunction nullOutput(name) {\n  return {name, initialize() {}, scope() {}, reduce() {}};\n}\n\nexport function maybeEvaluator(name, reduce, inputs, asReduce = maybeReduce) {\n  const input = maybeInput(name, inputs);\n  const reducer = asReduce(reduce, input);\n  let V, context;\n  return {\n    label: labelof(reducer === reduceCount ? null : input, reducer.label),\n    initialize(data) {\n      V = input === undefined ? data : valueof(data, input);\n      if (reducer.scope === \"data\") {\n        context = reducer.reduceIndex(range(data), V);\n      }\n    },\n    scope(scope, I) {\n      if (reducer.scope === scope) {\n        context = reducer.reduceIndex(I, V);\n      }\n    },\n    reduce(I, extent) {\n      return reducer.scope == null ? reducer.reduceIndex(I, V, extent) : reducer.reduceIndex(I, V, context, extent);\n    }\n  };\n}\n\nexport function maybeGroup(I, X) {\n  return X\n    ? sort(\n        grouper(I, (i) => X[i]),\n        first\n      )\n    : [[, I]];\n}\n\nexport function maybeReduce(reduce, value, fallback = invalidReduce) {\n  if (reduce == null) return fallback(reduce);\n  if (typeof reduce.reduceIndex === \"function\") return reduce;\n  if (typeof reduce.reduce === \"function\" && isObject(reduce)) return reduceReduce(reduce); // N.B. array.reduce\n  if (typeof reduce === \"function\") return reduceFunction(reduce);\n  if (/^p\\d{2}$/i.test(reduce)) return reduceAccessor(percentile(reduce));\n  switch (`${reduce}`.toLowerCase()) {\n    case \"first\":\n      return reduceFirst;\n    case \"last\":\n      return reduceLast;\n    case \"identity\":\n      return reduceIdentity;\n    case \"count\":\n      return reduceCount;\n    case \"distinct\":\n      return reduceDistinct;\n    case \"sum\":\n      return value == null ? reduceCount : reduceSum;\n    case \"proportion\":\n      return reduceProportion(value, \"data\");\n    case \"proportion-facet\":\n      return reduceProportion(value, \"facet\");\n    case \"deviation\":\n      return reduceAccessor(deviation);\n    case \"min\":\n      return reduceAccessor(min);\n    case \"min-index\":\n      return reduceAccessor(minIndex);\n    case \"max\":\n      return reduceAccessor(max);\n    case \"max-index\":\n      return reduceAccessor(maxIndex);\n    case \"mean\":\n      return reduceMaybeTemporalAccessor(mean);\n    case \"median\":\n      return reduceMaybeTemporalAccessor(median);\n    case \"variance\":\n      return reduceAccessor(variance);\n    case \"mode\":\n      return reduceAccessor(mode);\n  }\n  return fallback(reduce);\n}\n\nfunction invalidReduce(reduce) {\n  throw new Error(`invalid reduce: ${reduce}`);\n}\n\nexport function maybeSubgroup(outputs, inputs) {\n  for (const name in inputs) {\n    const value = inputs[name];\n    if (value !== undefined && !outputs.some((o) => o.name === name)) {\n      return value;\n    }\n  }\n}\n\nexport function maybeSort(facets, sort, reverse) {\n  if (sort) {\n    const S = sort.output.transform();\n    const compare = (i, j) => ascendingDefined(S[i], S[j]);\n    facets.forEach((f) => f.sort(compare));\n  }\n  if (reverse) {\n    facets.forEach((f) => f.reverse());\n  }\n}\n\nfunction reduceReduce(reduce) {\n  console.warn(\"deprecated reduce interface; implement reduceIndex instead.\");\n  return {...reduce, reduceIndex: reduce.reduce.bind(reduce)};\n}\n\nfunction reduceFunction(f) {\n  return {\n    reduceIndex(I, X, extent) {\n      return f(take(X, I), extent);\n    }\n  };\n}\n\nfunction reduceAccessor(f) {\n  return {\n    reduceIndex(I, X) {\n      return f(I, (i) => X[i]);\n    }\n  };\n}\n\nfunction reduceMaybeTemporalAccessor(f) {\n  return {\n    reduceIndex(I, X) {\n      const x = f(I, (i) => X[i]);\n      return isTemporal(X) ? new Date(x) : x;\n    }\n  };\n}\n\nexport const reduceIdentity = {\n  reduceIndex(I, X) {\n    return take(X, I);\n  }\n};\n\nexport const reduceFirst = {\n  reduceIndex(I, X) {\n    return X[I[0]];\n  }\n};\n\nconst reduceTitle = {\n  reduceIndex(I, X) {\n    const n = 5;\n    const groups = sort(\n      rollup(\n        I,\n        (V) => V.length,\n        (i) => X[i]\n      ),\n      second\n    );\n    const top = groups.slice(-n).reverse();\n    if (top.length < groups.length) {\n      const bottom = groups.slice(0, 1 - n);\n      top[n - 1] = [`\u2026 ${bottom.length.toLocaleString(\"en-US\")} more`, sum(bottom, second)];\n    }\n    return top.map(([key, value]) => `${key} (${value.toLocaleString(\"en-US\")})`).join(\"\\n\");\n  }\n};\n\nconst reduceLast = {\n  reduceIndex(I, X) {\n    return X[I[I.length - 1]];\n  }\n};\n\nexport const reduceCount = {\n  label: \"Frequency\",\n  reduceIndex(I) {\n    return I.length;\n  }\n};\n\nconst reduceDistinct = {\n  label: \"Distinct\",\n  reduceIndex(I, X) {\n    const s = new InternSet();\n    for (const i of I) s.add(X[i]);\n    return s.size;\n  }\n};\n\nconst reduceSum = reduceAccessor(sum);\n\nfunction reduceProportion(value, scope) {\n  return value == null\n    ? {scope, label: \"Frequency\", reduceIndex: (I, V, basis = 1) => I.length / basis}\n    : {scope, reduceIndex: (I, V, basis = 1) => sum(I, (i) => V[i]) / basis};\n}\n", "import {InternSet, rollups} from \"d3\";\nimport {ascendingDefined, descendingDefined} from \"./defined.js\";\nimport {first, isColor, isEvery, isIterable, isOpacity, labelof, map, maybeValue, range, valueof} from \"./options.js\";\nimport {registry} from \"./scales/index.js\";\nimport {isSymbol, maybeSymbol} from \"./symbol.js\";\nimport {maybeReduce} from \"./transforms/group.js\";\n\nexport function createChannel(data, {scale, type, value, filter, hint}, name) {\n  if (hint === undefined && typeof value?.transform === \"function\") hint = value.hint;\n  return inferChannelScale(name, {\n    scale,\n    type,\n    value: valueof(data, value),\n    label: labelof(value),\n    filter,\n    hint\n  });\n}\n\nexport function createChannels(channels, data) {\n  return Object.fromEntries(\n    Object.entries(channels).map(([name, channel]) => [name, createChannel(data, channel, name)])\n  );\n}\n\n// TODO Use Float64Array for scales with numeric ranges, e.g. position?\nexport function valueObject(channels, scales) {\n  const values = Object.fromEntries(\n    Object.entries(channels).map(([name, {scale: scaleName, value}]) => {\n      const scale = scaleName == null ? null : scales[scaleName];\n      return [name, scale == null ? value : map(value, scale)];\n    })\n  );\n  values.channels = channels; // expose channel state for advanced usage\n  return values;\n}\n\n// If the channel uses the \"auto\" scale (or equivalently true), infer the scale\n// from the channel name and the provided values. For color and symbol channels,\n// no scale is applied if the values are literal; however for symbols, we must\n// promote symbol names (e.g., \"plus\") to symbol implementations (symbolPlus).\n// Note: mutates channel!\nexport function inferChannelScale(name, channel) {\n  const {scale, value} = channel;\n  if (scale === true || scale === \"auto\") {\n    switch (name) {\n      case \"fill\":\n      case \"stroke\":\n      case \"color\":\n        channel.scale = scale !== true && isEvery(value, isColor) ? null : \"color\";\n        break;\n      case \"fillOpacity\":\n      case \"strokeOpacity\":\n      case \"opacity\":\n        channel.scale = scale !== true && isEvery(value, isOpacity) ? null : \"opacity\";\n        break;\n      case \"symbol\":\n        if (scale !== true && isEvery(value, isSymbol)) {\n          channel.scale = null;\n          channel.value = map(value, maybeSymbol);\n        } else {\n          channel.scale = \"symbol\";\n        }\n        break;\n      default:\n        channel.scale = registry.has(name) ? name : null;\n        break;\n    }\n  } else if (scale === false) {\n    channel.scale = null;\n  } else if (scale != null && !registry.has(scale)) {\n    throw new Error(`unknown scale: ${scale}`);\n  }\n  return channel;\n}\n\n// Note: mutates channel.domain! This is set to a function so that it is lazily\n// computed; i.e., if the scale\u2019s domain is set explicitly, that takes priority\n// over the sort option, and we don\u2019t need to do additional work.\nexport function channelDomain(data, facets, channels, facetChannels, options) {\n  const {order: defaultOrder, reverse: defaultReverse, reduce: defaultReduce = true, limit: defaultLimit} = options;\n  for (const x in options) {\n    if (!registry.has(x)) continue; // ignore unknown scale keys (including generic options)\n    let {value: y, order = defaultOrder, reverse = defaultReverse, reduce = defaultReduce, limit = defaultLimit} = maybeValue(options[x]); // prettier-ignore\n    const negate = y?.startsWith(\"-\");\n    if (negate) y = y.slice(1);\n    order = order === undefined ? negate !== (y === \"width\" || y === \"height\") ? descendingGroup : ascendingGroup : maybeOrder(order); // prettier-ignore\n    if (reduce == null || reduce === false) continue; // disabled reducer\n    const X = x === \"fx\" || x === \"fy\" ? reindexFacetChannel(facets, facetChannels[x]) : findScaleChannel(channels, x);\n    if (!X) throw new Error(`missing channel for scale: ${x}`);\n    const XV = X.value;\n    const [lo = 0, hi = Infinity] = isIterable(limit) ? limit : limit < 0 ? [limit] : [0, limit];\n    if (y == null) {\n      X.domain = () => {\n        let domain = Array.from(new InternSet(XV)); // remove any duplicates\n        if (reverse) domain = domain.reverse();\n        if (lo !== 0 || hi !== Infinity) domain = domain.slice(lo, hi);\n        return domain;\n      };\n    } else {\n      const YV =\n        y === \"data\"\n          ? data\n          : y === \"height\"\n          ? difference(channels, \"y1\", \"y2\")\n          : y === \"width\"\n          ? difference(channels, \"x1\", \"x2\")\n          : values(channels, y, y === \"y\" ? \"y2\" : y === \"x\" ? \"x2\" : undefined);\n      const reducer = maybeReduce(reduce === true ? \"max\" : reduce, YV);\n      X.domain = () => {\n        let domain = rollups(\n          range(XV),\n          (I) => reducer.reduceIndex(I, YV),\n          (i) => XV[i]\n        );\n        if (order) domain.sort(order);\n        if (reverse) domain.reverse();\n        if (lo !== 0 || hi !== Infinity) domain = domain.slice(lo, hi);\n        return domain.map(first);\n      };\n    }\n  }\n}\n\nfunction findScaleChannel(channels, scale) {\n  for (const name in channels) {\n    const channel = channels[name];\n    if (channel.scale === scale) return channel;\n  }\n}\n\n// Facet channels are not affected by transforms; so, to compute the domain of a\n// facet scale, we must first re-index the facet channel according to the\n// transformed mark index. Note: mutates channel, but that should be safe here?\nfunction reindexFacetChannel(facets, channel) {\n  const originalFacets = facets.original;\n  if (originalFacets === facets) return channel; // not transformed\n  const V1 = channel.value;\n  const V2 = (channel.value = []); // mutates channel!\n  for (let i = 0; i < originalFacets.length; ++i) {\n    const vi = V1[originalFacets[i][0]];\n    for (const j of facets[i]) V2[j] = vi;\n  }\n  return channel;\n}\n\nfunction difference(channels, k1, k2) {\n  const X1 = values(channels, k1);\n  const X2 = values(channels, k2);\n  return map(X2, (x2, i) => Math.abs(x2 - X1[i]), Float64Array);\n}\n\nfunction values(channels, name, alias) {\n  let channel = channels[name];\n  if (!channel && alias !== undefined) channel = channels[alias];\n  if (channel) return channel.value;\n  throw new Error(`missing channel: ${name}`);\n}\n\nfunction maybeOrder(order) {\n  if (order == null || typeof order === \"function\") return order;\n  switch (`${order}`.toLowerCase()) {\n    case \"ascending\":\n      return ascendingGroup;\n    case \"descending\":\n      return descendingGroup;\n  }\n  throw new Error(`invalid order: ${order}`);\n}\n\nfunction ascendingGroup([ak, av], [bk, bv]) {\n  return ascendingDefined(av, bv) || ascendingDefined(ak, bk);\n}\n\nfunction descendingGroup([ak, av], [bk, bv]) {\n  return descendingDefined(av, bv) || ascendingDefined(ak, bk);\n}\n\nexport function getSource(channels, key) {\n  let channel = channels[key];\n  if (!channel) return;\n  while (channel.source) channel = channel.source;\n  return channel.source === null ? null : channel;\n}\n", "import {creator, select} from \"d3\";\n\nexport function createContext(options = {}) {\n  const {document = typeof window !== \"undefined\" ? window.document : undefined} = options;\n  return {document};\n}\n\nexport function create(name, {document}) {\n  return select(creator(name).call(document.documentElement));\n}\n", "let warnings = 0;\n\nexport function consumeWarnings() {\n  const w = warnings;\n  warnings = 0;\n  return w;\n}\n\nexport function warn(message) {\n  console.warn(message);\n  ++warnings;\n}\n", "import {\n  geoAlbers,\n  geoAlbersUsa,\n  geoAzimuthalEqualArea,\n  geoAzimuthalEquidistant,\n  geoClipRectangle,\n  geoConicConformal,\n  geoConicEqualArea,\n  geoConicEquidistant,\n  geoEqualEarth,\n  geoEquirectangular,\n  geoGnomonic,\n  geoMercator,\n  geoOrthographic,\n  geoPath,\n  geoStereographic,\n  geoStream,\n  geoTransform,\n  geoTransverseMercator\n} from \"d3\";\nimport {valueObject} from \"./channel.js\";\nimport {coerceNumbers, constant, isObject} from \"./options.js\";\nimport {warn} from \"./warnings.js\";\n\nconst pi = Math.PI;\nconst tau = 2 * pi;\nconst defaultAspectRatio = 0.618;\n\nexport function createProjection(\n  {\n    projection,\n    inset: globalInset = 0,\n    insetTop = globalInset,\n    insetRight = globalInset,\n    insetBottom = globalInset,\n    insetLeft = globalInset\n  } = {},\n  dimensions\n) {\n  if (projection == null) return;\n  if (typeof projection.stream === \"function\") return projection; // d3 projection\n  let options;\n  let domain;\n  let clip = \"frame\";\n\n  // If the projection was specified as an object with additional options,\n  // extract those. The order of precedence for insetTop (and other insets) is:\n  // projection.insetTop, projection.inset, (global) insetTop, (global) inset.\n  // Any other options on this object will be passed through to the initializer.\n  if (isObject(projection)) {\n    let inset;\n    ({\n      type: projection,\n      domain,\n      inset,\n      insetTop = inset !== undefined ? inset : insetTop,\n      insetRight = inset !== undefined ? inset : insetRight,\n      insetBottom = inset !== undefined ? inset : insetBottom,\n      insetLeft = inset !== undefined ? inset : insetLeft,\n      clip = clip,\n      ...options\n    } = projection);\n    if (projection == null) return;\n  }\n\n  // For named projections, retrieve the corresponding projection initializer.\n  if (typeof projection !== \"function\") ({type: projection} = namedProjection(projection));\n\n  // Compute the frame dimensions and invoke the projection initializer.\n  const {width, height, marginLeft, marginRight, marginTop, marginBottom} = dimensions;\n  const dx = width - marginLeft - marginRight - insetLeft - insetRight;\n  const dy = height - marginTop - marginBottom - insetTop - insetBottom;\n  projection = projection?.({width: dx, height: dy, clip, ...options});\n\n  // The projection initializer might decide to not use a projection.\n  if (projection == null) return;\n  clip = maybePostClip(clip, marginLeft, marginTop, width - marginRight, height - marginBottom);\n\n  // Translate the origin to the top-left corner, respecting margins and insets.\n  let tx = marginLeft + insetLeft;\n  let ty = marginTop + insetTop;\n  let transform;\n\n  // If a domain is specified, fit the projection to the frame.\n  if (domain != null) {\n    const [[x0, y0], [x1, y1]] = geoPath(projection).bounds(domain);\n    const k = Math.min(dx / (x1 - x0), dy / (y1 - y0));\n    if (k > 0) {\n      tx -= (k * (x0 + x1) - dx) / 2;\n      ty -= (k * (y0 + y1) - dy) / 2;\n      transform = geoTransform({\n        point(x, y) {\n          this.stream.point(x * k + tx, y * k + ty);\n        }\n      });\n    } else {\n      warn(`Warning: the projection could not be fit to the specified domain; using the default scale.`);\n    }\n  }\n\n  transform ??=\n    tx === 0 && ty === 0\n      ? identity()\n      : geoTransform({\n          point(x, y) {\n            this.stream.point(x + tx, y + ty);\n          }\n        });\n\n  return {stream: (s) => projection.stream(transform.stream(clip(s)))};\n}\n\nfunction namedProjection(projection) {\n  switch (`${projection}`.toLowerCase()) {\n    case \"albers-usa\":\n      return scaleProjection(geoAlbersUsa, 0.7463, 0.4673);\n    case \"albers\":\n      return conicProjection(geoAlbers, 0.7463, 0.4673);\n    case \"azimuthal-equal-area\":\n      return scaleProjection(geoAzimuthalEqualArea, 4, 4);\n    case \"azimuthal-equidistant\":\n      return scaleProjection(geoAzimuthalEquidistant, tau, tau);\n    case \"conic-conformal\":\n      return conicProjection(geoConicConformal, tau, tau);\n    case \"conic-equal-area\":\n      return conicProjection(geoConicEqualArea, 6.1702, 2.9781);\n    case \"conic-equidistant\":\n      return conicProjection(geoConicEquidistant, 7.312, 3.6282);\n    case \"equal-earth\":\n      return scaleProjection(geoEqualEarth, 5.4133, 2.6347);\n    case \"equirectangular\":\n      return scaleProjection(geoEquirectangular, tau, pi);\n    case \"gnomonic\":\n      return scaleProjection(geoGnomonic, 3.4641, 3.4641);\n    case \"identity\":\n      return {type: identity};\n    case \"reflect-y\":\n      return {type: reflectY};\n    case \"mercator\":\n      return scaleProjection(geoMercator, tau, tau);\n    case \"orthographic\":\n      return scaleProjection(geoOrthographic, 2, 2);\n    case \"stereographic\":\n      return scaleProjection(geoStereographic, 2, 2);\n    case \"transverse-mercator\":\n      return scaleProjection(geoTransverseMercator, tau, tau);\n    default:\n      throw new Error(`unknown projection type: ${projection}`);\n  }\n}\n\nfunction maybePostClip(clip, x1, y1, x2, y2) {\n  if (clip === false || clip == null || typeof clip === \"number\") return (s) => s;\n  if (clip === true) clip = \"frame\";\n  switch (`${clip}`.toLowerCase()) {\n    case \"frame\":\n      return geoClipRectangle(x1, y1, x2, y2);\n    default:\n      throw new Error(`unknown projection clip type: ${clip}`);\n  }\n}\n\nfunction scaleProjection(createProjection, kx, ky) {\n  return {\n    type: ({width, height, rotate, precision = 0.15, clip}) => {\n      const projection = createProjection();\n      if (precision != null) projection.precision?.(precision);\n      if (rotate != null) projection.rotate?.(rotate);\n      if (typeof clip === \"number\") projection.clipAngle?.(clip);\n      projection.scale(Math.min(width / kx, height / ky));\n      projection.translate([width / 2, height / 2]);\n      return projection;\n    },\n    aspectRatio: ky / kx\n  };\n}\n\nfunction conicProjection(createProjection, kx, ky) {\n  const {type, aspectRatio} = scaleProjection(createProjection, kx, ky);\n  return {\n    type: (options) => {\n      const {parallels, domain, width, height} = options;\n      const projection = type(options);\n      if (parallels != null) {\n        projection.parallels(parallels);\n        if (domain === undefined) {\n          projection.fitSize([width, height], {type: \"Sphere\"});\n        }\n      }\n      return projection;\n    },\n    aspectRatio\n  };\n}\n\nconst identity = constant({stream: (stream) => stream});\n\nconst reflectY = constant(\n  geoTransform({\n    point(x, y) {\n      this.stream.point(x, -y);\n    }\n  })\n);\n\n// Applies a point-wise projection to the given paired x and y channels.\n// Note: mutates values!\nexport function project(cx, cy, values, projection) {\n  const x = values[cx];\n  const y = values[cy];\n  const n = x.length;\n  const X = (values[cx] = new Float64Array(n).fill(NaN));\n  const Y = (values[cy] = new Float64Array(n).fill(NaN));\n  let i;\n  const stream = projection.stream({\n    point(x, y) {\n      X[i] = x;\n      Y[i] = y;\n    }\n  });\n  for (i = 0; i < n; ++i) {\n    stream.point(x[i], y[i]);\n  }\n}\n\n// Returns true if a projection was specified. This should match the logic of\n// createProjection above, and is called before we construct the projection.\n// (Though note that we ignore the edge case where the projection initializer\n// may return null.)\nexport function hasProjection({projection} = {}) {\n  if (projection == null) return false;\n  if (typeof projection.stream === \"function\") return true;\n  if (isObject(projection)) projection = projection.type;\n  return projection != null;\n}\n\n// When a named projection is specified, we can use its natural aspect ratio to\n// determine a good value for the projection\u2019s height based on the desired\n// width. When we don\u2019t have a way to know, the golden ratio is our best guess.\n// Due to a circular dependency (we need to know the height before we can\n// construct the projection), we have to test the raw projection option rather\n// than the materialized projection; therefore we must be extremely careful that\n// the logic of this function exactly matches createProjection above!\nexport function projectionAspectRatio(projection) {\n  if (typeof projection?.stream === \"function\") return defaultAspectRatio;\n  if (isObject(projection)) projection = projection.type;\n  if (projection == null) return;\n  if (typeof projection !== \"function\") {\n    const {aspectRatio} = namedProjection(projection);\n    if (aspectRatio) return aspectRatio;\n  }\n  return defaultAspectRatio;\n}\n\n// Extract the (possibly) scaled values for the x and y channels, and apply the\n// projection if any.\nexport function applyPosition(channels, scales, {projection}) {\n  const {x, y} = channels;\n  let position = {};\n  if (x) position.x = x;\n  if (y) position.y = y;\n  position = valueObject(position, scales);\n  if (projection && x?.scale === \"x\" && y?.scale === \"y\") project(\"x\", \"y\", position, projection);\n  if (x) position.x = coerceNumbers(position.x);\n  if (y) position.y = coerceNumbers(position.y);\n  return position;\n}\n\nexport function getGeometryChannels(channel) {\n  const X = [];\n  const Y = [];\n  const x = {scale: \"x\", value: X};\n  const y = {scale: \"y\", value: Y};\n  const sink = {\n    point(x, y) {\n      X.push(x);\n      Y.push(y);\n    },\n    lineStart() {},\n    lineEnd() {},\n    polygonStart() {},\n    polygonEnd() {},\n    sphere() {}\n  };\n  for (const object of channel.value) geoStream(object, sink);\n  return [x, y];\n}\n", "import {\n  interpolateBlues,\n  interpolateBrBG,\n  interpolateBuGn,\n  interpolateBuPu,\n  interpolateGnBu,\n  interpolateGreens,\n  interpolateGreys,\n  interpolateOranges,\n  interpolateOrRd,\n  interpolatePiYG,\n  interpolatePRGn,\n  interpolatePuBu,\n  interpolatePuBuGn,\n  interpolatePuOr,\n  interpolatePuRd,\n  interpolatePurples,\n  interpolateRdBu,\n  interpolateRdGy,\n  interpolateRdPu,\n  interpolateRdYlBu,\n  interpolateRdYlGn,\n  interpolateReds,\n  interpolateSpectral,\n  interpolateYlGn,\n  interpolateYlGnBu,\n  interpolateYlOrBr,\n  interpolateYlOrRd,\n  interpolateTurbo,\n  interpolateViridis,\n  interpolateMagma,\n  interpolateInferno,\n  interpolatePlasma,\n  interpolateCividis,\n  interpolateCubehelixDefault,\n  interpolateWarm,\n  interpolateCool,\n  interpolateRainbow,\n  interpolateSinebow,\n  quantize,\n  schemeAccent,\n  schemeBlues,\n  schemeBrBG,\n  schemeBuGn,\n  schemeBuPu,\n  schemeCategory10,\n  schemeDark2,\n  schemeGnBu,\n  schemeGreens,\n  schemeGreys,\n  schemeOranges,\n  schemeOrRd,\n  schemePaired,\n  schemePastel1,\n  schemePastel2,\n  schemePiYG,\n  schemePRGn,\n  schemePuBu,\n  schemePuBuGn,\n  schemePuOr,\n  schemePuRd,\n  schemePurples,\n  schemeRdBu,\n  schemeRdGy,\n  schemeRdPu,\n  schemeRdYlBu,\n  schemeRdYlGn,\n  schemeReds,\n  schemeSet1,\n  schemeSet2,\n  schemeSet3,\n  schemeSpectral,\n  schemeTableau10,\n  schemeYlGn,\n  schemeYlGnBu,\n  schemeYlOrBr,\n  schemeYlOrRd\n} from \"d3\";\n\nconst categoricalSchemes = new Map([\n  [\"accent\", schemeAccent],\n  [\"category10\", schemeCategory10],\n  [\"dark2\", schemeDark2],\n  [\"paired\", schemePaired],\n  [\"pastel1\", schemePastel1],\n  [\"pastel2\", schemePastel2],\n  [\"set1\", schemeSet1],\n  [\"set2\", schemeSet2],\n  [\"set3\", schemeSet3],\n  [\"tableau10\", schemeTableau10]\n]);\n\nexport function isCategoricalScheme(scheme) {\n  return scheme != null && categoricalSchemes.has(`${scheme}`.toLowerCase());\n}\n\nconst ordinalSchemes = new Map([\n  ...categoricalSchemes,\n\n  // diverging\n  [\"brbg\", scheme11(schemeBrBG, interpolateBrBG)],\n  [\"prgn\", scheme11(schemePRGn, interpolatePRGn)],\n  [\"piyg\", scheme11(schemePiYG, interpolatePiYG)],\n  [\"puor\", scheme11(schemePuOr, interpolatePuOr)],\n  [\"rdbu\", scheme11(schemeRdBu, interpolateRdBu)],\n  [\"rdgy\", scheme11(schemeRdGy, interpolateRdGy)],\n  [\"rdylbu\", scheme11(schemeRdYlBu, interpolateRdYlBu)],\n  [\"rdylgn\", scheme11(schemeRdYlGn, interpolateRdYlGn)],\n  [\"spectral\", scheme11(schemeSpectral, interpolateSpectral)],\n\n  // reversed diverging (for temperature data)\n  [\"burd\", scheme11r(schemeRdBu, interpolateRdBu)],\n  [\"buylrd\", scheme11r(schemeRdYlBu, interpolateRdYlBu)],\n\n  // sequential (single-hue)\n  [\"blues\", scheme9(schemeBlues, interpolateBlues)],\n  [\"greens\", scheme9(schemeGreens, interpolateGreens)],\n  [\"greys\", scheme9(schemeGreys, interpolateGreys)],\n  [\"oranges\", scheme9(schemeOranges, interpolateOranges)],\n  [\"purples\", scheme9(schemePurples, interpolatePurples)],\n  [\"reds\", scheme9(schemeReds, interpolateReds)],\n\n  // sequential (multi-hue)\n  [\"turbo\", schemei(interpolateTurbo)],\n  [\"viridis\", schemei(interpolateViridis)],\n  [\"magma\", schemei(interpolateMagma)],\n  [\"inferno\", schemei(interpolateInferno)],\n  [\"plasma\", schemei(interpolatePlasma)],\n  [\"cividis\", schemei(interpolateCividis)],\n  [\"cubehelix\", schemei(interpolateCubehelixDefault)],\n  [\"warm\", schemei(interpolateWarm)],\n  [\"cool\", schemei(interpolateCool)],\n  [\"bugn\", scheme9(schemeBuGn, interpolateBuGn)],\n  [\"bupu\", scheme9(schemeBuPu, interpolateBuPu)],\n  [\"gnbu\", scheme9(schemeGnBu, interpolateGnBu)],\n  [\"orrd\", scheme9(schemeOrRd, interpolateOrRd)],\n  [\"pubu\", scheme9(schemePuBu, interpolatePuBu)],\n  [\"pubugn\", scheme9(schemePuBuGn, interpolatePuBuGn)],\n  [\"purd\", scheme9(schemePuRd, interpolatePuRd)],\n  [\"rdpu\", scheme9(schemeRdPu, interpolateRdPu)],\n  [\"ylgn\", scheme9(schemeYlGn, interpolateYlGn)],\n  [\"ylgnbu\", scheme9(schemeYlGnBu, interpolateYlGnBu)],\n  [\"ylorbr\", scheme9(schemeYlOrBr, interpolateYlOrBr)],\n  [\"ylorrd\", scheme9(schemeYlOrRd, interpolateYlOrRd)],\n\n  // cyclical\n  [\"rainbow\", schemeicyclical(interpolateRainbow)],\n  [\"sinebow\", schemeicyclical(interpolateSinebow)]\n]);\n\nfunction scheme9(scheme, interpolate) {\n  return ({length: n}) => {\n    if (n === 1) return [scheme[3][1]]; // favor midpoint\n    if (n === 2) return [scheme[3][1], scheme[3][2]]; // favor darker\n    n = Math.max(3, Math.floor(n));\n    return n > 9 ? quantize(interpolate, n) : scheme[n];\n  };\n}\n\nfunction scheme11(scheme, interpolate) {\n  return ({length: n}) => {\n    if (n === 2) return [scheme[3][0], scheme[3][2]]; // favor diverging extrema\n    n = Math.max(3, Math.floor(n));\n    return n > 11 ? quantize(interpolate, n) : scheme[n];\n  };\n}\n\nfunction scheme11r(scheme, interpolate) {\n  return ({length: n}) => {\n    if (n === 2) return [scheme[3][2], scheme[3][0]]; // favor diverging extrema\n    n = Math.max(3, Math.floor(n));\n    return n > 11 ? quantize((t) => interpolate(1 - t), n) : scheme[n].slice().reverse();\n  };\n}\n\nfunction schemei(interpolate) {\n  return ({length: n}) => quantize(interpolate, Math.max(2, Math.floor(n)));\n}\n\nfunction schemeicyclical(interpolate) {\n  return ({length: n}) => quantize(interpolate, Math.floor(n) + 1).slice(0, -1);\n}\n\nexport function ordinalScheme(scheme) {\n  const s = `${scheme}`.toLowerCase();\n  if (!ordinalSchemes.has(s)) throw new Error(`unknown ordinal scheme: ${s}`);\n  return ordinalSchemes.get(s);\n}\n\nexport function ordinalRange(scheme, length) {\n  const s = ordinalScheme(scheme);\n  const r = typeof s === \"function\" ? s({length}) : s;\n  return r.length !== length ? r.slice(0, length) : r;\n}\n\n// If the specified domain contains only booleans (ignoring null and undefined),\n// returns a corresponding range where false is mapped to the low color and true\n// is mapped to the high color of the specified scheme.\nexport function maybeBooleanRange(domain, scheme = \"greys\") {\n  const range = new Set();\n  const [f, t] = ordinalRange(scheme, 2);\n  for (const value of domain) {\n    if (value == null) continue;\n    if (value === true) range.add(t);\n    else if (value === false) range.add(f);\n    else return;\n  }\n  return [...range];\n}\n\nconst quantitativeSchemes = new Map([\n  // diverging\n  [\"brbg\", interpolateBrBG],\n  [\"prgn\", interpolatePRGn],\n  [\"piyg\", interpolatePiYG],\n  [\"puor\", interpolatePuOr],\n  [\"rdbu\", interpolateRdBu],\n  [\"rdgy\", interpolateRdGy],\n  [\"rdylbu\", interpolateRdYlBu],\n  [\"rdylgn\", interpolateRdYlGn],\n  [\"spectral\", interpolateSpectral],\n\n  // reversed diverging (for temperature data)\n  [\"burd\", (t) => interpolateRdBu(1 - t)],\n  [\"buylrd\", (t) => interpolateRdYlBu(1 - t)],\n\n  // sequential (single-hue)\n  [\"blues\", interpolateBlues],\n  [\"greens\", interpolateGreens],\n  [\"greys\", interpolateGreys],\n  [\"purples\", interpolatePurples],\n  [\"reds\", interpolateReds],\n  [\"oranges\", interpolateOranges],\n\n  // sequential (multi-hue)\n  [\"turbo\", interpolateTurbo],\n  [\"viridis\", interpolateViridis],\n  [\"magma\", interpolateMagma],\n  [\"inferno\", interpolateInferno],\n  [\"plasma\", interpolatePlasma],\n  [\"cividis\", interpolateCividis],\n  [\"cubehelix\", interpolateCubehelixDefault],\n  [\"warm\", interpolateWarm],\n  [\"cool\", interpolateCool],\n  [\"bugn\", interpolateBuGn],\n  [\"bupu\", interpolateBuPu],\n  [\"gnbu\", interpolateGnBu],\n  [\"orrd\", interpolateOrRd],\n  [\"pubugn\", interpolatePuBuGn],\n  [\"pubu\", interpolatePuBu],\n  [\"purd\", interpolatePuRd],\n  [\"rdpu\", interpolateRdPu],\n  [\"ylgnbu\", interpolateYlGnBu],\n  [\"ylgn\", interpolateYlGn],\n  [\"ylorbr\", interpolateYlOrBr],\n  [\"ylorrd\", interpolateYlOrRd],\n\n  // cyclical\n  [\"rainbow\", interpolateRainbow],\n  [\"sinebow\", interpolateSinebow]\n]);\n\nexport function quantitativeScheme(scheme) {\n  const s = `${scheme}`.toLowerCase();\n  if (!quantitativeSchemes.has(s)) throw new Error(`unknown quantitative scheme: ${s}`);\n  return quantitativeSchemes.get(s);\n}\n\nconst divergingSchemes = new Set([\n  \"brbg\",\n  \"prgn\",\n  \"piyg\",\n  \"puor\",\n  \"rdbu\",\n  \"rdgy\",\n  \"rdylbu\",\n  \"rdylgn\",\n  \"spectral\",\n  \"burd\",\n  \"buylrd\"\n]);\n\nexport function isDivergingScheme(scheme) {\n  return scheme != null && divergingSchemes.has(`${scheme}`.toLowerCase());\n}\n", "import {\n  descending,\n  extent,\n  interpolateHcl,\n  interpolateHsl,\n  interpolateLab,\n  interpolateNumber,\n  interpolateRgb,\n  interpolateRound,\n  max,\n  median,\n  min,\n  piecewise,\n  quantile,\n  quantize,\n  reverse as reverseof,\n  scaleIdentity,\n  scaleLinear,\n  scaleLog,\n  scalePow,\n  scaleQuantile,\n  scaleSymlog,\n  scaleThreshold,\n  ticks\n} from \"d3\";\nimport {finite, negative, positive} from \"../defined.js\";\nimport {arrayify, constant, maybeNiceInterval, maybeRangeInterval, orderof, slice} from \"../options.js\";\nimport {color, length, opacity, radius, registry} from \"./index.js\";\nimport {ordinalRange, quantitativeScheme} from \"./schemes.js\";\n\nexport const flip = (i) => (t) => i(1 - t);\nconst unit = [0, 1];\n\nconst interpolators = new Map([\n  // numbers\n  [\"number\", interpolateNumber],\n\n  // color spaces\n  [\"rgb\", interpolateRgb],\n  [\"hsl\", interpolateHsl],\n  [\"hcl\", interpolateHcl],\n  [\"lab\", interpolateLab]\n]);\n\nexport function maybeInterpolator(interpolate) {\n  const i = `${interpolate}`.toLowerCase();\n  if (!interpolators.has(i)) throw new Error(`unknown interpolator: ${i}`);\n  return interpolators.get(i);\n}\n\nexport function createScaleQ(\n  key,\n  scale,\n  channels,\n  {\n    type,\n    nice,\n    clamp,\n    zero,\n    domain = inferAutoDomain(key, channels),\n    unknown,\n    round,\n    scheme,\n    interval,\n    range = registry.get(key) === radius\n      ? inferRadialRange(channels, domain)\n      : registry.get(key) === length\n      ? inferLengthRange(channels, domain)\n      : registry.get(key) === opacity\n      ? unit\n      : undefined,\n    interpolate = registry.get(key) === color\n      ? scheme == null && range !== undefined\n        ? interpolateRgb\n        : quantitativeScheme(scheme !== undefined ? scheme : type === \"cyclical\" ? \"rainbow\" : \"turbo\")\n      : round\n      ? interpolateRound\n      : interpolateNumber,\n    reverse\n  }\n) {\n  interval = maybeRangeInterval(interval, type);\n  if (type === \"cyclical\" || type === \"sequential\") type = \"linear\"; // shorthand for color schemes\n  if (typeof interpolate !== \"function\") interpolate = maybeInterpolator(interpolate); // named interpolator\n  reverse = !!reverse;\n\n  // If an explicit range is specified, and it has a different length than the\n  // domain, then redistribute the range using a piecewise interpolator.\n  if (range !== undefined) {\n    const n = (domain = arrayify(domain)).length;\n    const m = (range = arrayify(range)).length;\n    if (n !== m) {\n      if (interpolate.length === 1) throw new Error(\"invalid piecewise interpolator\"); // e.g., turbo\n      interpolate = piecewise(interpolate, range);\n      range = undefined;\n    }\n  }\n\n  // Disambiguate between a two-argument interpolator that is used in\n  // conjunction with the range, and a one-argument \u201Cfixed\u201D interpolator on the\n  // [0, 1] interval as with the RdBu color scheme.\n  if (interpolate.length === 1) {\n    if (reverse) {\n      interpolate = flip(interpolate);\n      reverse = false;\n    }\n    if (range === undefined) {\n      range = Float64Array.from(domain, (_, i) => i / (domain.length - 1));\n      if (range.length === 2) range = unit; // optimize common case of [0, 1]\n    }\n    scale.interpolate((range === unit ? constant : interpolatePiecewise)(interpolate));\n  } else {\n    scale.interpolate(interpolate);\n  }\n\n  // If a zero option is specified, we assume that the domain is numeric, and we\n  // want to ensure that the domain crosses zero. However, note that the domain\n  // may be reversed (descending) so we shouldn\u2019t assume that the first value is\n  // smaller than the last; and also it\u2019s possible that the domain has more than\n  // two values for a \u201Cpoly\u201D scale. And lastly be careful not to mutate input!\n  if (zero) {\n    const [min, max] = extent(domain);\n    if (min > 0 || max < 0) {\n      domain = slice(domain);\n      if (orderof(domain) !== Math.sign(min)) domain[domain.length - 1] = 0; // [2, 1] or [-2, -1]\n      else domain[0] = 0; // [1, 2] or [-1, -2]\n    }\n  }\n\n  if (reverse) domain = reverseof(domain);\n  scale.domain(domain).unknown(unknown);\n  if (nice) scale.nice(maybeNice(nice, type)), (domain = scale.domain());\n  if (range !== undefined) scale.range(range);\n  if (clamp) scale.clamp(clamp);\n  return {type, domain, range, scale, interpolate, interval};\n}\n\nfunction maybeNice(nice, type) {\n  return nice === true ? undefined : typeof nice === \"number\" ? nice : maybeNiceInterval(nice, type);\n}\n\nexport function createScaleLinear(key, channels, options) {\n  return createScaleQ(key, scaleLinear(), channels, options);\n}\n\nexport function createScaleSqrt(key, channels, options) {\n  return createScalePow(key, channels, {...options, exponent: 0.5});\n}\n\nexport function createScalePow(key, channels, {exponent = 1, ...options}) {\n  return createScaleQ(key, scalePow().exponent(exponent), channels, {...options, type: \"pow\"});\n}\n\nexport function createScaleLog(key, channels, {base = 10, domain = inferLogDomain(channels), ...options}) {\n  return createScaleQ(key, scaleLog().base(base), channels, {...options, domain});\n}\n\nexport function createScaleSymlog(key, channels, {constant = 1, ...options}) {\n  return createScaleQ(key, scaleSymlog().constant(constant), channels, options);\n}\n\nexport function createScaleQuantile(\n  key,\n  channels,\n  {\n    range,\n    quantiles = range === undefined ? 5 : (range = [...range]).length, // deprecated; use n instead\n    n = quantiles,\n    scheme = \"rdylbu\",\n    domain = inferQuantileDomain(channels),\n    unknown,\n    interpolate,\n    reverse\n  }\n) {\n  if (range === undefined) {\n    range =\n      interpolate !== undefined\n        ? quantize(interpolate, n)\n        : registry.get(key) === color\n        ? ordinalRange(scheme, n)\n        : undefined;\n  }\n  if (domain.length > 0) {\n    domain = scaleQuantile(domain, range === undefined ? {length: n} : range).quantiles();\n  }\n  return createScaleThreshold(key, channels, {domain, range, reverse, unknown});\n}\n\nexport function createScaleQuantize(\n  key,\n  channels,\n  {\n    range,\n    n = range === undefined ? 5 : (range = [...range]).length,\n    scheme = \"rdylbu\",\n    domain = inferAutoDomain(key, channels),\n    unknown,\n    interpolate,\n    reverse\n  }\n) {\n  const [min, max] = extent(domain);\n  let thresholds;\n  if (range === undefined) {\n    thresholds = ticks(min, max, n); // approximate number of nice, round thresholds\n    if (thresholds[0] <= min) thresholds.splice(0, 1); // drop exact lower bound\n    if (thresholds[thresholds.length - 1] >= max) thresholds.pop(); // drop exact upper bound\n    n = thresholds.length + 1;\n    range =\n      interpolate !== undefined\n        ? quantize(interpolate, n)\n        : registry.get(key) === color\n        ? ordinalRange(scheme, n)\n        : undefined;\n  } else {\n    thresholds = quantize(interpolateNumber(min, max), n + 1).slice(1, -1); // exactly n - 1 thresholds to match range\n    if (min instanceof Date) thresholds = thresholds.map((x) => new Date(x)); // preserve date types\n  }\n  if (orderof(arrayify(domain)) < 0) thresholds.reverse(); // preserve descending domain\n  return createScaleThreshold(key, channels, {domain: thresholds, range, reverse, unknown});\n}\n\nexport function createScaleThreshold(\n  key,\n  channels,\n  {\n    domain = [0], // explicit thresholds in ascending order\n    unknown,\n    scheme = \"rdylbu\",\n    interpolate,\n    range = interpolate !== undefined\n      ? quantize(interpolate, domain.length + 1)\n      : registry.get(key) === color\n      ? ordinalRange(scheme, domain.length + 1)\n      : undefined,\n    reverse\n  }\n) {\n  domain = arrayify(domain);\n  const sign = orderof(domain); // preserve descending domain\n  if (!isNaN(sign) && !isOrdered(domain, sign)) throw new Error(`the ${key} scale has a non-monotonic domain`);\n  if (reverse) range = reverseof(range); // domain ascending, so reverse range\n  return {\n    type: \"threshold\",\n    scale: scaleThreshold(sign < 0 ? reverseof(domain) : domain, range === undefined ? [] : range).unknown(unknown),\n    domain,\n    range\n  };\n}\n\nfunction isOrdered(domain, sign) {\n  for (let i = 1, n = domain.length, d = domain[0]; i < n; ++i) {\n    const s = descending(d, (d = domain[i]));\n    if (s !== 0 && s !== sign) return false;\n  }\n  return true;\n}\n\nexport function createScaleIdentity() {\n  return {type: \"identity\", scale: scaleIdentity()};\n}\n\nexport function inferDomain(channels, f = finite) {\n  return channels.length\n    ? [\n        min(channels, ({value}) => (value === undefined ? value : min(value, f))),\n        max(channels, ({value}) => (value === undefined ? value : max(value, f)))\n      ]\n    : [0, 1];\n}\n\nfunction inferAutoDomain(key, channels) {\n  const type = registry.get(key);\n  return (type === radius || type === opacity || type === length ? inferZeroDomain : inferDomain)(channels);\n}\n\nfunction inferZeroDomain(channels) {\n  return [0, channels.length ? max(channels, ({value}) => (value === undefined ? value : max(value, finite))) : 1];\n}\n\n// We don\u2019t want the upper bound of the radial domain to be zero, as this would\n// be degenerate, so we ignore nonpositive values. We also don\u2019t want the\n// maximum default radius to exceed 30px.\nfunction inferRadialRange(channels, domain) {\n  const hint = channels.find(({radius}) => radius !== undefined);\n  if (hint !== undefined) return [0, hint.radius]; // a natural maximum radius, e.g. hexbins\n  const h25 = quantile(channels, 0.5, ({value}) => (value === undefined ? NaN : quantile(value, 0.25, positive)));\n  const range = domain.map((d) => 3 * Math.sqrt(d / h25));\n  const k = 30 / max(range);\n  return k < 1 ? range.map((r) => r * k) : range;\n}\n\n// We want a length scale\u2019s domain to go from zero to a positive value, and to\n// treat negative lengths if any as inverted vectors of equivalent magnitude. We\n// also don\u2019t want the maximum default length to exceed 60px.\nfunction inferLengthRange(channels, domain) {\n  const h50 = median(channels, ({value}) => (value === undefined ? NaN : median(value, Math.abs)));\n  const range = domain.map((d) => (12 * d) / h50);\n  const k = 60 / max(range);\n  return k < 1 ? range.map((r) => r * k) : range;\n}\n\nfunction inferLogDomain(channels) {\n  for (const {value} of channels) {\n    if (value !== undefined) {\n      for (let v of value) {\n        if (v > 0) return inferDomain(channels, positive);\n        if (v < 0) return inferDomain(channels, negative);\n      }\n    }\n  }\n  return [1, 10];\n}\n\nfunction inferQuantileDomain(channels) {\n  const domain = [];\n  for (const {value} of channels) {\n    if (value === undefined) continue;\n    for (const v of value) domain.push(v);\n  }\n  return domain;\n}\n\nexport function interpolatePiecewise(interpolate) {\n  return (i, j) => (t) => interpolate(i + t * (j - i));\n}\n", "import {\n  descending,\n  interpolateNumber,\n  interpolateRgb,\n  piecewise,\n  scaleDiverging,\n  scaleDivergingLog,\n  scaleDivergingPow,\n  scaleDivergingSymlog\n} from \"d3\";\nimport {negative, positive} from \"../defined.js\";\nimport {arrayify} from \"../options.js\";\nimport {warn} from \"../warnings.js\";\nimport {color, registry} from \"./index.js\";\nimport {flip, inferDomain, interpolatePiecewise, maybeInterpolator} from \"./quantitative.js\";\nimport {quantitativeScheme} from \"./schemes.js\";\n\nfunction createScaleD(\n  key,\n  scale,\n  transform,\n  channels,\n  {\n    type,\n    nice,\n    clamp,\n    domain = inferDomain(channels),\n    unknown,\n    pivot = 0,\n    scheme,\n    range,\n    symmetric = true,\n    interpolate = registry.get(key) === color\n      ? scheme == null && range !== undefined\n        ? interpolateRgb\n        : quantitativeScheme(scheme !== undefined ? scheme : \"rdbu\")\n      : interpolateNumber,\n    reverse\n  }\n) {\n  pivot = +pivot;\n  domain = arrayify(domain);\n  let [min, max] = domain;\n  if (domain.length > 2) warn(`Warning: the diverging ${key} scale domain contains extra elements.`);\n\n  if (descending(min, max) < 0) ([min, max] = [max, min]), (reverse = !reverse);\n  min = Math.min(min, pivot);\n  max = Math.max(max, pivot);\n\n  // Sometimes interpolate is a named interpolator, such as \"lab\" for Lab color\n  // space. Other times interpolate is a function that takes two arguments and\n  // is used in conjunction with the range. And other times the interpolate\n  // function is a \u201Cfixed\u201D interpolator on the [0, 1] interval, as when a\n  // color scheme such as interpolateRdBu is used.\n  if (typeof interpolate !== \"function\") {\n    interpolate = maybeInterpolator(interpolate);\n  }\n\n  // If an explicit range is specified, promote it to a piecewise interpolator.\n  if (range !== undefined) {\n    interpolate =\n      interpolate.length === 1 ? interpolatePiecewise(interpolate)(...range) : piecewise(interpolate, range);\n  }\n\n  // Reverse before normalization.\n  if (reverse) interpolate = flip(interpolate);\n\n  // Normalize the interpolator for symmetric difference around the pivot.\n  if (symmetric) {\n    const mid = transform.apply(pivot);\n    const mindelta = mid - transform.apply(min);\n    const maxdelta = transform.apply(max) - mid;\n    if (mindelta < maxdelta) min = transform.invert(mid - maxdelta);\n    else if (mindelta > maxdelta) max = transform.invert(mid + mindelta);\n  }\n\n  scale.domain([min, pivot, max]).unknown(unknown).interpolator(interpolate);\n  if (clamp) scale.clamp(clamp);\n  if (nice) scale.nice(nice);\n  return {type, domain: [min, max], pivot, interpolate, scale};\n}\n\nexport function createScaleDiverging(key, channels, options) {\n  return createScaleD(key, scaleDiverging(), transformIdentity, channels, options);\n}\n\nexport function createScaleDivergingSqrt(key, channels, options) {\n  return createScaleDivergingPow(key, channels, {...options, exponent: 0.5});\n}\n\nexport function createScaleDivergingPow(key, channels, {exponent = 1, ...options}) {\n  return createScaleD(key, scaleDivergingPow().exponent((exponent = +exponent)), transformPow(exponent), channels, {\n    ...options,\n    type: \"diverging-pow\"\n  });\n}\n\nexport function createScaleDivergingLog(\n  key,\n  channels,\n  {base = 10, pivot = 1, domain = inferDomain(channels, pivot < 0 ? negative : positive), ...options}\n) {\n  return createScaleD(key, scaleDivergingLog().base((base = +base)), transformLog, channels, {\n    domain,\n    pivot,\n    ...options\n  });\n}\n\nexport function createScaleDivergingSymlog(key, channels, {constant = 1, ...options}) {\n  return createScaleD(\n    key,\n    scaleDivergingSymlog().constant((constant = +constant)),\n    transformSymlog(constant),\n    channels,\n    options\n  );\n}\n\nconst transformIdentity = {\n  apply(x) {\n    return x;\n  },\n  invert(x) {\n    return x;\n  }\n};\n\nconst transformLog = {\n  apply: Math.log,\n  invert: Math.exp\n};\n\nconst transformSqrt = {\n  apply(x) {\n    return Math.sign(x) * Math.sqrt(Math.abs(x));\n  },\n  invert(x) {\n    return Math.sign(x) * (x * x);\n  }\n};\n\nfunction transformPow(exponent) {\n  return exponent === 0.5\n    ? transformSqrt\n    : {\n        apply(x) {\n          return Math.sign(x) * Math.pow(Math.abs(x), exponent);\n        },\n        invert(x) {\n          return Math.sign(x) * Math.pow(Math.abs(x), 1 / exponent);\n        }\n      };\n}\n\nfunction transformSymlog(constant) {\n  return {\n    apply(x) {\n      return Math.sign(x) * Math.log1p(Math.abs(x / constant));\n    },\n    invert(x) {\n      return Math.sign(x) * Math.expm1(Math.abs(x)) * constant;\n    }\n  };\n}\n", "import {scaleTime, scaleUtc} from \"d3\";\nimport {createScaleQ} from \"./quantitative.js\";\n\nfunction createScaleT(key, scale, channels, options) {\n  return createScaleQ(key, scale, channels, options);\n}\n\nexport function createScaleTime(key, channels, options) {\n  return createScaleT(key, scaleTime(), channels, options);\n}\n\nexport function createScaleUtc(key, channels, options) {\n  return createScaleT(key, scaleUtc(), channels, options);\n}\n", "import {InternSet, extent, quantize, reverse as reverseof, sort, symbolsFill, symbolsStroke} from \"d3\";\nimport {scaleBand, scaleOrdinal, scalePoint, scaleImplicit} from \"d3\";\nimport {ascendingDefined} from \"../defined.js\";\nimport {isNoneish, map, maybeRangeInterval} from \"../options.js\";\nimport {maybeSymbol} from \"../symbol.js\";\nimport {registry, color, position, symbol} from \"./index.js\";\nimport {maybeBooleanRange, ordinalScheme, quantitativeScheme} from \"./schemes.js\";\n\n// This denotes an implicitly ordinal color scale: the scale type was not set,\n// but the associated values are strings or booleans. If the associated defined\n// values are entirely boolean, the range will default to greys. You can opt out\n// of this by setting the type explicitly.\nexport const ordinalImplicit = Symbol(\"ordinal\");\n\nfunction createScaleO(key, scale, channels, {type, interval, domain, range, reverse, hint}) {\n  interval = maybeRangeInterval(interval, type);\n  if (domain === undefined) domain = inferDomain(channels, interval, key);\n  if (type === \"categorical\" || type === ordinalImplicit) type = \"ordinal\"; // shorthand for color schemes\n  if (reverse) domain = reverseof(domain);\n  scale.domain(domain);\n  if (range !== undefined) {\n    // If the range is specified as a function, pass it the domain.\n    if (typeof range === \"function\") range = range(domain);\n    scale.range(range);\n  }\n  return {type, domain, range, scale, hint, interval};\n}\n\nexport function createScaleOrdinal(key, channels, {type, interval, domain, range, scheme, unknown, ...options}) {\n  interval = maybeRangeInterval(interval, type);\n  if (domain === undefined) domain = inferDomain(channels, interval, key);\n  let hint;\n  if (registry.get(key) === symbol) {\n    hint = inferSymbolHint(channels);\n    range = range === undefined ? inferSymbolRange(hint) : map(range, maybeSymbol);\n  } else if (registry.get(key) === color) {\n    if (range === undefined && (type === \"ordinal\" || type === ordinalImplicit)) {\n      range = maybeBooleanRange(domain, scheme);\n      if (range !== undefined) scheme = undefined; // Don\u2019t re-apply scheme.\n    }\n    if (scheme === undefined && range === undefined) {\n      scheme = type === \"ordinal\" ? \"turbo\" : \"tableau10\";\n    }\n    if (scheme !== undefined) {\n      if (range !== undefined) {\n        const interpolate = quantitativeScheme(scheme);\n        const t0 = range[0],\n          d = range[1] - range[0];\n        range = ({length: n}) => quantize((t) => interpolate(t0 + d * t), n);\n      } else {\n        range = ordinalScheme(scheme);\n      }\n    }\n  }\n  if (unknown === scaleImplicit) {\n    throw new Error(`implicit unknown on ${key} scale is not supported`);\n  }\n  return createScaleO(key, scaleOrdinal().unknown(unknown), channels, {...options, type, domain, range, hint});\n}\n\nexport function createScalePoint(key, channels, {align = 0.5, padding = 0.5, ...options}) {\n  return maybeRound(scalePoint().align(align).padding(padding), channels, options, key);\n}\n\nexport function createScaleBand(\n  key,\n  channels,\n  {\n    align = 0.5,\n    padding = 0.1,\n    paddingInner = padding,\n    paddingOuter = key === \"fx\" || key === \"fy\" ? 0 : padding,\n    ...options\n  }\n) {\n  return maybeRound(\n    scaleBand().align(align).paddingInner(paddingInner).paddingOuter(paddingOuter),\n    channels,\n    options,\n    key\n  );\n}\n\nfunction maybeRound(scale, channels, options, key) {\n  let {round} = options;\n  if (round !== undefined) scale.round((round = !!round));\n  scale = createScaleO(key, scale, channels, options);\n  scale.round = round; // preserve for autoScaleRound\n  return scale;\n}\n\nfunction inferDomain(channels, interval, key) {\n  const values = new InternSet();\n  for (const {value, domain} of channels) {\n    if (domain !== undefined) return domain(); // see channelDomain\n    if (value === undefined) continue;\n    for (const v of value) values.add(v);\n  }\n  if (interval !== undefined) {\n    const [min, max] = extent(values).map(interval.floor, interval);\n    return interval.range(min, interval.offset(max));\n  }\n  if (values.size > 10e3 && registry.get(key) === position) {\n    throw new Error(`implicit ordinal domain of ${key} scale has more than 10,000 values`);\n  }\n  return sort(values, ascendingDefined);\n}\n\n// If all channels provide a consistent hint, propagate it to the scale.\nfunction inferHint(channels, key) {\n  let value;\n  for (const {hint} of channels) {\n    const candidate = hint?.[key];\n    if (candidate === undefined) continue; // no hint here\n    if (value === undefined) value = candidate;\n    // first hint\n    else if (value !== candidate) return; // inconsistent hint\n  }\n  return value;\n}\n\nfunction inferSymbolHint(channels) {\n  return {\n    fill: inferHint(channels, \"fill\"),\n    stroke: inferHint(channels, \"stroke\")\n  };\n}\n\nfunction inferSymbolRange(hint) {\n  return isNoneish(hint.fill) ? symbolsStroke : symbolsFill;\n}\n", "import {\n  isOrdinal,\n  isTemporal,\n  isTemporalString,\n  isNumericString,\n  isScaleOptions,\n  map,\n  slice,\n  coerceNumbers,\n  coerceDates\n} from \"./options.js\";\nimport {registry, color, position, radius, opacity, symbol, length} from \"./scales/index.js\";\nimport {\n  createScaleLinear,\n  createScaleSqrt,\n  createScalePow,\n  createScaleLog,\n  createScaleSymlog,\n  createScaleQuantile,\n  createScaleQuantize,\n  createScaleThreshold,\n  createScaleIdentity\n} from \"./scales/quantitative.js\";\nimport {\n  createScaleDiverging,\n  createScaleDivergingSqrt,\n  createScaleDivergingPow,\n  createScaleDivergingLog,\n  createScaleDivergingSymlog\n} from \"./scales/diverging.js\";\nimport {isCategoricalScheme, isDivergingScheme} from \"./scales/schemes.js\";\nimport {createScaleTime, createScaleUtc} from \"./scales/temporal.js\";\nimport {createScaleOrdinal, createScalePoint, createScaleBand, ordinalImplicit} from \"./scales/ordinal.js\";\nimport {maybeSymbol} from \"./symbol.js\";\nimport {warn} from \"./warnings.js\";\n\nexport function createScales(\n  channelsByScale,\n  {\n    label: globalLabel,\n    inset: globalInset = 0,\n    insetTop: globalInsetTop = globalInset,\n    insetRight: globalInsetRight = globalInset,\n    insetBottom: globalInsetBottom = globalInset,\n    insetLeft: globalInsetLeft = globalInset,\n    round,\n    nice,\n    clamp,\n    zero,\n    align,\n    padding,\n    projection,\n    facet: {label: facetLabel = globalLabel} = {},\n    ...options\n  } = {}\n) {\n  const scales = {};\n  for (const [key, channels] of channelsByScale) {\n    const scaleOptions = options[key];\n    const scale = createScale(key, channels, {\n      round: registry.get(key) === position ? round : undefined, // only for position\n      nice,\n      clamp,\n      zero,\n      align,\n      padding,\n      projection,\n      ...scaleOptions\n    });\n    if (scale) {\n      // populate generic scale options (percent, transform, insets)\n      let {\n        label = key === \"fx\" || key === \"fy\" ? facetLabel : globalLabel,\n        percent,\n        transform,\n        inset,\n        insetTop = inset !== undefined ? inset : key === \"y\" ? globalInsetTop : 0, // not fy\n        insetRight = inset !== undefined ? inset : key === \"x\" ? globalInsetRight : 0, // not fx\n        insetBottom = inset !== undefined ? inset : key === \"y\" ? globalInsetBottom : 0, // not fy\n        insetLeft = inset !== undefined ? inset : key === \"x\" ? globalInsetLeft : 0 // not fx\n      } = scaleOptions || {};\n      if (transform == null) transform = undefined;\n      else if (typeof transform !== \"function\") throw new Error(\"invalid scale transform; not a function\");\n      scale.percent = !!percent;\n      scale.label = label === undefined ? inferScaleLabel(channels, scale) : label;\n      scale.transform = transform;\n      if (key === \"x\" || key === \"fx\") {\n        scale.insetLeft = +insetLeft;\n        scale.insetRight = +insetRight;\n      } else if (key === \"y\" || key === \"fy\") {\n        scale.insetTop = +insetTop;\n        scale.insetBottom = +insetBottom;\n      }\n      scales[key] = scale;\n    }\n  }\n  return scales;\n}\n\nexport function createScaleFunctions(scales) {\n  return Object.fromEntries(\n    Object.entries(scales)\n      .filter(([, {scale}]) => scale) // drop identity scales\n      .map(([name, {scale, type, interval, label}]) => {\n        scale.type = type; // for axis\n        if (interval != null) scale.interval = interval; // for axis\n        if (label != null) scale.label = label; // for axis\n        return [name, scale];\n      })\n  );\n}\n\n// Mutates scale.range!\nexport function autoScaleRange(scales, dimensions) {\n  const {x, y, fx, fy} = scales;\n  const superdimensions = fx || fy ? outerDimensions(dimensions) : dimensions;\n  if (fx) autoScaleRangeX(fx, superdimensions);\n  if (fy) autoScaleRangeY(fy, superdimensions);\n  const subdimensions = fx || fy ? innerDimensions(scales, dimensions) : dimensions;\n  if (x) autoScaleRangeX(x, subdimensions);\n  if (y) autoScaleRangeY(y, subdimensions);\n}\n\n// Channels can have labels; if all the channels for a given scale are\n// consistently labeled (i.e., have the same value if not undefined), and the\n// corresponding scale doesn\u2019t already have an explicit label, then the\n// channels\u2019 label is promoted to the scale. This inferred label should have an\n// orientation-appropriate arrow added when used as an axis, but we don\u2019t want\n// to add the arrow when the label is set explicitly as an option; so, the\n// inferred label is distinguished as an object with an \u201Cinferred\u201D property.\nfunction inferScaleLabel(channels = [], scale) {\n  let label;\n  for (const {label: l} of channels) {\n    if (l === undefined) continue;\n    if (label === undefined) label = l;\n    else if (label !== l) return;\n  }\n  if (label === undefined) return;\n  if (!isOrdinalScale(scale) && scale.percent) label = `${label} (%)`;\n  return {inferred: true, toString: () => label};\n}\n\n// Returns the dimensions of the outer frame; this is subdivided into facets\n// with the margins of each facet collapsing into the outer margins.\nexport function outerDimensions(dimensions) {\n  const {\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    width,\n    height,\n    facet: {\n      marginTop: facetMarginTop,\n      marginRight: facetMarginRight,\n      marginBottom: facetMarginBottom,\n      marginLeft: facetMarginLeft\n    }\n  } = dimensions;\n  return {\n    marginTop: Math.max(marginTop, facetMarginTop),\n    marginRight: Math.max(marginRight, facetMarginRight),\n    marginBottom: Math.max(marginBottom, facetMarginBottom),\n    marginLeft: Math.max(marginLeft, facetMarginLeft),\n    width,\n    height\n  };\n}\n\n// Returns the dimensions of each facet.\nexport function innerDimensions({fx, fy}, dimensions) {\n  const {marginTop, marginRight, marginBottom, marginLeft, width, height} = outerDimensions(dimensions);\n  return {\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft,\n    width: fx ? fx.scale.bandwidth() + marginLeft + marginRight : width,\n    height: fy ? fy.scale.bandwidth() + marginTop + marginBottom : height,\n    facet: {width, height}\n  };\n}\n\nfunction autoScaleRangeX(scale, dimensions) {\n  if (scale.range === undefined) {\n    const {insetLeft, insetRight} = scale;\n    const {width, marginLeft = 0, marginRight = 0} = dimensions;\n    const left = marginLeft + insetLeft;\n    const right = width - marginRight - insetRight;\n    scale.range = [left, Math.max(left, right)];\n    if (!isOrdinalScale(scale)) scale.range = piecewiseRange(scale);\n    scale.scale.range(scale.range);\n  }\n  autoScaleRound(scale);\n}\n\nfunction autoScaleRangeY(scale, dimensions) {\n  if (scale.range === undefined) {\n    const {insetTop, insetBottom} = scale;\n    const {height, marginTop = 0, marginBottom = 0} = dimensions;\n    const top = marginTop + insetTop;\n    const bottom = height - marginBottom - insetBottom;\n    scale.range = [Math.max(top, bottom), top];\n    if (!isOrdinalScale(scale)) scale.range = piecewiseRange(scale);\n    else scale.range.reverse();\n    scale.scale.range(scale.range);\n  }\n  autoScaleRound(scale);\n}\n\nfunction autoScaleRound(scale) {\n  if (scale.round === undefined && isBandScale(scale) && roundError(scale) <= 30) {\n    scale.scale.round(true);\n  }\n}\n\n// If we were to turn on rounding for this band or point scale, how much wasted\n// space would it introduce (on both ends of the range)? This must match\n// d3.scaleBand\u2019s rounding behavior:\n// https://github.com/d3/d3-scale/blob/83555bd759c7314420bd4240642beda5e258db9e/src/band.js#L20-L32\nfunction roundError({scale}) {\n  const n = scale.domain().length;\n  const [start, stop] = scale.range();\n  const paddingInner = scale.paddingInner ? scale.paddingInner() : 1;\n  const paddingOuter = scale.paddingOuter ? scale.paddingOuter() : scale.padding();\n  const m = n - paddingInner;\n  const step = Math.abs(stop - start) / Math.max(1, m + paddingOuter * 2);\n  return (step - Math.floor(step)) * m;\n}\n\nfunction piecewiseRange(scale) {\n  const length = scale.scale.domain().length + isThresholdScale(scale);\n  if (!(length > 2)) return scale.range;\n  const [start, end] = scale.range;\n  return Array.from({length}, (_, i) => start + (i / (length - 1)) * (end - start));\n}\n\nexport function normalizeScale(key, scale, hint) {\n  return createScale(key, hint === undefined ? undefined : [{hint}], {...scale});\n}\n\nfunction createScale(key, channels = [], options = {}) {\n  const type = inferScaleType(key, channels, options);\n\n  // Warn for common misuses of implicit ordinal scales. We disable this test if\n  // you specify a scale interval or if you set the domain or range explicitly,\n  // since setting the domain or range (typically with a cardinality of more than\n  // two) is another indication that you intended for the scale to be ordinal; we\n  // also disable it for facet scales since these are always band scales.\n  if (\n    options.type === undefined &&\n    options.domain === undefined &&\n    options.range === undefined &&\n    options.interval == null &&\n    key !== \"fx\" &&\n    key !== \"fy\" &&\n    isOrdinalScale({type})\n  ) {\n    const values = channels.map(({value}) => value).filter((value) => value !== undefined);\n    if (values.some(isTemporal))\n      warn(\n        `Warning: some data associated with the ${key} scale are dates. Dates are typically associated with a \"utc\" or \"time\" scale rather than a \"${formatScaleType(\n          type\n        )}\" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${key} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${key} scale to \"${formatScaleType(\n          type\n        )}\".`\n      );\n    else if (values.some(isTemporalString))\n      warn(\n        `Warning: some data associated with the ${key} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a \"utc\" or \"time\" scale rather than a \"${formatScaleType(\n          type\n        )}\" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${key} scale to \"${formatScaleType(\n          type\n        )}\".`\n      );\n    else if (values.some(isNumericString))\n      warn(\n        `Warning: some data associated with the ${key} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a \"linear\" scale rather than a \"${formatScaleType(\n          type\n        )}\" scale. If you want to treat this data as ordinal, you can specify the interval of the ${key} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${key} scale to \"${formatScaleType(\n          type\n        )}\".`\n      );\n  }\n\n  options.type = type; // Mutates input!\n\n  // Once the scale type is known, coerce the associated channel values and any\n  // explicitly-specified domain to the expected type.\n  switch (type) {\n    case \"diverging\":\n    case \"diverging-sqrt\":\n    case \"diverging-pow\":\n    case \"diverging-log\":\n    case \"diverging-symlog\":\n    case \"cyclical\":\n    case \"sequential\":\n    case \"linear\":\n    case \"sqrt\":\n    case \"threshold\":\n    case \"quantile\":\n    case \"pow\":\n    case \"log\":\n    case \"symlog\":\n      options = coerceType(channels, options, coerceNumbers);\n      break;\n    case \"identity\":\n      switch (registry.get(key)) {\n        case position:\n          options = coerceType(channels, options, coerceNumbers);\n          break;\n        case symbol:\n          options = coerceType(channels, options, coerceSymbols);\n          break;\n      }\n      break;\n    case \"utc\":\n    case \"time\":\n      options = coerceType(channels, options, coerceDates);\n      break;\n  }\n\n  switch (type) {\n    case \"diverging\":\n      return createScaleDiverging(key, channels, options);\n    case \"diverging-sqrt\":\n      return createScaleDivergingSqrt(key, channels, options);\n    case \"diverging-pow\":\n      return createScaleDivergingPow(key, channels, options);\n    case \"diverging-log\":\n      return createScaleDivergingLog(key, channels, options);\n    case \"diverging-symlog\":\n      return createScaleDivergingSymlog(key, channels, options);\n    case \"categorical\":\n    case \"ordinal\":\n    case ordinalImplicit:\n      return createScaleOrdinal(key, channels, options);\n    case \"cyclical\":\n    case \"sequential\":\n    case \"linear\":\n      return createScaleLinear(key, channels, options);\n    case \"sqrt\":\n      return createScaleSqrt(key, channels, options);\n    case \"threshold\":\n      return createScaleThreshold(key, channels, options);\n    case \"quantile\":\n      return createScaleQuantile(key, channels, options);\n    case \"quantize\":\n      return createScaleQuantize(key, channels, options);\n    case \"pow\":\n      return createScalePow(key, channels, options);\n    case \"log\":\n      return createScaleLog(key, channels, options);\n    case \"symlog\":\n      return createScaleSymlog(key, channels, options);\n    case \"utc\":\n      return createScaleUtc(key, channels, options);\n    case \"time\":\n      return createScaleTime(key, channels, options);\n    case \"point\":\n      return createScalePoint(key, channels, options);\n    case \"band\":\n      return createScaleBand(key, channels, options);\n    case \"identity\":\n      return registry.get(key) === position ? createScaleIdentity() : {type: \"identity\"};\n    case undefined:\n      return;\n    default:\n      throw new Error(`unknown scale type: ${type}`);\n  }\n}\n\nfunction formatScaleType(type) {\n  return typeof type === \"symbol\" ? type.description : type;\n}\n\n// A special type symbol when the x and y scales are replaced with a projection.\nconst typeProjection = {toString: () => \"projection\"};\n\nfunction inferScaleType(key, channels, {type, domain, range, scheme, pivot, projection}) {\n  // The facet scales are always band scales; this cannot be changed.\n  if (key === \"fx\" || key === \"fy\") return \"band\";\n\n  // If a projection is specified, the x- and y-scales are disabled; these\n  // channels will be projected rather than scaled. (But still check that none\n  // of the associated channels are incompatible with a projection.)\n  if ((key === \"x\" || key === \"y\") && projection != null) type = typeProjection;\n\n  // If a channel dictates a scale type, make sure that it is consistent with\n  // the user-specified scale type (if any) and all other channels. For example,\n  // barY requires x to be a band scale and disallows any other scale type.\n  for (const {type: t} of channels) {\n    if (t === undefined) continue;\n    else if (type === undefined) type = t;\n    else if (type !== t) throw new Error(`scale incompatible with channel: ${type} !== ${t}`);\n  }\n\n  // If the scale, a channel, or user specified a (consistent) type, return it.\n  if (type === typeProjection) return;\n  if (type !== undefined) return type;\n\n  // If there\u2019s no data (and no type) associated with this scale, don\u2019t create a scale.\n  if (domain === undefined && !channels.some(({value}) => value !== undefined)) return;\n\n  // Some scales have default types.\n  const kind = registry.get(key);\n  if (kind === radius) return \"sqrt\";\n  if (kind === opacity || kind === length) return \"linear\";\n  if (kind === symbol) return \"ordinal\";\n\n  // If the domain or range has more than two values, assume it\u2019s ordinal. You\n  // can still use a \u201Cpiecewise\u201D (or \u201Cpolylinear\u201D) scale, but you must set the\n  // type explicitly.\n  if ((domain || range || []).length > 2) return asOrdinalType(kind);\n\n  // Otherwise, infer the scale type from the data! Prefer the domain, if\n  // present, over channels. (The domain and channels should be consistently\n  // typed, and the domain is more explicit and typically much smaller.) We only\n  // check the first defined value for expedience and simplicity; we expect\n  // that the types are consistent.\n  if (domain !== undefined) {\n    if (isOrdinal(domain)) return asOrdinalType(kind);\n    if (isTemporal(domain)) return \"utc\";\n  } else {\n    const values = channels.map(({value}) => value).filter((value) => value !== undefined);\n    if (values.some(isOrdinal)) return asOrdinalType(kind);\n    if (values.some(isTemporal)) return \"utc\";\n  }\n\n  // For color scales, take a hint from the color scheme and pivot option.\n  if (kind === color) {\n    if (pivot != null || isDivergingScheme(scheme)) return \"diverging\";\n    if (isCategoricalScheme(scheme)) return \"categorical\";\n  }\n\n  return \"linear\";\n}\n\n// Positional scales default to a point scale instead of an ordinal scale.\nfunction asOrdinalType(kind) {\n  switch (kind) {\n    case position:\n      return \"point\";\n    case color:\n      return ordinalImplicit;\n    default:\n      return \"ordinal\";\n  }\n}\n\nexport function isTemporalScale({type}) {\n  return type === \"time\" || type === \"utc\";\n}\n\nexport function isOrdinalScale({type}) {\n  return type === \"ordinal\" || type === \"point\" || type === \"band\" || type === ordinalImplicit;\n}\n\nexport function isThresholdScale({type}) {\n  return type === \"threshold\";\n}\n\nfunction isBandScale({type}) {\n  return type === \"point\" || type === \"band\";\n}\n\nexport function isDivergingScale({type}) {\n  return /^diverging($|-)/.test(type);\n}\n\n// Certain marks have special behavior if a scale is collapsed, i.e. if the\n// domain is degenerate and represents only a single value such as [3, 3]; for\n// example, a rect will span the full extent of the chart along a collapsed\n// dimension (whereas a dot will simply be drawn in the center).\nexport function isCollapsed(scale) {\n  if (scale === undefined) return true; // treat missing scale as collapsed\n  const domain = scale.domain();\n  const value = scale(domain[0]);\n  for (let i = 1, n = domain.length; i < n; ++i) {\n    if (scale(domain[i]) - value) {\n      return false;\n    }\n  }\n  return true;\n}\n\n// Mutates channel.value!\nfunction coerceType(channels, {domain, ...options}, coerceValues) {\n  for (const c of channels) {\n    if (c.value !== undefined) {\n      c.value = coerceValues(c.value);\n    }\n  }\n  return {\n    domain: domain === undefined ? domain : coerceValues(domain),\n    ...options\n  };\n}\n\nfunction coerceSymbols(values) {\n  return map(values, maybeSymbol);\n}\n\nexport function scale(options = {}) {\n  let scale;\n  for (const key in options) {\n    if (!registry.has(key)) continue; // ignore unknown properties\n    if (!isScaleOptions(options[key])) continue; // e.g., ignore {color: \"red\"}\n    if (scale !== undefined) throw new Error(\"ambiguous scale definition; multiple scales found\");\n    scale = exposeScale(normalizeScale(key, options[key]));\n  }\n  if (scale === undefined) throw new Error(\"invalid scale definition; no scale found\");\n  return scale;\n}\n\nexport function exposeScales(scaleDescriptors) {\n  return (key) => {\n    if (!registry.has((key = `${key}`))) throw new Error(`unknown scale: ${key}`);\n    return key in scaleDescriptors ? exposeScale(scaleDescriptors[key]) : undefined;\n  };\n}\n\n// Note: axis- and legend-related properties (such as label, ticks and\n// tickFormat) are not included here as they do not affect the scale\u2019s behavior.\nfunction exposeScale({scale, type, domain, range, interpolate, interval, transform, percent, pivot}) {\n  if (type === \"identity\") return {type: \"identity\", apply: (d) => d, invert: (d) => d};\n  const unknown = scale.unknown ? scale.unknown() : undefined;\n  return {\n    type,\n    domain: slice(domain), // defensive copy\n    ...(range !== undefined && {range: slice(range)}), // defensive copy\n    ...(transform !== undefined && {transform}),\n    ...(percent && {percent}), // only exposed if truthy\n    ...(unknown !== undefined && {unknown}),\n    ...(interval !== undefined && {interval}),\n\n    // quantitative\n    ...(interpolate !== undefined && {interpolate}),\n    ...(scale.clamp && {clamp: scale.clamp()}),\n\n    // diverging (always asymmetric; we never want to apply the symmetric transform twice)\n    ...(pivot !== undefined && {pivot, symmetric: false}),\n\n    // log, diverging-log\n    ...(scale.base && {base: scale.base()}),\n\n    // pow, diverging-pow\n    ...(scale.exponent && {exponent: scale.exponent()}),\n\n    // symlog, diverging-symlog\n    ...(scale.constant && {constant: scale.constant()}),\n\n    // band, point\n    ...(scale.align && {align: scale.align(), round: scale.round()}),\n    ...(scale.padding &&\n      (scale.paddingInner\n        ? {paddingInner: scale.paddingInner(), paddingOuter: scale.paddingOuter()}\n        : {padding: scale.padding()})),\n    ...(scale.bandwidth && {bandwidth: scale.bandwidth(), step: scale.step()}),\n\n    // utilities\n    apply: (t) => scale(t),\n    ...(scale.invert && {invert: (t) => scale.invert(t)})\n  };\n}\n", "export function memoize1(compute) {\n  let cacheValue, cacheKeys;\n  return (...keys) => {\n    if (cacheKeys?.length !== keys.length || cacheKeys.some((k, i) => k !== keys[i])) {\n      cacheKeys = keys;\n      cacheValue = compute(...keys);\n    }\n    return cacheValue;\n  };\n}\n", "import {format as isoFormat} from \"isoformat\";\nimport {string} from \"./options.js\";\nimport {memoize1} from \"./memoize.js\";\n\nconst numberFormat = memoize1((locale) => {\n  return new Intl.NumberFormat(locale);\n});\n\nconst monthFormat = memoize1((locale, month) => {\n  return new Intl.DateTimeFormat(locale, {timeZone: \"UTC\", ...(month && {month})});\n});\n\nconst weekdayFormat = memoize1((locale, weekday) => {\n  return new Intl.DateTimeFormat(locale, {timeZone: \"UTC\", ...(weekday && {weekday})});\n});\n\nexport function formatNumber(locale = \"en-US\") {\n  const format = numberFormat(locale);\n  return (i) => (i != null && !isNaN(i) ? format.format(i) : undefined);\n}\n\nexport function formatMonth(locale = \"en-US\", format = \"short\") {\n  const fmt = monthFormat(locale, format);\n  return (i) => (i != null && !isNaN((i = +new Date(Date.UTC(2000, +i)))) ? fmt.format(i) : undefined);\n}\n\nexport function formatWeekday(locale = \"en-US\", format = \"short\") {\n  const fmt = weekdayFormat(locale, format);\n  return (i) => (i != null && !isNaN((i = +new Date(Date.UTC(2001, 0, +i)))) ? fmt.format(i) : undefined);\n}\n\nexport function formatIsoDate(date) {\n  return isoFormat(date, \"Invalid Date\");\n}\n\nexport function formatAuto(locale = \"en-US\") {\n  const number = formatNumber(locale);\n  return (v) => (v instanceof Date ? formatIsoDate : typeof v === \"number\" ? number : string)(v);\n}\n\n// TODO When Plot supports a top-level locale option, this should be removed\n// because it lacks context to know which locale to use; formatAuto should be\n// used instead whenever possible.\nexport const formatDefault = formatAuto();\n", "import {geoPath, group, namespaces} from \"d3\";\nimport {create} from \"./context.js\";\nimport {defined, nonempty} from \"./defined.js\";\nimport {formatDefault} from \"./format.js\";\nimport {\n  string,\n  number,\n  maybeColorChannel,\n  maybeNumberChannel,\n  maybeKeyword,\n  isNoneish,\n  isNone,\n  isRound,\n  keyof\n} from \"./options.js\";\nimport {warn} from \"./warnings.js\";\n\nexport const offset = (typeof window !== \"undefined\" ? window.devicePixelRatio > 1 : typeof it === \"undefined\") ? 0 : 0.5; // prettier-ignore\n\nlet nextClipId = 0;\n\nfunction getClipId() {\n  return `plot-clip-${++nextClipId}`;\n}\n\nexport function styles(\n  mark,\n  {\n    title,\n    href,\n    ariaLabel: variaLabel,\n    ariaDescription,\n    ariaHidden,\n    target,\n    fill,\n    fillOpacity,\n    stroke,\n    strokeWidth,\n    strokeOpacity,\n    strokeLinejoin,\n    strokeLinecap,\n    strokeMiterlimit,\n    strokeDasharray,\n    strokeDashoffset,\n    opacity,\n    mixBlendMode,\n    imageFilter,\n    paintOrder,\n    pointerEvents,\n    shapeRendering,\n    channels\n  },\n  {\n    ariaLabel: cariaLabel,\n    fill: defaultFill = \"currentColor\",\n    fillOpacity: defaultFillOpacity,\n    stroke: defaultStroke = \"none\",\n    strokeOpacity: defaultStrokeOpacity,\n    strokeWidth: defaultStrokeWidth,\n    strokeLinecap: defaultStrokeLinecap,\n    strokeLinejoin: defaultStrokeLinejoin,\n    strokeMiterlimit: defaultStrokeMiterlimit,\n    paintOrder: defaultPaintOrder\n  }\n) {\n  // Some marks don\u2019t support fill (e.g., tick and rule).\n  if (defaultFill === null) {\n    fill = null;\n    fillOpacity = null;\n  }\n\n  // Some marks don\u2019t support stroke (e.g., image).\n  if (defaultStroke === null) {\n    stroke = null;\n    strokeOpacity = null;\n  }\n\n  // Some marks default to fill with no stroke, while others default to stroke\n  // with no fill. For example, bar and area default to fill, while dot and line\n  // default to stroke. For marks that fill by default, the default fill only\n  // applies if the stroke is (constant) none; if you set a stroke, then the\n  // default fill becomes none. Similarly for marks that stroke by stroke, the\n  // default stroke only applies if the fill is (constant) none.\n  if (isNoneish(defaultFill)) {\n    if (!isNoneish(defaultStroke) && (!isNoneish(fill) || channels?.fill)) defaultStroke = \"none\";\n  } else {\n    if (isNoneish(defaultStroke) && (!isNoneish(stroke) || channels?.stroke)) defaultFill = \"none\";\n  }\n\n  const [vfill, cfill] = maybeColorChannel(fill, defaultFill);\n  const [vfillOpacity, cfillOpacity] = maybeNumberChannel(fillOpacity, defaultFillOpacity);\n  const [vstroke, cstroke] = maybeColorChannel(stroke, defaultStroke);\n  const [vstrokeOpacity, cstrokeOpacity] = maybeNumberChannel(strokeOpacity, defaultStrokeOpacity);\n  const [vopacity, copacity] = maybeNumberChannel(opacity);\n\n  // For styles that have no effect if there is no stroke, only apply the\n  // defaults if the stroke is not the constant none. (If stroke is a channel,\n  // then cstroke will be undefined, but there\u2019s still a stroke; hence we don\u2019t\n  // use isNoneish here.)\n  if (!isNone(cstroke)) {\n    if (strokeWidth === undefined) strokeWidth = defaultStrokeWidth;\n    if (strokeLinecap === undefined) strokeLinecap = defaultStrokeLinecap;\n    if (strokeLinejoin === undefined) strokeLinejoin = defaultStrokeLinejoin;\n\n    // The default stroke miterlimit need not be applied if the current stroke\n    // is the constant round; this only has effect on miter joins.\n    if (strokeMiterlimit === undefined && !isRound(strokeLinejoin)) strokeMiterlimit = defaultStrokeMiterlimit;\n\n    // The paint order only takes effect if there is both a fill and a stroke\n    // (at least if we ignore markers, which no built-in marks currently use).\n    if (!isNone(cfill) && paintOrder === undefined) paintOrder = defaultPaintOrder;\n  }\n\n  const [vstrokeWidth, cstrokeWidth] = maybeNumberChannel(strokeWidth);\n\n  // Some marks don\u2019t support fill (e.g., tick and rule).\n  if (defaultFill !== null) {\n    mark.fill = impliedString(cfill, \"currentColor\");\n    mark.fillOpacity = impliedNumber(cfillOpacity, 1);\n  }\n\n  // Some marks don\u2019t support stroke (e.g., image).\n  if (defaultStroke !== null) {\n    mark.stroke = impliedString(cstroke, \"none\");\n    mark.strokeWidth = impliedNumber(cstrokeWidth, 1);\n    mark.strokeOpacity = impliedNumber(cstrokeOpacity, 1);\n    mark.strokeLinejoin = impliedString(strokeLinejoin, \"miter\");\n    mark.strokeLinecap = impliedString(strokeLinecap, \"butt\");\n    mark.strokeMiterlimit = impliedNumber(strokeMiterlimit, 4);\n    mark.strokeDasharray = impliedString(strokeDasharray, \"none\");\n    mark.strokeDashoffset = impliedString(strokeDashoffset, \"0\");\n  }\n\n  mark.target = string(target);\n  mark.ariaLabel = string(cariaLabel);\n  mark.ariaDescription = string(ariaDescription);\n  mark.ariaHidden = string(ariaHidden);\n  mark.opacity = impliedNumber(copacity, 1);\n  mark.mixBlendMode = impliedString(mixBlendMode, \"normal\");\n  mark.imageFilter = impliedString(imageFilter, \"none\");\n  mark.paintOrder = impliedString(paintOrder, \"normal\");\n  mark.pointerEvents = impliedString(pointerEvents, \"auto\");\n  mark.shapeRendering = impliedString(shapeRendering, \"auto\");\n\n  return {\n    title: {value: title, optional: true, filter: null},\n    href: {value: href, optional: true, filter: null},\n    ariaLabel: {value: variaLabel, optional: true, filter: null},\n    fill: {value: vfill, scale: \"auto\", optional: true},\n    fillOpacity: {value: vfillOpacity, scale: \"auto\", optional: true},\n    stroke: {value: vstroke, scale: \"auto\", optional: true},\n    strokeOpacity: {value: vstrokeOpacity, scale: \"auto\", optional: true},\n    strokeWidth: {value: vstrokeWidth, optional: true},\n    opacity: {value: vopacity, scale: \"auto\", optional: true}\n  };\n}\n\n// Applies the specified titles via selection.call.\nexport function applyTitle(selection, L) {\n  if (L)\n    selection\n      .filter((i) => nonempty(L[i]))\n      .append(\"title\")\n      .call(applyText, L);\n}\n\n// Like applyTitle, but for grouped data (lines, areas).\nexport function applyTitleGroup(selection, L) {\n  if (L)\n    selection\n      .filter(([i]) => nonempty(L[i]))\n      .append(\"title\")\n      .call(applyTextGroup, L);\n}\n\nexport function applyText(selection, T) {\n  if (T) selection.text((i) => formatDefault(T[i]));\n}\n\nexport function applyTextGroup(selection, T) {\n  if (T) selection.text(([i]) => formatDefault(T[i]));\n}\n\nexport function applyChannelStyles(\n  selection,\n  {target, tip},\n  {\n    ariaLabel: AL,\n    title: T,\n    fill: F,\n    fillOpacity: FO,\n    stroke: S,\n    strokeOpacity: SO,\n    strokeWidth: SW,\n    opacity: O,\n    href: H\n  }\n) {\n  if (AL) applyAttr(selection, \"aria-label\", (i) => AL[i]);\n  if (F) applyAttr(selection, \"fill\", (i) => F[i]);\n  if (FO) applyAttr(selection, \"fill-opacity\", (i) => FO[i]);\n  if (S) applyAttr(selection, \"stroke\", (i) => S[i]);\n  if (SO) applyAttr(selection, \"stroke-opacity\", (i) => SO[i]);\n  if (SW) applyAttr(selection, \"stroke-width\", (i) => SW[i]);\n  if (O) applyAttr(selection, \"opacity\", (i) => O[i]);\n  if (H) applyHref(selection, (i) => H[i], target);\n  if (!tip) applyTitle(selection, T);\n}\n\nexport function applyGroupedChannelStyles(\n  selection,\n  {target, tip},\n  {\n    ariaLabel: AL,\n    title: T,\n    fill: F,\n    fillOpacity: FO,\n    stroke: S,\n    strokeOpacity: SO,\n    strokeWidth: SW,\n    opacity: O,\n    href: H\n  }\n) {\n  if (AL) applyAttr(selection, \"aria-label\", ([i]) => AL[i]);\n  if (F) applyAttr(selection, \"fill\", ([i]) => F[i]);\n  if (FO) applyAttr(selection, \"fill-opacity\", ([i]) => FO[i]);\n  if (S) applyAttr(selection, \"stroke\", ([i]) => S[i]);\n  if (SO) applyAttr(selection, \"stroke-opacity\", ([i]) => SO[i]);\n  if (SW) applyAttr(selection, \"stroke-width\", ([i]) => SW[i]);\n  if (O) applyAttr(selection, \"opacity\", ([i]) => O[i]);\n  if (H) applyHref(selection, ([i]) => H[i], target);\n  if (!tip) applyTitleGroup(selection, T);\n}\n\nfunction groupAesthetics(\n  {\n    ariaLabel: AL,\n    title: T,\n    fill: F,\n    fillOpacity: FO,\n    stroke: S,\n    strokeOpacity: SO,\n    strokeWidth: SW,\n    opacity: O,\n    href: H\n  },\n  {tip}\n) {\n  return [AL, tip ? undefined : T, F, FO, S, SO, SW, O, H].filter((c) => c !== undefined);\n}\n\nexport function groupZ(I, Z, z) {\n  const G = group(I, (i) => Z[i]);\n  if (z === undefined && G.size > (1 + I.length) >> 1) {\n    warn(\n      `Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null.`\n    );\n  }\n  return G.values();\n}\n\nexport function* groupIndex(I, position, mark, channels) {\n  const {z} = mark;\n  const {z: Z} = channels; // group channel\n  const A = groupAesthetics(channels, mark); // aesthetic channels\n  const C = [...position, ...A]; // all channels\n\n  // Group the current index by Z (if any).\n  for (const G of Z ? groupZ(I, Z, z) : [I]) {\n    let Ag; // the A-values (aesthetics) of the current group, if any\n    let Gg; // the current group index (a subset of G, and I), if any\n    out: for (const i of G) {\n      // If any channel has an undefined value for this index, skip it.\n      for (const c of C) {\n        if (!defined(c[i])) {\n          if (Gg) Gg.push(-1);\n          continue out;\n        }\n      }\n\n      // Otherwise, if this is a new group, record the aesthetics for this\n      // group. Yield the current group and start a new one.\n      if (Ag === undefined) {\n        if (Gg) yield Gg;\n        (Ag = A.map((c) => keyof(c[i]))), (Gg = [i]);\n        continue;\n      }\n\n      // Otherwise, add the current index to the current group. Then, if any of\n      // the aesthetics don\u2019t match the current group, yield the current group\n      // and start a new group of the current index.\n      Gg.push(i);\n      for (let j = 0; j < A.length; ++j) {\n        const k = keyof(A[j][i]);\n        if (k !== Ag[j]) {\n          yield Gg;\n          (Ag = A.map((c) => keyof(c[i]))), (Gg = [i]);\n          continue out;\n        }\n      }\n    }\n\n    // Yield the current group, if any.\n    if (Gg) yield Gg;\n  }\n}\n\n// TODO Accept other types of clips (paths, urls, x, y, other marks\u2026)?\n// https://github.com/observablehq/plot/issues/181\nexport function maybeClip(clip) {\n  if (clip === true) clip = \"frame\";\n  else if (clip === false) clip = null;\n  return maybeKeyword(clip, \"clip\", [\"frame\", \"sphere\"]);\n}\n\n// Note: may mutate selection.node!\nfunction applyClip(selection, mark, dimensions, context) {\n  let clipUrl;\n  switch (mark.clip) {\n    case \"frame\": {\n      const {width, height, marginLeft, marginRight, marginTop, marginBottom} = dimensions;\n      const id = getClipId();\n      clipUrl = `url(#${id})`;\n      selection = create(\"svg:g\", context)\n        .call((g) =>\n          g\n            .append(\"svg:clipPath\")\n            .attr(\"id\", id)\n            .append(\"rect\")\n            .attr(\"x\", marginLeft)\n            .attr(\"y\", marginTop)\n            .attr(\"width\", width - marginRight - marginLeft)\n            .attr(\"height\", height - marginTop - marginBottom)\n        )\n        .each(function () {\n          this.appendChild(selection.node());\n          selection.node = () => this; // Note: mutation!\n        });\n      break;\n    }\n    case \"sphere\": {\n      const {projection} = context;\n      if (!projection) throw new Error(`the \"sphere\" clip option requires a projection`);\n      const id = getClipId();\n      clipUrl = `url(#${id})`;\n      selection\n        .append(\"clipPath\")\n        .attr(\"id\", id)\n        .append(\"path\")\n        .attr(\"d\", geoPath(projection)({type: \"Sphere\"}));\n      break;\n    }\n  }\n  // Here we\u2019re careful to apply the ARIA attributes to the outer G element when\n  // clipping is applied, and to apply the ARIA attributes before any other\n  // attributes (for readability).\n  applyAttr(selection, \"aria-label\", mark.ariaLabel);\n  applyAttr(selection, \"aria-description\", mark.ariaDescription);\n  applyAttr(selection, \"aria-hidden\", mark.ariaHidden);\n  applyAttr(selection, \"clip-path\", clipUrl);\n}\n\n// Note: may mutate selection.node!\nexport function applyIndirectStyles(selection, mark, dimensions, context) {\n  applyClip(selection, mark, dimensions, context);\n  applyAttr(selection, \"fill\", mark.fill);\n  applyAttr(selection, \"fill-opacity\", mark.fillOpacity);\n  applyAttr(selection, \"stroke\", mark.stroke);\n  applyAttr(selection, \"stroke-width\", mark.strokeWidth);\n  applyAttr(selection, \"stroke-opacity\", mark.strokeOpacity);\n  applyAttr(selection, \"stroke-linejoin\", mark.strokeLinejoin);\n  applyAttr(selection, \"stroke-linecap\", mark.strokeLinecap);\n  applyAttr(selection, \"stroke-miterlimit\", mark.strokeMiterlimit);\n  applyAttr(selection, \"stroke-dasharray\", mark.strokeDasharray);\n  applyAttr(selection, \"stroke-dashoffset\", mark.strokeDashoffset);\n  applyAttr(selection, \"shape-rendering\", mark.shapeRendering);\n  applyAttr(selection, \"filter\", mark.imageFilter);\n  applyAttr(selection, \"paint-order\", mark.paintOrder);\n  const {pointerEvents = context.pointerSticky === false ? \"none\" : undefined} = mark;\n  applyAttr(selection, \"pointer-events\", pointerEvents);\n}\n\nexport function applyDirectStyles(selection, mark) {\n  applyStyle(selection, \"mix-blend-mode\", mark.mixBlendMode);\n  applyAttr(selection, \"opacity\", mark.opacity);\n}\n\nfunction applyHref(selection, href, target) {\n  selection.each(function (i) {\n    const h = href(i);\n    if (h != null) {\n      const a = this.ownerDocument.createElementNS(namespaces.svg, \"a\");\n      a.setAttribute(\"fill\", \"inherit\");\n      a.setAttributeNS(namespaces.xlink, \"href\", h);\n      if (target != null) a.setAttribute(\"target\", target);\n      this.parentNode.insertBefore(a, this).appendChild(this);\n    }\n  });\n}\n\nexport function applyAttr(selection, name, value) {\n  if (value != null) selection.attr(name, value);\n}\n\nexport function applyStyle(selection, name, value) {\n  if (value != null) selection.style(name, value);\n}\n\nexport function applyTransform(selection, mark, {x, y}, tx = offset, ty = offset) {\n  tx += mark.dx;\n  ty += mark.dy;\n  if (x?.bandwidth) tx += x.bandwidth() / 2;\n  if (y?.bandwidth) ty += y.bandwidth() / 2;\n  if (tx || ty) selection.attr(\"transform\", `translate(${tx},${ty})`);\n}\n\nexport function impliedString(value, impliedValue) {\n  if ((value = string(value)) !== impliedValue) return value;\n}\n\nexport function impliedNumber(value, impliedValue) {\n  if ((value = number(value)) !== impliedValue) return value;\n}\n\n// https://www.w3.org/TR/CSS21/grammar.html\nconst validClassName =\n  /^-?([_a-z]|[\\240-\\377]|\\\\[0-9a-f]{1,6}(\\r\\n|[ \\t\\r\\n\\f])?|\\\\[^\\r\\n\\f0-9a-f])([_a-z0-9-]|[\\240-\\377]|\\\\[0-9a-f]{1,6}(\\r\\n|[ \\t\\r\\n\\f])?|\\\\[^\\r\\n\\f0-9a-f])*$/i;\n\nexport function maybeClassName(name) {\n  // The default should be changed whenever the default styles are changed, so\n  // as to avoid conflict when multiple versions of Plot are on the page.\n  if (name === undefined) return \"plot-d6a7b5\";\n  name = `${name}`;\n  if (!validClassName.test(name)) throw new Error(`invalid class name: ${name}`);\n  return name;\n}\n\nexport function applyInlineStyles(selection, style) {\n  if (typeof style === \"string\") {\n    selection.property(\"style\", style);\n  } else if (style != null) {\n    for (const element of selection) {\n      Object.assign(element.style, style);\n    }\n  }\n}\n\nexport function applyFrameAnchor({frameAnchor}, {width, height, marginTop, marginRight, marginBottom, marginLeft}) {\n  return [\n    /left$/.test(frameAnchor)\n      ? marginLeft\n      : /right$/.test(frameAnchor)\n      ? width - marginRight\n      : (marginLeft + width - marginRight) / 2,\n    /^top/.test(frameAnchor)\n      ? marginTop\n      : /^bottom/.test(frameAnchor)\n      ? height - marginBottom\n      : (marginTop + height - marginBottom) / 2\n  ];\n}\n", "import {extent} from \"d3\";\nimport {projectionAspectRatio} from \"./projection.js\";\nimport {isOrdinalScale} from \"./scales.js\";\nimport {offset} from \"./style.js\";\n\nexport function createDimensions(scales, marks, options = {}) {\n  // Compute the default margins: the maximum of the marks\u2019 margins. While not\n  // always used, they may be needed to compute the default height of the plot.\n  let marginTopDefault = 0.5 - offset,\n    marginRightDefault = 0.5 + offset,\n    marginBottomDefault = 0.5 + offset,\n    marginLeftDefault = 0.5 - offset;\n\n  for (const {marginTop, marginRight, marginBottom, marginLeft} of marks) {\n    if (marginTop > marginTopDefault) marginTopDefault = marginTop;\n    if (marginRight > marginRightDefault) marginRightDefault = marginRight;\n    if (marginBottom > marginBottomDefault) marginBottomDefault = marginBottom;\n    if (marginLeft > marginLeftDefault) marginLeftDefault = marginLeft;\n  }\n\n  // Compute the actual margins. The order of precedence is: the side-specific\n  // margin options, then the global margin option, then the defaults.\n  let {\n    margin,\n    marginTop = margin !== undefined ? margin : marginTopDefault,\n    marginRight = margin !== undefined ? margin : marginRightDefault,\n    marginBottom = margin !== undefined ? margin : marginBottomDefault,\n    marginLeft = margin !== undefined ? margin : marginLeftDefault\n  } = options;\n\n  // Coerce the margin options to numbers.\n  marginTop = +marginTop;\n  marginRight = +marginRight;\n  marginBottom = +marginBottom;\n  marginLeft = +marginLeft;\n\n  // Compute the outer dimensions of the plot. If the top and bottom margins are\n  // specified explicitly, adjust the automatic height accordingly.\n  let {\n    width = 640,\n    height = autoHeight(scales, options, {\n      width,\n      marginTopDefault,\n      marginRightDefault,\n      marginBottomDefault,\n      marginLeftDefault\n    }) + Math.max(0, marginTop - marginTopDefault + marginBottom - marginBottomDefault)\n  } = options;\n\n  // Coerce the width and height.\n  width = +width;\n  height = +height;\n\n  const dimensions = {\n    width,\n    height,\n    marginTop,\n    marginRight,\n    marginBottom,\n    marginLeft\n  };\n\n  // Compute the facet margins.\n  if (scales.fx || scales.fy) {\n    let {\n      margin: facetMargin,\n      marginTop: facetMarginTop = facetMargin !== undefined ? facetMargin : marginTop,\n      marginRight: facetMarginRight = facetMargin !== undefined ? facetMargin : marginRight,\n      marginBottom: facetMarginBottom = facetMargin !== undefined ? facetMargin : marginBottom,\n      marginLeft: facetMarginLeft = facetMargin !== undefined ? facetMargin : marginLeft\n    } = options.facet ?? {};\n\n    // Coerce the facet margin options to numbers.\n    facetMarginTop = +facetMarginTop;\n    facetMarginRight = +facetMarginRight;\n    facetMarginBottom = +facetMarginBottom;\n    facetMarginLeft = +facetMarginLeft;\n\n    dimensions.facet = {\n      marginTop: facetMarginTop,\n      marginRight: facetMarginRight,\n      marginBottom: facetMarginBottom,\n      marginLeft: facetMarginLeft\n    };\n  }\n\n  return dimensions;\n}\n\nfunction autoHeight(\n  {x, y, fy, fx},\n  {projection, aspectRatio},\n  {width, marginTopDefault, marginRightDefault, marginBottomDefault, marginLeftDefault}\n) {\n  const nfy = fy ? fy.scale.domain().length : 1;\n\n  // If a projection is specified, use its natural aspect ratio (if known).\n  const ar = projectionAspectRatio(projection);\n  if (ar) {\n    const nfx = fx ? fx.scale.domain().length : 1;\n    const far = ((1.1 * nfy - 0.1) / (1.1 * nfx - 0.1)) * ar; // 0.1 is default facet padding\n    const lar = Math.max(0.1, Math.min(10, far)); // clamp the aspect ratio to a \u201Creasonable\u201D value\n    return Math.round((width - marginLeftDefault - marginRightDefault) * lar + marginTopDefault + marginBottomDefault);\n  }\n\n  const ny = y ? (isOrdinalScale(y) ? y.scale.domain().length : Math.max(7, 17 / nfy)) : 1;\n\n  // If a desired aspect ratio is given, compute a default height to match.\n  if (aspectRatio != null) {\n    aspectRatio = +aspectRatio;\n    if (!(isFinite(aspectRatio) && aspectRatio > 0)) throw new Error(`invalid aspectRatio: ${aspectRatio}`);\n    const ratio = aspectRatioLength(\"y\", y) / (aspectRatioLength(\"x\", x) * aspectRatio);\n    const fxb = fx ? fx.scale.bandwidth() : 1;\n    const fyb = fy ? fy.scale.bandwidth() : 1;\n    const w = fxb * (width - marginLeftDefault - marginRightDefault) - x.insetLeft - x.insetRight;\n    return (ratio * w + y.insetTop + y.insetBottom) / fyb + marginTopDefault + marginBottomDefault;\n  }\n\n  return !!(y || fy) * Math.max(1, Math.min(60, ny * nfy)) * 20 + !!fx * 30 + 60;\n}\n\nfunction aspectRatioLength(k, scale) {\n  if (!scale) throw new Error(`aspectRatio requires ${k} scale`);\n  const {type, domain} = scale;\n  let transform;\n  switch (type) {\n    case \"linear\":\n    case \"utc\":\n    case \"time\":\n      transform = Number;\n      break;\n    case \"pow\": {\n      const exponent = scale.scale.exponent();\n      transform = (x) => Math.pow(x, exponent);\n      break;\n    }\n    case \"log\":\n      transform = Math.log;\n      break;\n    case \"point\":\n    case \"band\":\n      return domain.length;\n    default:\n      throw new Error(`unsupported ${k} scale for aspectRatio: ${type}`);\n  }\n  const [min, max] = extent(domain);\n  return Math.abs(transform(max) - transform(min));\n}\n", "import {InternMap, cross, rollup, sum} from \"d3\";\nimport {keyof, map, range} from \"./options.js\";\nimport {createScales} from \"./scales.js\";\n\n// Returns an array of {x?, y?, i} objects representing the facet domain.\nexport function createFacets(channelsByScale, options) {\n  const {fx, fy} = createScales(channelsByScale, options);\n  const fxDomain = fx?.scale.domain();\n  const fyDomain = fy?.scale.domain();\n  return fxDomain && fyDomain\n    ? cross(fxDomain, fyDomain).map(([x, y], i) => ({x, y, i}))\n    : fxDomain\n    ? fxDomain.map((x, i) => ({x, i}))\n    : fyDomain\n    ? fyDomain.map((y, i) => ({y, i}))\n    : undefined;\n}\n\nexport function recreateFacets(facets, {x: X, y: Y}) {\n  X &&= facetIndex(X);\n  Y &&= facetIndex(Y);\n  return facets\n    .filter(\n      X && Y // remove any facets no longer present in the domain\n        ? (f) => X.has(f.x) && Y.has(f.y)\n        : X\n        ? (f) => X.has(f.x)\n        : (f) => Y.has(f.y)\n    )\n    .sort(\n      X && Y // reorder facets to match the new scale domains\n        ? (a, b) => X.get(a.x) - X.get(b.x) || Y.get(a.y) - Y.get(b.y)\n        : X\n        ? (a, b) => X.get(a.x) - X.get(b.x)\n        : (a, b) => Y.get(a.y) - Y.get(b.y)\n    );\n}\n\n// Returns a (possibly nested) Map of [[key1, index1], [key2, index2], \u2026]\n// representing the data indexes associated with each facet.\nexport function facetGroups(data, {fx, fy}) {\n  const I = range(data);\n  const FX = fx?.value;\n  const FY = fy?.value;\n  return fx && fy\n    ? rollup(\n        I,\n        (G) => ((G.fx = FX[G[0]]), (G.fy = FY[G[0]]), G),\n        (i) => FX[i],\n        (i) => FY[i]\n      )\n    : fx\n    ? rollup(\n        I,\n        (G) => ((G.fx = FX[G[0]]), G),\n        (i) => FX[i]\n      )\n    : rollup(\n        I,\n        (G) => ((G.fy = FY[G[0]]), G),\n        (i) => FY[i]\n      );\n}\n\nexport function facetTranslator(fx, fy, {marginTop, marginLeft}) {\n  return fx && fy\n    ? ({x, y}) => `translate(${fx(x) - marginLeft},${fy(y) - marginTop})`\n    : fx\n    ? ({x}) => `translate(${fx(x) - marginLeft},0)`\n    : ({y}) => `translate(0,${fy(y) - marginTop})`;\n}\n\n// Returns an index that for each facet lists all the elements present in other\n// facets in the original index. TODO Memoize to avoid repeated work?\nexport function facetExclude(index) {\n  const ex = [];\n  const e = new Uint32Array(sum(index, (d) => d.length));\n  for (const i of index) {\n    let n = 0;\n    for (const j of index) {\n      if (i === j) continue;\n      e.set(j, n);\n      n += j.length;\n    }\n    ex.push(e.slice(0, n));\n  }\n  return ex;\n}\n\nconst facetAnchors = new Map([\n  [\"top\", facetAnchorTop],\n  [\"right\", facetAnchorRight],\n  [\"bottom\", facetAnchorBottom],\n  [\"left\", facetAnchorLeft],\n  [\"top-left\", and(facetAnchorTop, facetAnchorLeft)],\n  [\"top-right\", and(facetAnchorTop, facetAnchorRight)],\n  [\"bottom-left\", and(facetAnchorBottom, facetAnchorLeft)],\n  [\"bottom-right\", and(facetAnchorBottom, facetAnchorRight)],\n  [\"top-empty\", facetAnchorTopEmpty],\n  [\"right-empty\", facetAnchorRightEmpty],\n  [\"bottom-empty\", facetAnchorBottomEmpty],\n  [\"left-empty\", facetAnchorLeftEmpty],\n  [\"empty\", facetAnchorEmpty]\n]);\n\nexport function maybeFacetAnchor(facetAnchor) {\n  if (facetAnchor == null) return null;\n  const anchor = facetAnchors.get(`${facetAnchor}`.toLowerCase());\n  if (anchor) return anchor;\n  throw new Error(`invalid facet anchor: ${facetAnchor}`);\n}\n\nconst indexCache = new WeakMap();\n\nfunction facetIndex(V) {\n  let I = indexCache.get(V);\n  if (!I) indexCache.set(V, (I = new InternMap(map(V, (v, i) => [v, i]))));\n  return I;\n}\n\n// Like V.indexOf(v), but with the same semantics as InternMap.\nfunction facetIndexOf(V, v) {\n  return facetIndex(V).get(v);\n}\n\n// Like facets.find, but with the same semantics as InternMap.\nfunction facetFind(facets, x, y) {\n  x = keyof(x);\n  y = keyof(y);\n  return facets.find((f) => Object.is(keyof(f.x), x) && Object.is(keyof(f.y), y));\n}\n\nfunction facetEmpty(facets, x, y) {\n  return facetFind(facets, x, y)?.empty;\n}\n\nfunction facetAnchorTop(facets, {y: Y}, {y}) {\n  return Y ? facetIndexOf(Y, y) === 0 : true;\n}\n\nfunction facetAnchorBottom(facets, {y: Y}, {y}) {\n  return Y ? facetIndexOf(Y, y) === Y.length - 1 : true;\n}\n\nfunction facetAnchorLeft(facets, {x: X}, {x}) {\n  return X ? facetIndexOf(X, x) === 0 : true;\n}\n\nfunction facetAnchorRight(facets, {x: X}, {x}) {\n  return X ? facetIndexOf(X, x) === X.length - 1 : true;\n}\n\nfunction facetAnchorTopEmpty(facets, {y: Y}, {x, y, empty}) {\n  if (empty) return false;\n  if (!Y) return;\n  const i = facetIndexOf(Y, y);\n  if (i > 0) return facetEmpty(facets, x, Y[i - 1]);\n}\n\nfunction facetAnchorBottomEmpty(facets, {y: Y}, {x, y, empty}) {\n  if (empty) return false;\n  if (!Y) return;\n  const i = facetIndexOf(Y, y);\n  if (i < Y.length - 1) return facetEmpty(facets, x, Y[i + 1]);\n}\n\nfunction facetAnchorLeftEmpty(facets, {x: X}, {x, y, empty}) {\n  if (empty) return false;\n  if (!X) return;\n  const i = facetIndexOf(X, x);\n  if (i > 0) return facetEmpty(facets, X[i - 1], y);\n}\n\nfunction facetAnchorRightEmpty(facets, {x: X}, {x, y, empty}) {\n  if (empty) return false;\n  if (!X) return;\n  const i = facetIndexOf(X, x);\n  if (i < X.length - 1) return facetEmpty(facets, X[i + 1], y);\n}\n\nfunction facetAnchorEmpty(facets, channels, {empty}) {\n  return empty;\n}\n\nfunction and(a, b) {\n  return function () {\n    return a.apply(null, arguments) && b.apply(null, arguments);\n  };\n}\n\n// Facet filter, by mark; for now only the \"eq\" filter is provided.\nexport function facetFilter(facets, {channels: {fx, fy}, groups}) {\n  return fx && fy\n    ? facets.map(({x, y}) => groups.get(x)?.get(y) ?? [])\n    : fx\n    ? facets.map(({x}) => groups.get(x) ?? [])\n    : facets.map(({y}) => groups.get(y) ?? []);\n}\n", "import {channelDomain, createChannels, valueObject} from \"./channel.js\";\nimport {defined} from \"./defined.js\";\nimport {maybeFacetAnchor} from \"./facet.js\";\nimport {maybeKeyword, maybeNamed, maybeValue} from \"./options.js\";\nimport {arrayify, isDomainSort, isOptions, keyword, range, singleton} from \"./options.js\";\nimport {project} from \"./projection.js\";\nimport {maybeClip, styles} from \"./style.js\";\nimport {basic, initializer} from \"./transforms/basic.js\";\n\nexport class Mark {\n  constructor(data, channels = {}, options = {}, defaults) {\n    const {\n      facet = \"auto\",\n      facetAnchor,\n      fx,\n      fy,\n      sort,\n      dx = 0,\n      dy = 0,\n      margin = 0,\n      marginTop = margin,\n      marginRight = margin,\n      marginBottom = margin,\n      marginLeft = margin,\n      clip,\n      channels: extraChannels,\n      tip,\n      render\n    } = options;\n    this.data = data;\n    this.sort = isDomainSort(sort) ? sort : null;\n    this.initializer = initializer(options).initializer;\n    this.transform = this.initializer ? options.transform : basic(options).transform;\n    if (facet === null || facet === false) {\n      this.facet = null;\n    } else {\n      this.facet = keyword(facet === true ? \"include\" : facet, \"facet\", [\"auto\", \"include\", \"exclude\", \"super\"]);\n      this.fx = data === singleton && typeof fx === \"string\" ? [fx] : fx;\n      this.fy = data === singleton && typeof fy === \"string\" ? [fy] : fy;\n    }\n    this.facetAnchor = maybeFacetAnchor(facetAnchor);\n    channels = maybeNamed(channels);\n    if (extraChannels !== undefined) channels = {...maybeChannels(extraChannels), ...channels};\n    if (defaults !== undefined) channels = {...styles(this, options, defaults), ...channels};\n    this.channels = Object.fromEntries(\n      Object.entries(channels)\n        .map(([name, channel]) => {\n          if (isOptions(channel.value)) {\n            // apply scale overrides\n            const {value, scale = channel.scale} = channel.value;\n            channel = {...channel, scale, value};\n          }\n          if (data === singleton && typeof channel.value === \"string\") {\n            // convert field names to singleton values for decoration marks (e.g., frame)\n            const {value} = channel;\n            channel = {...channel, value: [value]};\n          }\n          return [name, channel];\n        })\n        .filter(([name, {value, optional}]) => {\n          if (value != null) return true;\n          if (optional) return false;\n          throw new Error(`missing channel value: ${name}`);\n        })\n    );\n    this.dx = +dx;\n    this.dy = +dy;\n    this.marginTop = +marginTop;\n    this.marginRight = +marginRight;\n    this.marginBottom = +marginBottom;\n    this.marginLeft = +marginLeft;\n    this.clip = maybeClip(clip);\n    this.tip = maybeTip(tip);\n    // Super-faceting currently disallow position channels; in the future, we\n    // could allow position to be specified in fx and fy in addition to (or\n    // instead of) x and y.\n    if (this.facet === \"super\") {\n      if (fx || fy) throw new Error(`super-faceting cannot use fx or fy`);\n      for (const name in this.channels) {\n        const {scale} = channels[name];\n        if (scale !== \"x\" && scale !== \"y\") continue;\n        throw new Error(`super-faceting cannot use x or y`);\n      }\n    }\n    if (render != null) {\n      this.render = composeRender(render, this.render);\n    }\n  }\n  initialize(facets, facetChannels, plotOptions) {\n    let data = arrayify(this.data);\n    if (facets === undefined && data != null) facets = [range(data)];\n    const originalFacets = facets;\n    if (this.transform != null) ({facets, data} = this.transform(data, facets, plotOptions)), (data = arrayify(data));\n    if (facets !== undefined) facets.original = originalFacets; // needed to read facetChannels\n    const channels = createChannels(this.channels, data);\n    if (this.sort != null) channelDomain(data, facets, channels, facetChannels, this.sort); // mutates facetChannels!\n    return {data, facets, channels};\n  }\n  filter(index, channels, values) {\n    for (const name in channels) {\n      const {filter = defined} = channels[name];\n      if (filter !== null) {\n        const value = values[name];\n        index = index.filter((i) => filter(value[i]));\n      }\n    }\n    return index;\n  }\n  // If there is a projection, and there are paired x and y channels associated\n  // with the x and y scale respectively (and not already in screen coordinates\n  // as with an initializer), then apply the projection, replacing the x and y\n  // values. Note that the x and y scales themselves don\u2019t exist if there is a\n  // projection, but whether the channels are associated with scales still\n  // determines whether the projection should apply; think of the projection as\n  // a combination xy-scale.\n  project(channels, values, context) {\n    for (const cx in channels) {\n      if (channels[cx].scale === \"x\" && /^x|x$/.test(cx)) {\n        const cy = cx.replace(/^x|x$/, \"y\");\n        if (cy in channels && channels[cy].scale === \"y\") {\n          project(cx, cy, values, context.projection);\n        }\n      }\n    }\n  }\n  scale(channels, scales, context) {\n    const values = valueObject(channels, scales);\n    if (context.projection) this.project(channels, values, context);\n    return values;\n  }\n}\n\nexport function marks(...marks) {\n  marks.plot = Mark.prototype.plot; // Note: depends on side-effect in plot!\n  return marks;\n}\n\nexport function composeRender(r1, r2) {\n  if (r1 == null) return r2 === null ? undefined : r2;\n  if (r2 == null) return r1 === null ? undefined : r1;\n  if (typeof r1 !== \"function\") throw new TypeError(`invalid render transform: ${r1}`);\n  if (typeof r2 !== \"function\") throw new TypeError(`invalid render transform: ${r2}`);\n  return function (i, s, v, d, c, next) {\n    return r1.call(this, i, s, v, d, c, (i, s, v, d, c) => {\n      return r2.call(this, i, s, v, d, c, next); // preserve this\n    });\n  };\n}\n\nfunction maybeChannels(channels) {\n  return Object.fromEntries(\n    Object.entries(maybeNamed(channels)).map(([name, channel]) => {\n      channel = maybeValue(channel);\n      if (channel.filter === undefined && channel.scale == null) channel = {...channel, filter: null};\n      return [name, channel];\n    })\n  );\n}\n\nfunction maybeTip(tip) {\n  return tip === true ? \"xy\" : tip === false ? null : maybeKeyword(tip, \"tip\", [\"x\", \"y\", \"xy\"]);\n}\n\nexport function withTip(options, tip) {\n  return options?.tip === true ? {...options, tip} : options;\n}\n", "import {pointer as pointof} from \"d3\";\nimport {composeRender} from \"../mark.js\";\nimport {applyFrameAnchor} from \"../style.js\";\n\nconst states = new WeakMap();\n\nfunction pointerK(kx, ky, {x, y, px, py, maxRadius = 40, channels, render, ...options} = {}) {\n  maxRadius = +maxRadius;\n  // When px or py is used, register an extra channel that the pointer\n  // interaction can use to control which point is focused; this allows pointing\n  // to function independently of where the downstream mark (e.g., a tip) is\n  // displayed. Also default x or y to null to disable maybeTuple etc.\n  if (px != null) (x ??= null), (channels = {...channels, px: {value: px, scale: \"x\"}});\n  if (py != null) (y ??= null), (channels = {...channels, py: {value: py, scale: \"y\"}});\n  return {\n    x,\n    y,\n    channels,\n    ...options,\n    // Unlike other composed transforms, the render transform must be the\n    // outermost render function because it will re-render dynamically in\n    // response to pointer events.\n    render: composeRender(function (index, scales, values, dimensions, context, next) {\n      context = {...context, pointerSticky: false};\n      const svg = context.ownerSVGElement;\n      const {data} = context.getMarkState(this);\n\n      // Isolate state per-pointer, per-plot; if the pointer is reused by\n      // multiple marks, they will share the same state (e.g., sticky modality).\n      let state = states.get(svg);\n      if (!state) states.set(svg, (state = {sticky: false, roots: [], renders: []}));\n\n      // This serves as a unique identifier of the rendered mark per-plot; it is\n      // used to record the currently-rendered elements (state.roots) so that we\n      // can tell when a rendered element is clicked on.\n      let renderIndex = state.renders.push(render) - 1;\n\n      // For faceting, we want to compute the local coordinates of each point,\n      // which means subtracting out the facet translation, if any. (It\u2019s\n      // tempting to do this using the local coordinates in SVG, but that\u2019s\n      // complicated by mark-specific transforms such as dx and dy.) Also, since\n      // band scales return the upper bound of the band, we have to offset by\n      // half the bandwidth.\n      const {x, y, fx, fy} = scales;\n      let tx = fx ? fx(index.fx) - dimensions.marginLeft : 0;\n      let ty = fy ? fy(index.fy) - dimensions.marginTop : 0;\n      if (x?.bandwidth) tx += x.bandwidth() / 2;\n      if (y?.bandwidth) ty += y.bandwidth() / 2;\n\n      // For faceting, we also need to record the closest point per facet per\n      // mark (!), since each facet has its own pointer event listeners; we only\n      // want the closest point across facets to be visible.\n      const faceted = index.fi != null;\n      let facetState;\n      if (faceted) {\n        let facetStates = state.facetStates;\n        if (!facetStates) state.facetStates = facetStates = new Map();\n        facetState = facetStates.get(this);\n        if (!facetState) facetStates.set(this, (facetState = new Map()));\n      }\n\n      // The order of precedence for the pointer position is: px & py; the\n      // middle of x1 & y1 and x2 & y2; or x1 & y1 (e.g., area); or lastly x &\n      // y. If a dimension is unspecified, the frame anchor is used.\n      const [cx, cy] = applyFrameAnchor(this, dimensions);\n      const {px: PX, py: PY} = values;\n      const px = PX ? (i) => PX[i] : anchorX(values, cx);\n      const py = PY ? (i) => PY[i] : anchorY(values, cy);\n\n      let i; // currently focused index\n      let g; // currently rendered mark\n      let s; // currently rendered stickiness\n      let f; // current animation frame\n\n      // When faceting, if more than one pointer would be visible, only show\n      // this one if it is the closest. We defer rendering using an animation\n      // frame to allow all pointer events to be received before deciding which\n      // mark to render; although when hiding, we render immediately.\n      function update(ii, ri) {\n        if (faceted) {\n          if (f) f = cancelAnimationFrame(f);\n          if (ii == null) facetState.delete(index.fi);\n          else {\n            facetState.set(index.fi, ri);\n            f = requestAnimationFrame(() => {\n              f = null;\n              for (const r of facetState.values()) {\n                if (r < ri) {\n                  ii = null;\n                  break;\n                }\n              }\n              render(ii);\n            });\n            return;\n          }\n        }\n        render(ii);\n      }\n\n      function render(ii) {\n        if (i === ii && s === state.sticky) return; // the tooltip hasn\u2019t moved\n        i = ii;\n        s = context.pointerSticky = state.sticky;\n        const I = i == null ? [] : [i];\n        if (faceted) (I.fx = index.fx), (I.fy = index.fy), (I.fi = index.fi);\n        const r = next(I, scales, values, dimensions, context);\n        if (g) {\n          // When faceting, preserve swapped mark and facet transforms; also\n          // remove ARIA attributes since these are promoted to the parent. This\n          // is perhaps brittle in that it depends on how Plot renders facets,\n          // but it produces a cleaner and more accessible SVG structure.\n          if (faceted) {\n            const p = g.parentNode;\n            const ft = g.getAttribute(\"transform\");\n            const mt = r.getAttribute(\"transform\");\n            ft ? r.setAttribute(\"transform\", ft) : r.removeAttribute(\"transform\");\n            mt ? p.setAttribute(\"transform\", mt) : p.removeAttribute(\"transform\");\n            r.removeAttribute(\"aria-label\");\n            r.removeAttribute(\"aria-description\");\n            r.removeAttribute(\"aria-hidden\");\n          }\n          g.replaceWith(r);\n        }\n        state.roots[renderIndex] = g = r;\n        context.dispatchValue(i == null ? null : data[i]);\n        return r;\n      }\n\n      function pointermove(event) {\n        if (state.sticky || (event.pointerType === \"mouse\" && event.buttons === 1)) return; // dragging\n        let [xp, yp] = pointof(event);\n        (xp -= tx), (yp -= ty); // correct for facets and band scales\n        let ii = null;\n        let ri = maxRadius * maxRadius;\n        for (const j of index) {\n          const dx = kx * (px(j) - xp);\n          const dy = ky * (py(j) - yp);\n          const rj = dx * dx + dy * dy;\n          if (rj <= ri) (ii = j), (ri = rj);\n        }\n        update(ii, ri);\n      }\n\n      function pointerdown(event) {\n        if (event.pointerType !== \"mouse\") return;\n        if (i == null) return; // not pointing\n        if (state.sticky && state.roots.some((r) => r?.contains(event.target))) return; // stay sticky\n        if (state.sticky) (state.sticky = false), state.renders.forEach((r) => r(null)); // clear all pointers\n        else (state.sticky = true), render(i);\n        event.stopImmediatePropagation(); // suppress other pointers\n      }\n\n      function pointerleave(event) {\n        if (event.pointerType !== \"mouse\") return;\n        if (!state.sticky) update(null);\n      }\n\n      // We listen to the svg element; listening to the window instead would let\n      // us receive pointer events from farther away, but would also make it\n      // hard to know when to remove the listeners. (Using a mutation observer\n      // to watch the entire document is likely too expensive.)\n      svg.addEventListener(\"pointerenter\", pointermove);\n      svg.addEventListener(\"pointermove\", pointermove);\n      svg.addEventListener(\"pointerdown\", pointerdown);\n      svg.addEventListener(\"pointerleave\", pointerleave);\n\n      return render(null);\n    }, render)\n  };\n}\n\nexport function pointer(options) {\n  return pointerK(1, 1, options);\n}\n\nexport function pointerX(options) {\n  return pointerK(1, 0.01, options);\n}\n\nexport function pointerY(options) {\n  return pointerK(0.01, 1, options);\n}\n\nexport function anchorX({x1: X1, x2: X2, x: X = X1}, cx) {\n  return X1 && X2 ? (i) => (X1[i] + X2[i]) / 2 : X ? (i) => X[i] : () => cx;\n}\n\nexport function anchorY({y1: Y1, y2: Y2, y: Y = Y1}, cy) {\n  return Y1 && Y2 ? (i) => (Y1[i] + Y2[i]) / 2 : Y ? (i) => Y[i] : () => cy;\n}\n", "import {isOrdinalScale} from \"./scales.js\";\n\nexport function inferFontVariant(scale) {\n  return isOrdinalScale(scale) && scale.interval === undefined ? undefined : \"tabular-nums\";\n}\n", "import {quantize, interpolateNumber, piecewise, format, scaleBand, scaleLinear, axisBottom} from \"d3\";\nimport {inferFontVariant} from \"../axes.js\";\nimport {createContext, create} from \"../context.js\";\nimport {map, maybeNumberChannel} from \"../options.js\";\nimport {interpolatePiecewise} from \"../scales/quantitative.js\";\nimport {applyInlineStyles, impliedString, maybeClassName} from \"../style.js\";\n\nexport function legendRamp(color, options) {\n  let {\n    label = color.label,\n    tickSize = 6,\n    width = 240,\n    height = 44 + tickSize,\n    marginTop = 18,\n    marginRight = 0,\n    marginBottom = 16 + tickSize,\n    marginLeft = 0,\n    style,\n    ticks = (width - marginLeft - marginRight) / 64,\n    tickFormat,\n    fontVariant = inferFontVariant(color),\n    round = true,\n    opacity,\n    className\n  } = options;\n  const context = createContext(options);\n  className = maybeClassName(className);\n  opacity = maybeNumberChannel(opacity)[1];\n  if (tickFormat === null) tickFormat = () => null;\n\n  const svg = create(\"svg\", context)\n    .attr(\"class\", `${className}-ramp`)\n    .attr(\"font-family\", \"system-ui, sans-serif\")\n    .attr(\"font-size\", 10)\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"viewBox\", `0 0 ${width} ${height}`)\n    .call((svg) =>\n      // Warning: if you edit this, change defaultClassName.\n      svg.append(\"style\").text(\n        `.${className}-ramp {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n  overflow: visible;\n}\n.${className}-ramp text {\n  white-space: pre;\n}`\n      )\n    )\n    .call(applyInlineStyles, style);\n\n  let tickAdjust = (g) => g.selectAll(\".tick line\").attr(\"y1\", marginTop + marginBottom - height);\n\n  let x;\n\n  // Some D3 scales use scale.interpolate, some scale.interpolator, and some\n  // scale.round; this normalizes the API so it works with all scale types.\n  const applyRange = round ? (x, range) => x.rangeRound(range) : (x, range) => x.range(range);\n\n  const {type, domain, range, interpolate, scale, pivot} = color;\n\n  // Continuous\n  if (interpolate) {\n    // Often interpolate is a \u201Cfixed\u201D interpolator on the [0, 1] interval, as\n    // with a built-in color scheme, but sometimes it is a function that takes\n    // two arguments and is used in conjunction with the range.\n    const interpolator =\n      range === undefined\n        ? interpolate\n        : piecewise(interpolate.length === 1 ? interpolatePiecewise(interpolate) : interpolate, range);\n\n    // Construct a D3 scale of the same type, but with a range that evenly\n    // divides the horizontal extent of the legend. (In the common case, the\n    // domain.length is two, and so the range is simply the extent.) For a\n    // diverging scale, we need an extra point in the range for the pivot such\n    // that the pivot is always drawn in the middle.\n    x = applyRange(\n      scale.copy(),\n      quantize(\n        interpolateNumber(marginLeft, width - marginRight),\n        Math.min(domain.length + (pivot !== undefined), range === undefined ? Infinity : range.length)\n      )\n    );\n\n    // Construct a 256\u00D71 canvas, filling each pixel using the interpolator.\n    const n = 256;\n    const canvas = context.document.createElement(\"canvas\");\n    canvas.width = n;\n    canvas.height = 1;\n    const context2 = canvas.getContext(\"2d\");\n    for (let i = 0, j = n - 1; i < n; ++i) {\n      context2.fillStyle = interpolator(i / j);\n      context2.fillRect(i, 0, 1, 1);\n    }\n\n    svg\n      .append(\"image\")\n      .attr(\"opacity\", opacity)\n      .attr(\"x\", marginLeft)\n      .attr(\"y\", marginTop)\n      .attr(\"width\", width - marginLeft - marginRight)\n      .attr(\"height\", height - marginTop - marginBottom)\n      .attr(\"preserveAspectRatio\", \"none\")\n      .attr(\"xlink:href\", canvas.toDataURL());\n  }\n\n  // Threshold\n  else if (type === \"threshold\") {\n    const thresholds = domain;\n\n    const thresholdFormat =\n      tickFormat === undefined ? (d) => d : typeof tickFormat === \"string\" ? format(tickFormat) : tickFormat;\n\n    // Construct a linear scale with evenly-spaced ticks for each of the\n    // thresholds; the domain extends one beyond the threshold extent.\n    x = applyRange(scaleLinear().domain([-1, range.length - 1]), [marginLeft, width - marginRight]);\n\n    svg\n      .append(\"g\")\n      .attr(\"fill-opacity\", opacity)\n      .selectAll()\n      .data(range)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", (d, i) => x(i - 1))\n      .attr(\"y\", marginTop)\n      .attr(\"width\", (d, i) => x(i) - x(i - 1))\n      .attr(\"height\", height - marginTop - marginBottom)\n      .attr(\"fill\", (d) => d);\n\n    ticks = map(thresholds, (_, i) => i);\n    tickFormat = (i) => thresholdFormat(thresholds[i], i);\n  }\n\n  // Ordinal (hopefully!)\n  else {\n    x = applyRange(scaleBand().domain(domain), [marginLeft, width - marginRight]);\n\n    svg\n      .append(\"g\")\n      .attr(\"fill-opacity\", opacity)\n      .selectAll()\n      .data(domain)\n      .enter()\n      .append(\"rect\")\n      .attr(\"x\", x)\n      .attr(\"y\", marginTop)\n      .attr(\"width\", Math.max(0, x.bandwidth() - 1))\n      .attr(\"height\", height - marginTop - marginBottom)\n      .attr(\"fill\", scale);\n\n    tickAdjust = () => {};\n  }\n\n  svg\n    .append(\"g\")\n    .attr(\"transform\", `translate(0,${height - marginBottom})`)\n    .call(\n      axisBottom(x)\n        .ticks(Array.isArray(ticks) ? null : ticks, typeof tickFormat === \"string\" ? tickFormat : undefined)\n        .tickFormat(typeof tickFormat === \"function\" ? tickFormat : undefined)\n        .tickSize(tickSize)\n        .tickValues(Array.isArray(ticks) ? ticks : null)\n    )\n    .attr(\"font-size\", null)\n    .attr(\"font-family\", null)\n    .attr(\"font-variant\", impliedString(fontVariant, \"normal\"))\n    .call(tickAdjust)\n    .call((g) => g.select(\".domain\").remove());\n\n  if (label !== undefined) {\n    svg\n      .append(\"text\")\n      .attr(\"x\", marginLeft)\n      .attr(\"y\", marginTop - 6)\n      .attr(\"fill\", \"currentColor\") // TODO move to stylesheet?\n      .attr(\"font-weight\", \"bold\")\n      .text(label);\n  }\n\n  return svg.node();\n}\n", "export const radians = Math.PI / 180;\n", "import {create} from \"./context.js\";\n\nexport function markers(mark, {marker, markerStart = marker, markerMid = marker, markerEnd = marker} = {}) {\n  mark.markerStart = maybeMarker(markerStart);\n  mark.markerMid = maybeMarker(markerMid);\n  mark.markerEnd = maybeMarker(markerEnd);\n}\n\nfunction maybeMarker(marker) {\n  if (marker == null || marker === false) return null;\n  if (marker === true) return markerCircleFill;\n  if (typeof marker === \"function\") return marker;\n  switch (`${marker}`.toLowerCase()) {\n    case \"none\":\n      return null;\n    case \"arrow\":\n      return markerArrow(\"auto\");\n    case \"arrow-reverse\":\n      return markerArrow(\"auto-start-reverse\");\n    case \"dot\":\n      return markerDot;\n    case \"circle\":\n    case \"circle-fill\":\n      return markerCircleFill;\n    case \"circle-stroke\":\n      return markerCircleStroke;\n  }\n  throw new Error(`invalid marker: ${marker}`);\n}\n\nfunction markerArrow(orient) {\n  return (color, context) =>\n    create(\"svg:marker\", context)\n      .attr(\"viewBox\", \"-5 -5 10 10\")\n      .attr(\"markerWidth\", 6.67)\n      .attr(\"markerHeight\", 6.67)\n      .attr(\"orient\", orient)\n      .attr(\"fill\", \"none\")\n      .attr(\"stroke\", color)\n      .attr(\"stroke-width\", 1.5)\n      .attr(\"stroke-linecap\", \"round\")\n      .attr(\"stroke-linejoin\", \"round\")\n      .call((marker) => marker.append(\"path\").attr(\"d\", \"M-1.5,-3l3,3l-3,3\"))\n      .node();\n}\n\nfunction markerDot(color, context) {\n  return create(\"svg:marker\", context)\n    .attr(\"viewBox\", \"-5 -5 10 10\")\n    .attr(\"markerWidth\", 6.67)\n    .attr(\"markerHeight\", 6.67)\n    .attr(\"fill\", color)\n    .attr(\"stroke\", \"none\")\n    .call((marker) => marker.append(\"circle\").attr(\"r\", 2.5))\n    .node();\n}\n\nfunction markerCircleFill(color, context) {\n  return create(\"svg:marker\", context)\n    .attr(\"viewBox\", \"-5 -5 10 10\")\n    .attr(\"markerWidth\", 6.67)\n    .attr(\"markerHeight\", 6.67)\n    .attr(\"fill\", color)\n    .attr(\"stroke\", \"white\")\n    .attr(\"stroke-width\", 1.5)\n    .call((marker) => marker.append(\"circle\").attr(\"r\", 3))\n    .node();\n}\n\nfunction markerCircleStroke(color, context) {\n  return create(\"svg:marker\", context)\n    .attr(\"viewBox\", \"-5 -5 10 10\")\n    .attr(\"markerWidth\", 6.67)\n    .attr(\"markerHeight\", 6.67)\n    .attr(\"fill\", \"white\")\n    .attr(\"stroke\", color)\n    .attr(\"stroke-width\", 1.5)\n    .call((marker) => marker.append(\"circle\").attr(\"r\", 3))\n    .node();\n}\n\nlet nextMarkerId = 0;\n\nexport function applyMarkers(path, mark, {stroke: S}, context) {\n  return applyMarkersColor(path, mark, S && ((i) => S[i]), context);\n}\n\nexport function applyGroupedMarkers(path, mark, {stroke: S}, context) {\n  return applyMarkersColor(path, mark, S && (([i]) => S[i]), context);\n}\n\nfunction applyMarkersColor(path, {markerStart, markerMid, markerEnd, stroke}, strokeof = () => stroke, context) {\n  const iriByMarkerColor = new Map();\n\n  function applyMarker(marker) {\n    return function (i) {\n      const color = strokeof(i);\n      let iriByColor = iriByMarkerColor.get(marker);\n      if (!iriByColor) iriByMarkerColor.set(marker, (iriByColor = new Map()));\n      let iri = iriByColor.get(color);\n      if (!iri) {\n        const node = this.parentNode.insertBefore(marker(color, context), this);\n        const id = `plot-marker-${++nextMarkerId}`;\n        node.setAttribute(\"id\", id);\n        iriByColor.set(color, (iri = `url(#${id})`));\n      }\n      return iri;\n    };\n  }\n\n  if (markerStart) path.attr(\"marker-start\", applyMarker(markerStart));\n  if (markerMid) path.attr(\"marker-mid\", applyMarker(markerMid));\n  if (markerEnd) path.attr(\"marker-end\", applyMarker(markerEnd));\n}\n", "import {offset} from \"../style.js\";\n\nexport function maybeInsetX({inset, insetLeft, insetRight, ...options} = {}) {\n  [insetLeft, insetRight] = maybeInset(inset, insetLeft, insetRight);\n  return {inset, insetLeft, insetRight, ...options};\n}\n\nexport function maybeInsetY({inset, insetTop, insetBottom, ...options} = {}) {\n  [insetTop, insetBottom] = maybeInset(inset, insetTop, insetBottom);\n  return {inset, insetTop, insetBottom, ...options};\n}\n\nfunction maybeInset(inset, inset1, inset2) {\n  return inset === undefined && inset1 === undefined && inset2 === undefined\n    ? offset\n      ? [1, 0]\n      : [0.5, 0.5]\n    : [inset1, inset2];\n}\n", "import {isTemporal, labelof, map, maybeInterval, maybeValue, valueof} from \"../options.js\";\nimport {maybeInsetX, maybeInsetY} from \"./inset.js\";\n\n// The interval may be specified either as x: {value, interval} or as {x,\n// interval}. The former can be used to specify separate intervals for x and y,\n// for example with Plot.rect.\nfunction maybeIntervalValue(value, {interval}) {\n  value = {...maybeValue(value)};\n  value.interval = maybeInterval(value.interval === undefined ? interval : value.interval);\n  return value;\n}\n\nfunction maybeIntervalK(k, maybeInsetK, options, trivial) {\n  const {[k]: v, [`${k}1`]: v1, [`${k}2`]: v2} = options;\n  const {value, interval} = maybeIntervalValue(v, options);\n  if (value == null || (interval == null && !trivial)) return options;\n  const label = labelof(v);\n  if (interval == null) {\n    let V;\n    const kv = {transform: (data) => V || (V = valueof(data, value)), label};\n    return {\n      ...options,\n      [k]: undefined,\n      [`${k}1`]: v1 === undefined ? kv : v1,\n      [`${k}2`]: v2 === undefined ? kv : v2\n    };\n  }\n  let D1, V1;\n  function transform(data) {\n    if (V1 !== undefined && data === D1) return V1; // memoize\n    return (V1 = map(valueof((D1 = data), value), (v) => interval.floor(v)));\n  }\n  return maybeInsetK({\n    ...options,\n    [k]: undefined,\n    [`${k}1`]: v1 === undefined ? {transform, label} : v1,\n    [`${k}2`]: v2 === undefined ? {transform: (data) => transform(data).map((v) => interval.offset(v)), label} : v2\n  });\n}\n\nfunction maybeIntervalMidK(k, maybeInsetK, options) {\n  const {[k]: v} = options;\n  const {value, interval} = maybeIntervalValue(v, options);\n  if (value == null || interval == null) return options;\n  return maybeInsetK({\n    ...options,\n    [k]: {\n      label: labelof(v),\n      transform: (data) => {\n        const V1 = map(valueof(data, value), (v) => interval.floor(v));\n        const V2 = V1.map((v) => interval.offset(v));\n        return V1.map(\n          isTemporal(V1)\n            ? (v1, v2) =>\n                v1 == null || isNaN((v1 = +v1)) || ((v2 = V2[v2]), v2 == null) || isNaN((v2 = +v2))\n                  ? undefined\n                  : new Date((v1 + v2) / 2)\n            : (v1, v2) => (v1 == null || ((v2 = V2[v2]), v2 == null) ? NaN : (+v1 + +v2) / 2)\n        );\n      }\n    }\n  });\n}\n\nexport function maybeTrivialIntervalX(options = {}) {\n  return maybeIntervalK(\"x\", maybeInsetX, options, true);\n}\n\nexport function maybeTrivialIntervalY(options = {}) {\n  return maybeIntervalK(\"y\", maybeInsetY, options, true);\n}\n\nexport function maybeIntervalX(options = {}) {\n  return maybeIntervalK(\"x\", maybeInsetX, options);\n}\n\nexport function maybeIntervalY(options = {}) {\n  return maybeIntervalK(\"y\", maybeInsetY, options);\n}\n\nexport function maybeIntervalMidX(options = {}) {\n  return maybeIntervalMidK(\"x\", maybeInsetX, options);\n}\n\nexport function maybeIntervalMidY(options = {}) {\n  return maybeIntervalMidK(\"y\", maybeInsetY, options);\n}\n", "import {create} from \"../context.js\";\nimport {Mark, withTip} from \"../mark.js\";\nimport {applyMarkers, markers} from \"../marker.js\";\nimport {identity, number} from \"../options.js\";\nimport {isCollapsed} from \"../scales.js\";\nimport {applyChannelStyles, applyDirectStyles, applyIndirectStyles, applyTransform, offset} from \"../style.js\";\nimport {maybeIntervalX, maybeIntervalY} from \"../transforms/interval.js\";\n\nconst defaults = {\n  ariaLabel: \"rule\",\n  fill: null,\n  stroke: \"currentColor\"\n};\n\nexport class RuleX extends Mark {\n  constructor(data, options = {}) {\n    const {x, y1, y2, inset = 0, insetTop = inset, insetBottom = inset} = options;\n    super(\n      data,\n      {\n        x: {value: x, scale: \"x\", optional: true},\n        y1: {value: y1, scale: \"y\", optional: true},\n        y2: {value: y2, scale: \"y\", optional: true}\n      },\n      withTip(options, \"x\"),\n      defaults\n    );\n    this.insetTop = number(insetTop);\n    this.insetBottom = number(insetBottom);\n    markers(this, options);\n  }\n  render(index, scales, channels, dimensions, context) {\n    const {x, y} = scales;\n    const {x: X, y1: Y1, y2: Y2} = channels;\n    const {width, height, marginTop, marginRight, marginLeft, marginBottom} = dimensions;\n    const {insetTop, insetBottom} = this;\n    return create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(applyTransform, this, {x: X && x}, offset, 0)\n      .call((g) =>\n        g\n          .selectAll()\n          .data(index)\n          .enter()\n          .append(\"line\")\n          .call(applyDirectStyles, this)\n          .attr(\"x1\", X ? (i) => X[i] : (marginLeft + width - marginRight) / 2)\n          .attr(\"x2\", X ? (i) => X[i] : (marginLeft + width - marginRight) / 2)\n          .attr(\"y1\", Y1 && !isCollapsed(y) ? (i) => Y1[i] + insetTop : marginTop + insetTop)\n          .attr(\n            \"y2\",\n            Y2 && !isCollapsed(y)\n              ? y.bandwidth\n                ? (i) => Y2[i] + y.bandwidth() - insetBottom\n                : (i) => Y2[i] - insetBottom\n              : height - marginBottom - insetBottom\n          )\n          .call(applyChannelStyles, this, channels)\n          .call(applyMarkers, this, channels, context)\n      )\n      .node();\n  }\n}\n\nexport class RuleY extends Mark {\n  constructor(data, options = {}) {\n    const {x1, x2, y, inset = 0, insetRight = inset, insetLeft = inset} = options;\n    super(\n      data,\n      {\n        y: {value: y, scale: \"y\", optional: true},\n        x1: {value: x1, scale: \"x\", optional: true},\n        x2: {value: x2, scale: \"x\", optional: true}\n      },\n      withTip(options, \"y\"),\n      defaults\n    );\n    this.insetRight = number(insetRight);\n    this.insetLeft = number(insetLeft);\n    markers(this, options);\n  }\n  render(index, scales, channels, dimensions, context) {\n    const {x, y} = scales;\n    const {y: Y, x1: X1, x2: X2} = channels;\n    const {width, height, marginTop, marginRight, marginLeft, marginBottom} = dimensions;\n    const {insetLeft, insetRight} = this;\n    return create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(applyTransform, this, {y: Y && y}, 0, offset)\n      .call((g) =>\n        g\n          .selectAll()\n          .data(index)\n          .enter()\n          .append(\"line\")\n          .call(applyDirectStyles, this)\n          .attr(\"x1\", X1 && !isCollapsed(x) ? (i) => X1[i] + insetLeft : marginLeft + insetLeft)\n          .attr(\n            \"x2\",\n            X2 && !isCollapsed(x)\n              ? x.bandwidth\n                ? (i) => X2[i] + x.bandwidth() - insetRight\n                : (i) => X2[i] - insetRight\n              : width - marginRight - insetRight\n          )\n          .attr(\"y1\", Y ? (i) => Y[i] : (marginTop + height - marginBottom) / 2)\n          .attr(\"y2\", Y ? (i) => Y[i] : (marginTop + height - marginBottom) / 2)\n          .call(applyChannelStyles, this, channels)\n          .call(applyMarkers, this, channels, context)\n      )\n      .node();\n  }\n}\n\nexport function ruleX(data, options) {\n  let {x = identity, y, y1, y2, ...rest} = maybeIntervalY(options);\n  [y1, y2] = maybeOptionalZero(y, y1, y2);\n  return new RuleX(data, {...rest, x, y1, y2});\n}\n\nexport function ruleY(data, options) {\n  let {y = identity, x, x1, x2, ...rest} = maybeIntervalX(options);\n  [x1, x2] = maybeOptionalZero(x, x1, x2);\n  return new RuleY(data, {...rest, y, x1, x2});\n}\n\n// For marks specified either as [0, x] or [x1, x2], or nothing.\nfunction maybeOptionalZero(x, x1, x2) {\n  if (x == null) {\n    if (x1 === undefined) {\n      if (x2 !== undefined) return [0, x2];\n    } else {\n      if (x2 === undefined) return [0, x1];\n    }\n  } else if (x1 === undefined) {\n    return x2 === undefined ? [0, x] : [x, x2];\n  } else if (x2 === undefined) {\n    return [x, x1];\n  }\n  return [x1, x2];\n}\n", "export function template(strings, ...parts) {\n  let n = parts.length;\n\n  // If any of the interpolated parameters are strings rather than functions,\n  // bake them into the template to optimize performance during render.\n  for (let j = 0, copy = true; j < n; ++j) {\n    if (typeof parts[j] !== \"function\") {\n      if (copy) {\n        strings = strings.slice(); // copy before mutate\n        copy = false;\n      }\n      strings.splice(j, 2, strings[j] + parts[j] + strings[j + 1]);\n      parts.splice(j, 1);\n      --j, --n;\n    }\n  }\n\n  return (i) => {\n    let s = strings[0];\n    for (let j = 0; j < n; ++j) {\n      s += parts[j](i) + strings[j + 1];\n    }\n    return s;\n  };\n}\n", "import {namespaces} from \"d3\";\nimport {create} from \"../context.js\";\nimport {nonempty} from \"../defined.js\";\nimport {formatDefault} from \"../format.js\";\nimport {Mark} from \"../mark.js\";\nimport {\n  indexOf,\n  identity,\n  string,\n  maybeNumberChannel,\n  maybeTuple,\n  numberChannel,\n  isNumeric,\n  isTemporal,\n  keyword,\n  maybeFrameAnchor,\n  isTextual,\n  isIterable\n} from \"../options.js\";\nimport {\n  applyChannelStyles,\n  applyDirectStyles,\n  applyIndirectStyles,\n  applyAttr,\n  applyTransform,\n  impliedString,\n  applyFrameAnchor\n} from \"../style.js\";\nimport {template} from \"../template.js\";\nimport {maybeIntervalMidX, maybeIntervalMidY} from \"../transforms/interval.js\";\n\nconst defaults = {\n  ariaLabel: \"text\",\n  strokeLinejoin: \"round\",\n  strokeWidth: 3,\n  paintOrder: \"stroke\"\n};\n\nconst softHyphen = \"\\u00ad\";\n\nexport class Text extends Mark {\n  constructor(data, options = {}) {\n    const {\n      x,\n      y,\n      text = isIterable(data) && isTextual(data) ? identity : indexOf,\n      frameAnchor,\n      textAnchor = /right$/i.test(frameAnchor) ? \"end\" : /left$/i.test(frameAnchor) ? \"start\" : \"middle\",\n      lineAnchor = /^top/i.test(frameAnchor) ? \"top\" : /^bottom/i.test(frameAnchor) ? \"bottom\" : \"middle\",\n      lineHeight = 1,\n      lineWidth = Infinity,\n      textOverflow,\n      monospace,\n      fontFamily = monospace ? \"ui-monospace, monospace\" : undefined,\n      fontSize,\n      fontStyle,\n      fontVariant,\n      fontWeight,\n      rotate\n    } = options;\n    const [vrotate, crotate] = maybeNumberChannel(rotate, 0);\n    const [vfontSize, cfontSize] = maybeFontSizeChannel(fontSize);\n    super(\n      data,\n      {\n        x: {value: x, scale: \"x\", optional: true},\n        y: {value: y, scale: \"y\", optional: true},\n        fontSize: {value: vfontSize, optional: true},\n        rotate: {value: numberChannel(vrotate), optional: true},\n        text: {value: text, filter: nonempty, optional: true}\n      },\n      options,\n      defaults\n    );\n    this.rotate = crotate;\n    this.textAnchor = impliedString(textAnchor, \"middle\");\n    this.lineAnchor = keyword(lineAnchor, \"lineAnchor\", [\"top\", \"middle\", \"bottom\"]);\n    this.lineHeight = +lineHeight;\n    this.lineWidth = +lineWidth;\n    this.textOverflow = maybeTextOverflow(textOverflow);\n    this.monospace = !!monospace;\n    this.fontFamily = string(fontFamily);\n    this.fontSize = cfontSize;\n    this.fontStyle = string(fontStyle);\n    this.fontVariant = string(fontVariant);\n    this.fontWeight = string(fontWeight);\n    this.frameAnchor = maybeFrameAnchor(frameAnchor);\n    if (!(this.lineWidth >= 0)) throw new Error(`invalid lineWidth: ${lineWidth}`);\n    this.splitLines = splitter(this);\n    this.clipLine = clipper(this);\n  }\n  render(index, scales, channels, dimensions, context) {\n    const {x, y} = scales;\n    const {x: X, y: Y, rotate: R, text: T, title: TL, fontSize: FS} = channels;\n    const {rotate} = this;\n    const [cx, cy] = applyFrameAnchor(this, dimensions);\n    return create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(applyIndirectTextStyles, this, T, dimensions)\n      .call(applyTransform, this, {x: X && x, y: Y && y})\n      .call((g) =>\n        g\n          .selectAll()\n          .data(index)\n          .enter()\n          .append(\"text\")\n          .call(applyDirectStyles, this)\n          .call(applyMultilineText, this, T, TL)\n          .attr(\n            \"transform\",\n            template`translate(${X ? (i) => X[i] : cx},${Y ? (i) => Y[i] : cy})${\n              R ? (i) => ` rotate(${R[i]})` : rotate ? ` rotate(${rotate})` : ``\n            }`\n          )\n          .call(applyAttr, \"font-size\", FS && ((i) => FS[i]))\n          .call(applyChannelStyles, this, channels)\n      )\n      .node();\n  }\n}\n\nexport function maybeTextOverflow(textOverflow) {\n  return textOverflow == null\n    ? null\n    : keyword(textOverflow, \"textOverflow\", [\n        \"clip\", // shorthand for clip-end\n        \"ellipsis\", // \u2026 ellipsis-end\n        \"clip-start\",\n        \"clip-end\",\n        \"ellipsis-start\",\n        \"ellipsis-middle\",\n        \"ellipsis-end\"\n      ]).replace(/^(clip|ellipsis)$/, \"$1-end\");\n}\n\nfunction applyMultilineText(selection, mark, T, TL) {\n  if (!T) return;\n  const {lineAnchor, lineHeight, textOverflow, splitLines, clipLine} = mark;\n  selection.each(function (i) {\n    const lines = splitLines(formatDefault(T[i]) ?? \"\").map(clipLine);\n    const n = lines.length;\n    const y = lineAnchor === \"top\" ? 0.71 : lineAnchor === \"bottom\" ? 1 - n : (164 - n * 100) / 200;\n    if (n > 1) {\n      let m = 0;\n      for (let i = 0; i < n; ++i) {\n        ++m;\n        if (!lines[i]) continue;\n        const tspan = this.ownerDocument.createElementNS(namespaces.svg, \"tspan\");\n        tspan.setAttribute(\"x\", 0);\n        if (i === m - 1) tspan.setAttribute(\"y\", `${(y + i) * lineHeight}em`);\n        else tspan.setAttribute(\"dy\", `${m * lineHeight}em`);\n        tspan.textContent = lines[i];\n        this.appendChild(tspan);\n        m = 0;\n      }\n    } else {\n      if (y) this.setAttribute(\"y\", `${y * lineHeight}em`);\n      this.textContent = lines[0];\n    }\n    if (textOverflow && !TL && lines[0] !== T[i]) {\n      const title = this.ownerDocument.createElementNS(namespaces.svg, \"title\");\n      title.textContent = T[i];\n      this.appendChild(title);\n    }\n  });\n}\n\nexport function text(data, {x, y, ...options} = {}) {\n  if (options.frameAnchor === undefined) [x, y] = maybeTuple(x, y);\n  return new Text(data, {...options, x, y});\n}\n\nexport function textX(data, {x = identity, ...options} = {}) {\n  return new Text(data, maybeIntervalMidY({...options, x}));\n}\n\nexport function textY(data, {y = identity, ...options} = {}) {\n  return new Text(data, maybeIntervalMidX({...options, y}));\n}\n\nexport function applyIndirectTextStyles(selection, mark, T) {\n  applyAttr(selection, \"text-anchor\", mark.textAnchor);\n  applyAttr(selection, \"font-family\", mark.fontFamily);\n  applyAttr(selection, \"font-size\", mark.fontSize);\n  applyAttr(selection, \"font-style\", mark.fontStyle);\n  applyAttr(selection, \"font-variant\", mark.fontVariant === undefined ? inferFontVariant(T) : mark.fontVariant);\n  applyAttr(selection, \"font-weight\", mark.fontWeight);\n}\n\nfunction inferFontVariant(T) {\n  return T && (isNumeric(T) || isTemporal(T)) ? \"tabular-nums\" : undefined;\n}\n\n// https://developer.mozilla.org/en-US/docs/Web/CSS/font-size\nconst fontSizes = new Set([\n  // global keywords\n  \"inherit\",\n  \"initial\",\n  \"revert\",\n  \"unset\",\n  // absolute keywords\n  \"xx-small\",\n  \"x-small\",\n  \"small\",\n  \"medium\",\n  \"large\",\n  \"x-large\",\n  \"xx-large\",\n  \"xxx-large\",\n  // relative keywords\n  \"larger\",\n  \"smaller\"\n]);\n\n// The font size may be expressed as a constant in the following forms:\n// - number in pixels\n// - string keyword: see above\n// - string <length>: e.g., \"12px\"\n// - string <percentage>: e.g., \"80%\"\n// Anything else is assumed to be a channel definition.\nfunction maybeFontSizeChannel(fontSize) {\n  if (fontSize == null || typeof fontSize === \"number\") return [undefined, fontSize];\n  if (typeof fontSize !== \"string\") return [fontSize, undefined];\n  fontSize = fontSize.trim().toLowerCase();\n  return fontSizes.has(fontSize) || /^[+-]?\\d*\\.?\\d+(e[+-]?\\d+)?(\\w*|%)$/.test(fontSize)\n    ? [undefined, fontSize]\n    : [fontSize, undefined];\n}\n\n// This is a greedy algorithm for line wrapping. It would be better to use the\n// Knuth\u2013Plass line breaking algorithm (but that would be much more complex).\n// https://en.wikipedia.org/wiki/Line_wrap_and_word_wrap\nfunction lineWrap(input, maxWidth, widthof) {\n  const lines = [];\n  let lineStart,\n    lineEnd = 0;\n  for (const [wordStart, wordEnd, required] of lineBreaks(input)) {\n    // Record the start of a line. This isn\u2019t the same as the previous line\u2019s\n    // end because we often skip spaces between lines.\n    if (lineStart === undefined) lineStart = wordStart;\n\n    // If the current line is not empty, and if adding the current word would\n    // make the line longer than the allowed width, then break the line at the\n    // previous word end.\n    if (lineEnd > lineStart && widthof(input, lineStart, wordEnd) > maxWidth) {\n      lines.push(input.slice(lineStart, lineEnd) + (input[lineEnd - 1] === softHyphen ? \"-\" : \"\"));\n      lineStart = wordStart;\n    }\n\n    // If this is a required break (a newline), emit the line and reset.\n    if (required) {\n      lines.push(input.slice(lineStart, wordEnd));\n      lineStart = undefined;\n      continue;\n    }\n\n    // Extend the current line to include the new word.\n    lineEnd = wordEnd;\n  }\n  return lines;\n}\n\n// This is a rudimentary (and U.S.-centric) algorithm for finding opportunities\n// to break lines between words. A better and far more comprehensive approach\n// would be to use the official Unicode Line Breaking Algorithm.\n// https://unicode.org/reports/tr14/\nfunction* lineBreaks(input) {\n  let i = 0,\n    j = 0;\n  const n = input.length;\n  while (j < n) {\n    let k = 1;\n    switch (input[j]) {\n      case softHyphen:\n      case \"-\": // hyphen\n        ++j;\n        yield [i, j, false];\n        i = j;\n        break;\n      case \" \":\n        yield [i, j, false];\n        while (input[++j] === \" \"); // skip multiple spaces\n        i = j;\n        break;\n      case \"\\r\":\n        if (input[j + 1] === \"\\n\") ++k; // falls through\n      case \"\\n\":\n        yield [i, j, true];\n        j += k;\n        i = j;\n        break;\n      default:\n        ++j;\n        break;\n    }\n  }\n  yield [i, j, true];\n}\n\n// Computed as round(measureText(text).width * 10) at 10px system-ui. For\n// characters that are not represented in this map, we\u2019d ideally want to use a\n// weighted average of what we expect to see. But since we don\u2019t really know\n// what that is, using \u201Ce\u201D seems reasonable.\nconst defaultWidthMap = {\n  a: 56,\n  b: 63,\n  c: 57,\n  d: 63,\n  e: 58,\n  f: 37,\n  g: 62,\n  h: 60,\n  i: 26,\n  j: 26,\n  k: 55,\n  l: 26,\n  m: 88,\n  n: 60,\n  o: 60,\n  p: 62,\n  q: 62,\n  r: 39,\n  s: 54,\n  t: 38,\n  u: 60,\n  v: 55,\n  w: 79,\n  x: 54,\n  y: 55,\n  z: 55,\n  A: 69,\n  B: 67,\n  C: 73,\n  D: 74,\n  E: 61,\n  F: 58,\n  G: 76,\n  H: 75,\n  I: 28,\n  J: 55,\n  K: 67,\n  L: 58,\n  M: 89,\n  N: 75,\n  O: 78,\n  P: 65,\n  Q: 78,\n  R: 67,\n  S: 65,\n  T: 65,\n  U: 75,\n  V: 69,\n  W: 98,\n  X: 69,\n  Y: 67,\n  Z: 67,\n  0: 64,\n  1: 48,\n  2: 62,\n  3: 64,\n  4: 66,\n  5: 63,\n  6: 65,\n  7: 58,\n  8: 65,\n  9: 65,\n  \" \": 29,\n  \"!\": 32,\n  '\"': 49,\n  \"'\": 31,\n  \"(\": 39,\n  \")\": 39,\n  \",\": 31,\n  \"-\": 48,\n  \".\": 31,\n  \"/\": 32,\n  \":\": 31,\n  \";\": 31,\n  \"?\": 52,\n  \"\u2018\": 31,\n  \"\u2019\": 31,\n  \"\u201C\": 47,\n  \"\u201D\": 47,\n  \"\u2026\": 82\n};\n\n// This is a rudimentary (and U.S.-centric) algorithm for measuring the width of\n// a string based on a technique of Gregor Aisch; it assumes that individual\n// characters are laid out independently and does not implement the Unicode\n// grapheme cluster breaking algorithm. It does understand code points, though,\n// and so treats things like emoji as having the width of a lowercase e (and\n// should be equivalent to using for-of to iterate over code points, while also\n// being fast). TODO Optimize this by noting that we often re-measure characters\n// that were previously measured?\n// http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries\n// https://exploringjs.com/impatient-js/ch_strings.html#atoms-of-text\nexport function defaultWidth(text, start = 0, end = text.length) {\n  let sum = 0;\n  for (let i = start; i < end; i = readCharacter(text, i)) {\n    sum += defaultWidthMap[text[i]] ?? (isPictographic(text, i) ? 120 : defaultWidthMap.e);\n  }\n  return sum;\n}\n\n// Even for monospaced text, we can\u2019t assume that the number of UTF-16 code\n// points (i.e., the length of a string) corresponds to the number of visible\n// characters; we still have to count graphemes. And note that pictographic\n// characters such as emojis are typically not monospaced!\nexport function monospaceWidth(text, start = 0, end = text.length) {\n  let sum = 0;\n  for (let i = start; i < end; i = readCharacter(text, i)) {\n    sum += isPictographic(text, i) ? 200 : 100;\n  }\n  return sum;\n}\n\nexport function splitter({monospace, lineWidth, textOverflow}) {\n  if (textOverflow != null || lineWidth == Infinity) return (text) => text.split(/\\r\\n?|\\n/g);\n  const widthof = monospace ? monospaceWidth : defaultWidth;\n  const maxWidth = lineWidth * 100;\n  return (text) => lineWrap(text, maxWidth, widthof);\n}\n\nexport function clipper({monospace, lineWidth, textOverflow}) {\n  if (textOverflow == null || lineWidth == Infinity) return (text) => text;\n  const widthof = monospace ? monospaceWidth : defaultWidth;\n  const maxWidth = lineWidth * 100;\n  switch (textOverflow) {\n    case \"clip-start\":\n      return (text) => clipStart(text, maxWidth, widthof, \"\");\n    case \"clip-end\":\n      return (text) => clipEnd(text, maxWidth, widthof, \"\");\n    case \"ellipsis-start\":\n      return (text) => clipStart(text, maxWidth, widthof, ellipsis);\n    case \"ellipsis-middle\":\n      return (text) => clipMiddle(text, maxWidth, widthof, ellipsis);\n    case \"ellipsis-end\":\n      return (text) => clipEnd(text, maxWidth, widthof, ellipsis);\n  }\n}\n\nexport const ellipsis = \"\u2026\";\n\n// Cuts the given text to the given width, using the specified widthof function;\n// the returned [index, error] guarantees text.slice(0, index) fits within the\n// specified width with the given error. If the text fits naturally within the\n// given width, returns [-1, 0]. If the text needs cutting, the given inset\n// specifies how much space (in the same units as width and widthof) to reserve\n// for a possible ellipsis character.\nexport function cut(text, width, widthof, inset) {\n  const I = []; // indexes of read character boundaries\n  let w = 0; // current line width\n  for (let i = 0, j = 0, n = text.length; i < n; i = j) {\n    j = readCharacter(text, i); // read the next character\n    const l = widthof(text, i, j); // current character width\n    if (w + l > width) {\n      w += inset;\n      while (w > width && i > 0) (j = i), (i = I.pop()), (w -= widthof(text, i, j)); // remove excess\n      return [i, width - w];\n    }\n    w += l;\n    I.push(i);\n  }\n  return [-1, 0];\n}\n\nexport function clipEnd(text, width, widthof, ellipsis) {\n  text = text.trim(); // ignore leading and trailing whitespace\n  const e = widthof(ellipsis);\n  const [i] = cut(text, width, widthof, e);\n  return i < 0 ? text : text.slice(0, i).trimEnd() + ellipsis;\n}\n\nexport function clipMiddle(text, width, widthof, ellipsis) {\n  text = text.trim(); // ignore leading and trailing whitespace\n  const w = widthof(text);\n  if (w <= width) return text;\n  const e = widthof(ellipsis) / 2;\n  const [i, ei] = cut(text, width / 2, widthof, e);\n  const [j] = cut(text, w - width / 2 - ei + e, widthof, -e); // TODO read spaces?\n  return j < 0 ? ellipsis : text.slice(0, i).trimEnd() + ellipsis + text.slice(readCharacter(text, j)).trimStart();\n}\n\nexport function clipStart(text, width, widthof, ellipsis) {\n  text = text.trim(); // ignore leading and trailing whitespace\n  const w = widthof(text);\n  if (w <= width) return text;\n  const e = widthof(ellipsis);\n  const [j] = cut(text, w - width + e, widthof, -e); // TODO read spaces?\n  return j < 0 ? ellipsis : ellipsis + text.slice(readCharacter(text, j)).trimStart();\n}\n\nconst reCombiner = /[\\p{Combining_Mark}\\p{Emoji_Modifier}]+/uy;\nconst rePictographic = /\\p{Extended_Pictographic}/uy;\n\n// Reads a single \u201Ccharacter\u201D element from the given text starting at the given\n// index, returning the index after the read character. Ideally, this implements\n// the Unicode text segmentation algorithm and understands grapheme cluster\n// boundaries, etc., but in practice this is only smart enough to detect UTF-16\n// surrogate pairs, combining marks, and zero-width joiner (zwj) sequences such\n// as emoji skin color modifiers. https://unicode.org/reports/tr29/\nexport function readCharacter(text, i) {\n  i += isSurrogatePair(text, i) ? 2 : 1;\n  if (isCombiner(text, i)) i = reCombiner.lastIndex;\n  if (isZeroWidthJoiner(text, i)) return readCharacter(text, i + 1);\n  return i;\n}\n\n// We avoid more expensive regex tests involving Unicode property classes by\n// first checking for the common case of 7-bit ASCII characters.\nfunction isAscii(text, i) {\n  return text.charCodeAt(i) < 0x80;\n}\n\nfunction isSurrogatePair(text, i) {\n  const hi = text.charCodeAt(i);\n  if (hi >= 0xd800 && hi < 0xdc00) {\n    const lo = text.charCodeAt(i + 1);\n    return lo >= 0xdc00 && lo < 0xe000;\n  }\n  return false;\n}\n\nfunction isZeroWidthJoiner(text, i) {\n  return text.charCodeAt(i) === 0x200d;\n}\n\nfunction isCombiner(text, i) {\n  return isAscii(text, i) ? false : ((reCombiner.lastIndex = i), reCombiner.test(text));\n}\n\nfunction isPictographic(text, i) {\n  return isAscii(text, i) ? false : ((rePictographic.lastIndex = i), rePictographic.test(text));\n}\n", "import {pathRound as path} from \"d3\";\nimport {create} from \"../context.js\";\nimport {Mark} from \"../mark.js\";\nimport {maybeFrameAnchor, maybeNumberChannel, maybeTuple, keyword, identity} from \"../options.js\";\nimport {\n  applyChannelStyles,\n  applyDirectStyles,\n  applyFrameAnchor,\n  applyIndirectStyles,\n  applyTransform\n} from \"../style.js\";\nimport {template} from \"../template.js\";\n\nconst defaults = {\n  ariaLabel: \"vector\",\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeWidth: 1.5,\n  strokeLinejoin: \"round\",\n  strokeLinecap: \"round\"\n};\n\nconst defaultRadius = 3.5;\n\n// The size of the arrowhead is proportional to its length, but we still allow\n// the relative size of the head to be controlled via the mark\u2019s width option;\n// doubling the default radius will produce an arrowhead that is twice as big.\n// That said, we\u2019ll probably want a arrow with a fixed head size, too.\nconst wingRatio = defaultRadius * 5;\n\nconst shapeArrow = {\n  draw(context, l, r) {\n    const wing = (l * r) / wingRatio;\n    context.moveTo(0, 0);\n    context.lineTo(0, -l);\n    context.moveTo(-wing, wing - l);\n    context.lineTo(0, -l);\n    context.lineTo(wing, wing - l);\n  }\n};\n\nconst shapeSpike = {\n  draw(context, l, r) {\n    context.moveTo(-r, 0);\n    context.lineTo(0, -l);\n    context.lineTo(r, 0);\n  }\n};\n\nconst shapes = new Map([\n  [\"arrow\", shapeArrow],\n  [\"spike\", shapeSpike]\n]);\n\nfunction isShapeObject(value) {\n  return value && typeof value.draw === \"function\";\n}\n\nfunction maybeShape(shape) {\n  if (isShapeObject(shape)) return shape;\n  const value = shapes.get(`${shape}`.toLowerCase());\n  if (value) return value;\n  throw new Error(`invalid shape: ${shape}`);\n}\n\nexport class Vector extends Mark {\n  constructor(data, options = {}) {\n    const {x, y, r = defaultRadius, length, rotate, shape = shapeArrow, anchor = \"middle\", frameAnchor} = options;\n    const [vl, cl] = maybeNumberChannel(length, 12);\n    const [vr, cr] = maybeNumberChannel(rotate, 0);\n    super(\n      data,\n      {\n        x: {value: x, scale: \"x\", optional: true},\n        y: {value: y, scale: \"y\", optional: true},\n        length: {value: vl, scale: \"length\", optional: true},\n        rotate: {value: vr, optional: true}\n      },\n      options,\n      defaults\n    );\n    this.r = +r;\n    this.length = cl;\n    this.rotate = cr;\n    this.shape = maybeShape(shape);\n    this.anchor = keyword(anchor, \"anchor\", [\"start\", \"middle\", \"end\"]);\n    this.frameAnchor = maybeFrameAnchor(frameAnchor);\n  }\n  render(index, scales, channels, dimensions, context) {\n    const {x, y} = scales;\n    const {x: X, y: Y, length: L, rotate: A} = channels;\n    const {length, rotate, anchor, shape, r} = this;\n    const [cx, cy] = applyFrameAnchor(this, dimensions);\n    return create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(applyTransform, this, {x: X && x, y: Y && y})\n      .call((g) =>\n        g\n          .selectAll()\n          .data(index)\n          .enter()\n          .append(\"path\")\n          .call(applyDirectStyles, this)\n          .attr(\n            \"transform\",\n            template`translate(${X ? (i) => X[i] : cx},${Y ? (i) => Y[i] : cy})${\n              A ? (i) => ` rotate(${A[i]})` : rotate ? ` rotate(${rotate})` : ``\n            }${\n              anchor === \"start\"\n                ? ``\n                : anchor === \"end\"\n                ? L\n                  ? (i) => ` translate(0,${L[i]})`\n                  : ` translate(0,${length})`\n                : L\n                ? (i) => ` translate(0,${L[i] / 2})`\n                : ` translate(0,${length / 2})`\n            }`\n          )\n          .attr(\n            \"d\",\n            L\n              ? (i) => {\n                  const p = path();\n                  shape.draw(p, L[i], r);\n                  return p;\n                }\n              : (() => {\n                  const p = path();\n                  shape.draw(p, length, r);\n                  return p;\n                })()\n          )\n          .call(applyChannelStyles, this, channels)\n      )\n      .node();\n  }\n}\n\nexport function vector(data, options = {}) {\n  let {x, y, ...rest} = options;\n  if (options.frameAnchor === undefined) [x, y] = maybeTuple(x, y);\n  return new Vector(data, {...rest, x, y});\n}\n\nexport function vectorX(data, options = {}) {\n  const {x = identity, ...rest} = options;\n  return new Vector(data, {...rest, x});\n}\n\nexport function vectorY(data, options = {}) {\n  const {y = identity, ...rest} = options;\n  return new Vector(data, {...rest, y});\n}\n\nexport function spike(data, options = {}) {\n  const {\n    shape = shapeSpike,\n    stroke = defaults.stroke,\n    strokeWidth = 1,\n    fill = stroke,\n    fillOpacity = 0.3,\n    anchor = \"start\",\n    ...rest\n  } = options;\n  return vector(data, {...rest, shape, stroke, strokeWidth, fill, fillOpacity, anchor});\n}\n", "import {extent, format, timeFormat, utcFormat} from \"d3\";\nimport {formatDefault} from \"../format.js\";\nimport {marks} from \"../mark.js\";\nimport {radians} from \"../math.js\";\nimport {arrayify, constant, identity, keyword, number, range, valueof} from \"../options.js\";\nimport {isIterable, isNoneish, isTemporal, orderof} from \"../options.js\";\nimport {maybeColorChannel, maybeNumberChannel, maybeRangeInterval} from \"../options.js\";\nimport {isTemporalScale} from \"../scales.js\";\nimport {offset} from \"../style.js\";\nimport {formatTimeTicks, isTimeYear, isUtcYear} from \"../time.js\";\nimport {initializer} from \"../transforms/basic.js\";\nimport {ruleX, ruleY} from \"./rule.js\";\nimport {text, textX, textY} from \"./text.js\";\nimport {vectorX, vectorY} from \"./vector.js\";\n\nfunction maybeData(data, options) {\n  if (arguments.length < 2 && !isIterable(data)) (options = data), (data = null);\n  if (options === undefined) options = {};\n  return [data, options];\n}\n\nfunction maybeAnchor({anchor} = {}, anchors) {\n  return anchor === undefined ? anchors[0] : keyword(anchor, \"anchor\", anchors);\n}\n\nfunction anchorY(options) {\n  return maybeAnchor(options, [\"left\", \"right\"]);\n}\n\nfunction anchorFy(options) {\n  return maybeAnchor(options, [\"right\", \"left\"]);\n}\n\nfunction anchorX(options) {\n  return maybeAnchor(options, [\"bottom\", \"top\"]);\n}\n\nfunction anchorFx(options) {\n  return maybeAnchor(options, [\"top\", \"bottom\"]);\n}\n\nexport function axisY() {\n  const [data, options] = maybeData(...arguments);\n  return axisKy(\"y\", anchorY(options), data, options);\n}\n\nexport function axisFy() {\n  const [data, options] = maybeData(...arguments);\n  return axisKy(\"fy\", anchorFy(options), data, options);\n}\n\nexport function axisX() {\n  const [data, options] = maybeData(...arguments);\n  return axisKx(\"x\", anchorX(options), data, options);\n}\n\nexport function axisFx() {\n  const [data, options] = maybeData(...arguments);\n  return axisKx(\"fx\", anchorFx(options), data, options);\n}\n\nfunction axisKy(\n  k,\n  anchor,\n  data,\n  {\n    color = \"currentColor\",\n    opacity = 1,\n    stroke = color,\n    strokeOpacity = opacity,\n    strokeWidth = 1,\n    fill = color,\n    fillOpacity = opacity,\n    textAnchor,\n    textStroke,\n    textStrokeOpacity,\n    textStrokeWidth,\n    tickSize = k === \"y\" ? 6 : 0,\n    tickPadding,\n    tickRotate,\n    x,\n    margin,\n    marginTop = margin === undefined ? 20 : margin,\n    marginRight = margin === undefined ? (anchor === \"right\" ? 40 : 0) : margin,\n    marginBottom = margin === undefined ? 20 : margin,\n    marginLeft = margin === undefined ? (anchor === \"left\" ? 40 : 0) : margin,\n    label,\n    labelAnchor,\n    labelArrow,\n    labelOffset,\n    ...options\n  }\n) {\n  tickSize = number(tickSize);\n  tickPadding = number(tickPadding);\n  tickRotate = number(tickRotate);\n  if (labelAnchor !== undefined) labelAnchor = keyword(labelAnchor, \"labelAnchor\", [\"center\", \"top\", \"bottom\"]);\n  labelArrow = maybeLabelArrow(labelArrow);\n  return marks(\n    tickSize && !isNoneish(stroke)\n      ? axisTickKy(k, anchor, data, {\n          stroke,\n          strokeOpacity,\n          strokeWidth,\n          tickSize,\n          tickPadding,\n          tickRotate,\n          x,\n          ...options\n        })\n      : null,\n    !isNoneish(fill)\n      ? axisTextKy(k, anchor, data, {\n          fill,\n          fillOpacity,\n          stroke: textStroke,\n          strokeOpacity: textStrokeOpacity,\n          strokeWidth: textStrokeWidth,\n          textAnchor,\n          tickSize,\n          tickPadding,\n          tickRotate,\n          x,\n          marginTop,\n          marginRight,\n          marginBottom,\n          marginLeft,\n          ...options\n        })\n      : null,\n    !isNoneish(fill) && label !== null\n      ? text(\n          [],\n          labelOptions({fill, fillOpacity, ...options}, function (data, facets, channels, scales, dimensions) {\n            const scale = scales[k];\n            const {marginTop, marginRight, marginBottom, marginLeft} = (k === \"y\" && dimensions.inset) || dimensions;\n            const cla = labelAnchor ?? (scale.bandwidth ? \"center\" : \"top\");\n            const clo = labelOffset ?? (anchor === \"right\" ? marginRight : marginLeft) - 3;\n            if (cla === \"center\") {\n              this.textAnchor = undefined; // middle\n              this.lineAnchor = anchor === \"right\" ? \"bottom\" : \"top\";\n              this.frameAnchor = anchor;\n              this.rotate = -90;\n            } else {\n              this.textAnchor = anchor === \"right\" ? \"end\" : \"start\";\n              this.lineAnchor = cla;\n              this.frameAnchor = `${cla}-${anchor}`;\n              this.rotate = 0;\n            }\n            this.dy = cla === \"top\" ? 3 - marginTop : cla === \"bottom\" ? marginBottom - 3 : 0;\n            this.dx = anchor === \"right\" ? clo : -clo;\n            this.ariaLabel = `${k}-axis label`;\n            return {\n              facets: [[0]],\n              channels: {text: {value: [formatAxisLabel(k, scale, {anchor, label, labelAnchor: cla, labelArrow})]}}\n            };\n          })\n        )\n      : null\n  );\n}\n\nfunction axisKx(\n  k,\n  anchor,\n  data,\n  {\n    color = \"currentColor\",\n    opacity = 1,\n    stroke = color,\n    strokeOpacity = opacity,\n    strokeWidth = 1,\n    fill = color,\n    fillOpacity = opacity,\n    textAnchor,\n    textStroke,\n    textStrokeOpacity,\n    textStrokeWidth,\n    tickSize = k === \"x\" ? 6 : 0,\n    tickPadding,\n    tickRotate,\n    y,\n    margin,\n    marginTop = margin === undefined ? (anchor === \"top\" ? 30 : 0) : margin,\n    marginRight = margin === undefined ? 20 : margin,\n    marginBottom = margin === undefined ? (anchor === \"bottom\" ? 30 : 0) : margin,\n    marginLeft = margin === undefined ? 20 : margin,\n    label,\n    labelAnchor,\n    labelArrow,\n    labelOffset,\n    ...options\n  }\n) {\n  tickSize = number(tickSize);\n  tickPadding = number(tickPadding);\n  tickRotate = number(tickRotate);\n  if (labelAnchor !== undefined) labelAnchor = keyword(labelAnchor, \"labelAnchor\", [\"center\", \"left\", \"right\"]);\n  labelArrow = maybeLabelArrow(labelArrow);\n  return marks(\n    tickSize && !isNoneish(stroke)\n      ? axisTickKx(k, anchor, data, {\n          stroke,\n          strokeOpacity,\n          strokeWidth,\n          tickSize,\n          tickPadding,\n          tickRotate,\n          y,\n          ...options\n        })\n      : null,\n    !isNoneish(fill)\n      ? axisTextKx(k, anchor, data, {\n          fill,\n          fillOpacity,\n          stroke: textStroke,\n          strokeOpacity: textStrokeOpacity,\n          strokeWidth: textStrokeWidth,\n          textAnchor,\n          tickSize,\n          tickPadding,\n          tickRotate,\n          y,\n          marginTop,\n          marginRight,\n          marginBottom,\n          marginLeft,\n          ...options\n        })\n      : null,\n    !isNoneish(fill) && label !== null\n      ? text(\n          [],\n          labelOptions({fill, fillOpacity, ...options}, function (data, facets, channels, scales, dimensions) {\n            const scale = scales[k];\n            const {marginTop, marginRight, marginBottom, marginLeft} = (k === \"x\" && dimensions.inset) || dimensions;\n            const cla = labelAnchor ?? (scale.bandwidth ? \"center\" : \"right\");\n            const clo = labelOffset ?? (anchor === \"top\" ? marginTop : marginBottom) - 3;\n            if (cla === \"center\") {\n              this.frameAnchor = anchor;\n              this.textAnchor = undefined; // middle\n            } else {\n              this.frameAnchor = `${anchor}-${cla}`;\n              this.textAnchor = cla === \"right\" ? \"end\" : \"start\";\n            }\n            this.lineAnchor = anchor;\n            this.dy = anchor === \"top\" ? -clo : clo;\n            this.dx = cla === \"right\" ? marginRight - 3 : cla === \"left\" ? 3 - marginLeft : 0;\n            this.ariaLabel = `${k}-axis label`;\n            return {\n              facets: [[0]],\n              channels: {text: {value: [formatAxisLabel(k, scale, {anchor, label, labelAnchor: cla, labelArrow})]}}\n            };\n          })\n        )\n      : null\n  );\n}\n\nfunction axisTickKy(\n  k,\n  anchor,\n  data,\n  {\n    strokeWidth = 1,\n    strokeLinecap = null,\n    strokeLinejoin = null,\n    facetAnchor = anchor + (k === \"y\" ? \"-empty\" : \"\"),\n    frameAnchor = anchor,\n    tickSize,\n    inset = 0,\n    insetLeft = inset,\n    insetRight = inset,\n    dx = 0,\n    y = k === \"y\" ? undefined : null,\n    ...options\n  }\n) {\n  return axisMark(vectorY, k, `${k}-axis tick`, data, {\n    strokeWidth,\n    strokeLinecap,\n    strokeLinejoin,\n    facetAnchor,\n    frameAnchor,\n    y,\n    ...options,\n    dx: anchor === \"left\" ? +dx - offset + +insetLeft : +dx + offset - insetRight,\n    anchor: \"start\",\n    length: tickSize,\n    shape: anchor === \"left\" ? shapeTickLeft : shapeTickRight\n  });\n}\n\nfunction axisTickKx(\n  k,\n  anchor,\n  data,\n  {\n    strokeWidth = 1,\n    strokeLinecap = null,\n    strokeLinejoin = null,\n    facetAnchor = anchor + (k === \"x\" ? \"-empty\" : \"\"),\n    frameAnchor = anchor,\n    tickSize,\n    inset = 0,\n    insetTop = inset,\n    insetBottom = inset,\n    dy = 0,\n    x = k === \"x\" ? undefined : null,\n    ...options\n  }\n) {\n  return axisMark(vectorX, k, `${k}-axis tick`, data, {\n    strokeWidth,\n    strokeLinejoin,\n    strokeLinecap,\n    facetAnchor,\n    frameAnchor,\n    x,\n    ...options,\n    dy: anchor === \"bottom\" ? +dy - offset - insetBottom : +dy + offset + +insetTop,\n    anchor: \"start\",\n    length: tickSize,\n    shape: anchor === \"bottom\" ? shapeTickBottom : shapeTickTop\n  });\n}\n\nfunction axisTextKy(\n  k,\n  anchor,\n  data,\n  {\n    facetAnchor = anchor + (k === \"y\" ? \"-empty\" : \"\"),\n    frameAnchor = anchor,\n    tickSize,\n    tickRotate = 0,\n    tickPadding = Math.max(3, 9 - tickSize) + (Math.abs(tickRotate) > 60 ? 4 * Math.cos(tickRotate * radians) : 0),\n    tickFormat,\n    text = typeof tickFormat === \"function\" ? tickFormat : undefined,\n    textAnchor = Math.abs(tickRotate) > 60 ? \"middle\" : anchor === \"left\" ? \"end\" : \"start\",\n    lineAnchor = tickRotate > 60 ? \"top\" : tickRotate < -60 ? \"bottom\" : \"middle\",\n    fontVariant,\n    inset = 0,\n    insetLeft = inset,\n    insetRight = inset,\n    dx = 0,\n    y = k === \"y\" ? undefined : null,\n    ...options\n  }\n) {\n  return axisMark(\n    textY,\n    k,\n    `${k}-axis tick label`,\n    data,\n    {\n      facetAnchor,\n      frameAnchor,\n      text: text === undefined ? null : text,\n      textAnchor,\n      lineAnchor,\n      fontVariant,\n      rotate: tickRotate,\n      y,\n      ...options,\n      dx: anchor === \"left\" ? +dx - tickSize - tickPadding + +insetLeft : +dx + +tickSize + +tickPadding - insetRight\n    },\n    function (scale, data, ticks, channels) {\n      if (fontVariant === undefined) this.fontVariant = inferFontVariant(scale);\n      if (text === undefined) channels.text = inferTextChannel(scale, data, ticks, tickFormat, anchor);\n    }\n  );\n}\n\nfunction axisTextKx(\n  k,\n  anchor,\n  data,\n  {\n    facetAnchor = anchor + (k === \"x\" ? \"-empty\" : \"\"),\n    frameAnchor = anchor,\n    tickSize,\n    tickRotate = 0,\n    tickPadding = Math.max(3, 9 - tickSize) + (Math.abs(tickRotate) >= 10 ? 4 * Math.cos(tickRotate * radians) : 0),\n    tickFormat,\n    text = typeof tickFormat === \"function\" ? tickFormat : undefined,\n    textAnchor = Math.abs(tickRotate) >= 10 ? ((tickRotate < 0) ^ (anchor === \"bottom\") ? \"start\" : \"end\") : \"middle\",\n    lineAnchor = Math.abs(tickRotate) >= 10 ? \"middle\" : anchor === \"bottom\" ? \"top\" : \"bottom\",\n    fontVariant,\n    inset = 0,\n    insetTop = inset,\n    insetBottom = inset,\n    dy = 0,\n    x = k === \"x\" ? undefined : null,\n    ...options\n  }\n) {\n  return axisMark(\n    textX,\n    k,\n    `${k}-axis tick label`,\n    data,\n    {\n      facetAnchor,\n      frameAnchor,\n      text: text === undefined ? null : text,\n      textAnchor,\n      lineAnchor,\n      fontVariant,\n      rotate: tickRotate,\n      x,\n      ...options,\n      dy: anchor === \"bottom\" ? +dy + +tickSize + +tickPadding - insetBottom : +dy - tickSize - tickPadding + +insetTop\n    },\n    function (scale, data, ticks, channels) {\n      if (fontVariant === undefined) this.fontVariant = inferFontVariant(scale);\n      if (text === undefined) channels.text = inferTextChannel(scale, data, ticks, tickFormat, anchor);\n    }\n  );\n}\n\nexport function gridY() {\n  const [data, options] = maybeData(...arguments);\n  return gridKy(\"y\", anchorY(options), data, options);\n}\n\nexport function gridFy() {\n  const [data, options] = maybeData(...arguments);\n  return gridKy(\"fy\", anchorFy(options), data, options);\n}\n\nexport function gridX() {\n  const [data, options] = maybeData(...arguments);\n  return gridKx(\"x\", anchorX(options), data, options);\n}\n\nexport function gridFx() {\n  const [data, options] = maybeData(...arguments);\n  return gridKx(\"fx\", anchorFx(options), data, options);\n}\n\nfunction gridKy(\n  k,\n  anchor,\n  data,\n  {\n    y = k === \"y\" ? undefined : null,\n    x = null,\n    x1 = anchor === \"left\" ? x : null,\n    x2 = anchor === \"right\" ? x : null,\n    ...options\n  }\n) {\n  return axisMark(ruleY, k, `${k}-grid`, data, {y, x1, x2, ...gridDefaults(options)});\n}\n\nfunction gridKx(\n  k,\n  anchor,\n  data,\n  {\n    x = k === \"x\" ? undefined : null,\n    y = null,\n    y1 = anchor === \"top\" ? y : null,\n    y2 = anchor === \"bottom\" ? y : null,\n    ...options\n  }\n) {\n  return axisMark(ruleX, k, `${k}-grid`, data, {x, y1, y2, ...gridDefaults(options)});\n}\n\nfunction gridDefaults({\n  color = \"currentColor\",\n  opacity = 0.1,\n  stroke = color,\n  strokeOpacity = opacity,\n  strokeWidth = 1,\n  ...options\n}) {\n  return {stroke, strokeOpacity, strokeWidth, ...options};\n}\n\nfunction labelOptions(\n  {fill, fillOpacity, fontFamily, fontSize, fontStyle, fontWeight, monospace, pointerEvents, shapeRendering},\n  initializer\n) {\n  // Only propagate these options if constant.\n  [, fill] = maybeColorChannel(fill);\n  [, fillOpacity] = maybeNumberChannel(fillOpacity);\n  return {\n    facet: \"super\",\n    x: null,\n    y: null,\n    fill,\n    fillOpacity,\n    fontFamily,\n    fontSize,\n    fontStyle,\n    fontWeight,\n    monospace,\n    pointerEvents,\n    shapeRendering,\n    initializer\n  };\n}\n\nfunction axisMark(mark, k, ariaLabel, data, options, initialize) {\n  let channels;\n\n  function axisInitializer(data, facets, _channels, scales, dimensions, context) {\n    const initializeFacets = data == null && (k === \"fx\" || k === \"fy\");\n    const {[k]: scale} = scales;\n    if (!scale) throw new Error(`missing scale: ${k}`);\n    let {ticks, tickSpacing, interval} = options;\n    if (isTemporalScale(scale) && typeof ticks === \"string\") (interval = ticks), (ticks = undefined);\n    if (data == null) {\n      if (isIterable(ticks)) {\n        data = arrayify(ticks);\n      } else if (scale.ticks) {\n        if (ticks !== undefined) {\n          data = scale.ticks(ticks);\n        } else {\n          interval = maybeRangeInterval(interval === undefined ? scale.interval : interval, scale.type);\n          if (interval !== undefined) {\n            // For time scales, we could pass the interval directly to\n            // scale.ticks because it\u2019s supported by d3.utcTicks; but\n            // quantitative scales and d3.ticks do not support numeric\n            // intervals for scale.ticks, so we compute them here.\n            const [min, max] = extent(scale.domain());\n            data = interval.range(min, interval.offset(interval.floor(max))); // inclusive max\n          } else {\n            const [min, max] = extent(scale.range());\n            ticks = (max - min) / (tickSpacing === undefined ? (k === \"x\" ? 80 : 35) : tickSpacing);\n            data = scale.ticks(ticks);\n          }\n        }\n      } else {\n        data = scale.domain();\n      }\n      if (k === \"y\" || k === \"x\") {\n        facets = [range(data)];\n      } else {\n        channels[k] = {scale: k, value: identity};\n      }\n    }\n    initialize?.call(this, scale, data, ticks, channels);\n    const initializedChannels = Object.fromEntries(\n      Object.entries(channels).map(([name, channel]) => {\n        return [name, {...channel, value: valueof(data, channel.value)}];\n      })\n    );\n    if (initializeFacets) facets = context.filterFacets(data, initializedChannels);\n    return {data, facets, channels: initializedChannels};\n  }\n\n  // Apply any basic initializers after the axis initializer computes the ticks.\n  const basicInitializer = initializer(options).initializer;\n  const m = mark(data, initializer({...options, initializer: axisInitializer}, basicInitializer));\n  if (data == null) {\n    channels = m.channels;\n    m.channels = {};\n  } else {\n    channels = {};\n  }\n  m.ariaLabel = ariaLabel;\n  return m;\n}\n\nfunction inferTextChannel(scale, data, ticks, tickFormat, anchor) {\n  return {value: inferTickFormat(scale, data, ticks, tickFormat, anchor)};\n}\n\n// D3\u2019s ordinal scales simply use toString by default, but if the ordinal scale\n// domain (or ticks) are numbers or dates (say because we\u2019re applying a time\n// interval to the ordinal scale), we want Plot\u2019s default formatter.\nexport function inferTickFormat(scale, data, ticks, tickFormat, anchor) {\n  return tickFormat === undefined && isTemporalScale(scale)\n    ? formatTimeTicks(scale, data, ticks, anchor)\n    : scale.tickFormat\n    ? scale.tickFormat(isIterable(ticks) ? null : ticks, tickFormat)\n    : tickFormat === undefined\n    ? isUtcYear(scale.interval)\n      ? utcFormat(\"%Y\")\n      : isTimeYear(scale.interval)\n      ? timeFormat(\"%Y\")\n      : formatDefault\n    : typeof tickFormat === \"string\"\n    ? (isTemporal(scale.domain()) ? utcFormat : format)(tickFormat)\n    : constant(tickFormat);\n}\n\nconst shapeTickBottom = {\n  draw(context, l) {\n    context.moveTo(0, 0);\n    context.lineTo(0, l);\n  }\n};\n\nconst shapeTickTop = {\n  draw(context, l) {\n    context.moveTo(0, 0);\n    context.lineTo(0, -l);\n  }\n};\n\nconst shapeTickLeft = {\n  draw(context, l) {\n    context.moveTo(0, 0);\n    context.lineTo(-l, 0);\n  }\n};\n\nconst shapeTickRight = {\n  draw(context, l) {\n    context.moveTo(0, 0);\n    context.lineTo(l, 0);\n  }\n};\n\n// TODO Unify this with the other inferFontVariant; here we only have a scale\n// function rather than a scale descriptor.\nfunction inferFontVariant(scale) {\n  return scale.bandwidth && !scale.interval ? undefined : \"tabular-nums\";\n}\n\n// Determines whether the scale points in the \u201Cpositive\u201D (right or down) or\n// \u201Cnegative\u201D (left or up) direction; if the scale order cannot be determined,\n// returns NaN; used to assign an appropriate label arrow.\nfunction inferScaleOrder(scale) {\n  return Math.sign(orderof(scale.domain())) * Math.sign(orderof(scale.range()));\n}\n\n// Takes the scale label, and if this is not an ordinal scale and the label was\n// inferred from an associated channel, adds an orientation-appropriate arrow.\nfunction formatAxisLabel(k, scale, {anchor, label = scale.label, labelAnchor, labelArrow} = {}) {\n  if (label == null || (label.inferred && isTemporalish(scale) && /^(date|time|year)$/i.test(label))) return;\n  label = String(label); // coerce to a string after checking if inferred\n  if (labelArrow === \"auto\") labelArrow = (!scale.bandwidth || scale.interval) && !/[\u2191\u2193\u2192\u2190]/.test(label);\n  if (!labelArrow) return label;\n  if (labelArrow === true) {\n    const order = inferScaleOrder(scale);\n    if (order)\n      labelArrow =\n        /x$/.test(k) || labelAnchor === \"center\"\n          ? /x$/.test(k) === order < 0\n            ? \"left\"\n            : \"right\"\n          : order < 0\n          ? \"up\"\n          : \"down\";\n  }\n  switch (labelArrow) {\n    case \"left\":\n      return `\u2190 ${label}`;\n    case \"right\":\n      return `${label} \u2192`;\n    case \"up\":\n      return anchor === \"right\" ? `${label} \u2191` : `\u2191 ${label}`;\n    case \"down\":\n      return anchor === \"right\" ? `${label} \u2193` : `\u2193 ${label}`;\n  }\n  return label;\n}\n\nfunction maybeLabelArrow(labelArrow = \"auto\") {\n  return isNoneish(labelArrow)\n    ? false\n    : typeof labelArrow === \"boolean\"\n    ? labelArrow\n    : keyword(labelArrow, \"labelArrow\", [\"auto\", \"up\", \"right\", \"down\", \"left\"]);\n}\n\nfunction isTemporalish(scale) {\n  return isTemporalScale(scale) || scale.interval != null;\n}\n", "import {pathRound as path} from \"d3\";\nimport {inferFontVariant} from \"../axes.js\";\nimport {create, createContext} from \"../context.js\";\nimport {isNoneish, maybeColorChannel, maybeNumberChannel} from \"../options.js\";\nimport {isOrdinalScale, isThresholdScale} from \"../scales.js\";\nimport {applyInlineStyles, impliedString, maybeClassName} from \"../style.js\";\nimport {inferTickFormat} from \"../marks/axis.js\";\n\nfunction maybeScale(scale, key) {\n  if (key == null) return key;\n  const s = scale(key);\n  if (!s) throw new Error(`scale not found: ${key}`);\n  return s;\n}\n\nexport function legendSwatches(color, {opacity, ...options} = {}) {\n  if (!isOrdinalScale(color) && !isThresholdScale(color))\n    throw new Error(`swatches legend requires ordinal or threshold color scale (not ${color.type})`);\n  return legendItems(color, options, (selection, scale, width, height) =>\n    selection\n      .append(\"svg\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"fill\", scale.scale)\n      .attr(\"fill-opacity\", maybeNumberChannel(opacity)[1])\n      .append(\"rect\")\n      .attr(\"width\", \"100%\")\n      .attr(\"height\", \"100%\")\n  );\n}\n\nexport function legendSymbols(\n  symbol,\n  {\n    fill = symbol.hint?.fill !== undefined ? symbol.hint.fill : \"none\",\n    fillOpacity = 1,\n    stroke = symbol.hint?.stroke !== undefined ? symbol.hint.stroke : isNoneish(fill) ? \"currentColor\" : \"none\",\n    strokeOpacity = 1,\n    strokeWidth = 1.5,\n    r = 4.5,\n    ...options\n  } = {},\n  scale\n) {\n  const [vf, cf] = maybeColorChannel(fill);\n  const [vs, cs] = maybeColorChannel(stroke);\n  const sf = maybeScale(scale, vf);\n  const ss = maybeScale(scale, vs);\n  const size = r * r * Math.PI;\n  fillOpacity = maybeNumberChannel(fillOpacity)[1];\n  strokeOpacity = maybeNumberChannel(strokeOpacity)[1];\n  strokeWidth = maybeNumberChannel(strokeWidth)[1];\n  return legendItems(symbol, options, (selection, scale, width, height) =>\n    selection\n      .append(\"svg\")\n      .attr(\"viewBox\", \"-8 -8 16 16\")\n      .attr(\"width\", width)\n      .attr(\"height\", height)\n      .attr(\"fill\", vf === \"color\" ? (d) => sf.scale(d) : cf)\n      .attr(\"fill-opacity\", fillOpacity)\n      .attr(\"stroke\", vs === \"color\" ? (d) => ss.scale(d) : cs)\n      .attr(\"stroke-opacity\", strokeOpacity)\n      .attr(\"stroke-width\", strokeWidth)\n      .append(\"path\")\n      .attr(\"d\", (d) => {\n        const p = path();\n        symbol.scale(d).draw(p, size);\n        return p;\n      })\n  );\n}\n\nfunction legendItems(scale, options = {}, swatch) {\n  let {\n    columns,\n    tickFormat,\n    fontVariant = inferFontVariant(scale),\n    // TODO label,\n    swatchSize = 15,\n    swatchWidth = swatchSize,\n    swatchHeight = swatchSize,\n    marginLeft = 0,\n    className,\n    style,\n    width\n  } = options;\n  const context = createContext(options);\n  className = maybeClassName(className);\n  if (typeof tickFormat !== \"function\") tickFormat = inferTickFormat(scale.scale, scale.domain, undefined, tickFormat);\n\n  const swatches = create(\"div\", context).attr(\n    \"class\",\n    `${className}-swatches ${className}-swatches-${columns != null ? \"columns\" : \"wrap\"}`\n  );\n\n  let extraStyle;\n\n  if (columns != null) {\n    extraStyle = `.${className}-swatches-columns .${className}-swatch {\n  display: flex;\n  align-items: center;\n  break-inside: avoid;\n  padding-bottom: 1px;\n}\n.${className}-swatches-columns .${className}-swatch::before {\n  flex-shrink: 0;\n}\n.${className}-swatches-columns .${className}-swatch-label {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}`;\n\n    swatches\n      .style(\"columns\", columns)\n      .selectAll()\n      .data(scale.domain)\n      .enter()\n      .append(\"div\")\n      .attr(\"class\", `${className}-swatch`)\n      .call(swatch, scale, swatchWidth, swatchHeight)\n      .call((item) =>\n        item.append(\"div\").attr(\"class\", `${className}-swatch-label`).attr(\"title\", tickFormat).text(tickFormat)\n      );\n  } else {\n    extraStyle = `.${className}-swatches-wrap {\n  display: flex;\n  align-items: center;\n  min-height: 33px;\n  flex-wrap: wrap;\n}\n.${className}-swatches-wrap .${className}-swatch {\n  display: inline-flex;\n  align-items: center;\n  margin-right: 1em;\n}`;\n\n    swatches\n      .selectAll()\n      .data(scale.domain)\n      .enter()\n      .append(\"span\")\n      .attr(\"class\", `${className}-swatch`)\n      .call(swatch, scale, swatchWidth, swatchHeight)\n      .append(function () {\n        return this.ownerDocument.createTextNode(tickFormat.apply(this, arguments));\n      });\n  }\n\n  return swatches\n    .call((div) =>\n      div.insert(\"style\", \"*\").text(\n        `.${className}-swatches {\n  font-family: system-ui, sans-serif;\n  font-size: 10px;\n  margin-bottom: 0.5em;\n}\n.${className}-swatch > svg {\n  margin-right: 0.5em;\n  overflow: visible;\n}\n${extraStyle}`\n      )\n    )\n    .style(\"margin-left\", marginLeft ? `${+marginLeft}px` : null)\n    .style(\"width\", width === undefined ? null : `${+width}px`)\n    .style(\"font-variant\", impliedString(fontVariant, \"normal\"))\n    .call(applyInlineStyles, style)\n    .node();\n}\n", "import {rgb} from \"d3\";\nimport {createContext} from \"./context.js\";\nimport {legendRamp} from \"./legends/ramp.js\";\nimport {legendSwatches, legendSymbols} from \"./legends/swatches.js\";\nimport {inherit, isScaleOptions} from \"./options.js\";\nimport {normalizeScale} from \"./scales.js\";\n\nconst legendRegistry = new Map([\n  [\"symbol\", legendSymbols],\n  [\"color\", legendColor],\n  [\"opacity\", legendOpacity]\n]);\n\nexport function legend(options = {}) {\n  for (const [key, value] of legendRegistry) {\n    const scale = options[key];\n    if (isScaleOptions(scale)) {\n      // e.g., ignore {color: \"red\"}\n      const context = createContext(options);\n      let hint;\n      // For symbol legends, pass a hint to the symbol scale.\n      if (key === \"symbol\") {\n        const {fill, stroke = fill === undefined && isScaleOptions(options.color) ? \"color\" : undefined} = options;\n        hint = {fill, stroke};\n      }\n      return value(normalizeScale(key, scale, hint), legendOptions(context, scale, options), (key) =>\n        isScaleOptions(options[key]) ? normalizeScale(key, options[key]) : null\n      );\n    }\n  }\n  throw new Error(\"unknown legend type; no scale found\");\n}\n\nexport function exposeLegends(scales, context, defaults = {}) {\n  return (key, options) => {\n    if (!legendRegistry.has(key)) throw new Error(`unknown legend type: ${key}`);\n    if (!(key in scales)) return;\n    return legendRegistry.get(key)(scales[key], legendOptions(context, defaults[key], options), (key) => scales[key]);\n  };\n}\n\nfunction legendOptions({className, ...context}, {label, ticks, tickFormat} = {}, options) {\n  return inherit(options, {className, ...context}, {label, ticks, tickFormat});\n}\n\nfunction legendColor(color, {legend = true, ...options}) {\n  if (legend === true) legend = color.type === \"ordinal\" ? \"swatches\" : \"ramp\";\n  if (color.domain === undefined) return;\n  switch (`${legend}`.toLowerCase()) {\n    case \"swatches\":\n      return legendSwatches(color, options);\n    case \"ramp\":\n      return legendRamp(color, options);\n    default:\n      throw new Error(`unknown legend type: ${legend}`);\n  }\n}\n\nfunction legendOpacity({type, interpolate, ...scale}, {legend = true, color = rgb(0, 0, 0), ...options}) {\n  if (!interpolate) throw new Error(`${type} opacity scales are not supported`);\n  if (legend === true) legend = \"ramp\";\n  if (`${legend}`.toLowerCase() !== \"ramp\") throw new Error(`${legend} opacity legends are not supported`);\n  return legendColor({type, ...scale, interpolate: interpolateOpacity(color)}, {legend, ...options});\n}\n\nfunction interpolateOpacity(color) {\n  const {r, g, b} = rgb(color) || rgb(0, 0, 0); // treat invalid color as black\n  return (t) => `rgba(${r},${g},${b},${t})`;\n}\n\nexport function createLegends(scales, context, options) {\n  const legends = [];\n  for (const [key, value] of legendRegistry) {\n    const o = options[key];\n    if (o?.legend && key in scales) {\n      const legend = value(scales[key], legendOptions(context, scales[key], o), (key) => scales[key]);\n      if (legend != null) legends.push(legend);\n    }\n  }\n  return legends;\n}\n", "import {create} from \"../context.js\";\nimport {Mark} from \"../mark.js\";\nimport {maybeKeyword, number, singleton} from \"../options.js\";\nimport {applyChannelStyles, applyDirectStyles, applyIndirectStyles, applyTransform} from \"../style.js\";\n\nconst defaults = {\n  ariaLabel: \"frame\",\n  fill: \"none\",\n  stroke: \"currentColor\"\n};\n\nconst lineDefaults = {\n  ariaLabel: \"frame\",\n  fill: null,\n  stroke: \"currentColor\",\n  strokeLinecap: \"square\"\n};\n\nexport class Frame extends Mark {\n  constructor(options = {}) {\n    const {\n      anchor = null,\n      inset = 0,\n      insetTop = inset,\n      insetRight = inset,\n      insetBottom = inset,\n      insetLeft = inset,\n      rx,\n      ry\n    } = options;\n    super(singleton, undefined, options, anchor == null ? defaults : lineDefaults);\n    this.anchor = maybeKeyword(anchor, \"anchor\", [\"top\", \"right\", \"bottom\", \"left\"]);\n    this.insetTop = number(insetTop);\n    this.insetRight = number(insetRight);\n    this.insetBottom = number(insetBottom);\n    this.insetLeft = number(insetLeft);\n    this.rx = number(rx);\n    this.ry = number(ry);\n  }\n  render(index, scales, channels, dimensions, context) {\n    const {marginTop, marginRight, marginBottom, marginLeft, width, height} = dimensions;\n    const {anchor, insetTop, insetRight, insetBottom, insetLeft, rx, ry} = this;\n    const x1 = marginLeft + insetLeft;\n    const x2 = width - marginRight - insetRight;\n    const y1 = marginTop + insetTop;\n    const y2 = height - marginBottom - insetBottom;\n    return create(anchor ? \"svg:line\" : \"svg:rect\", context)\n      .datum(0)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(applyDirectStyles, this)\n      .call(applyChannelStyles, this, channels)\n      .call(applyTransform, this, {})\n      .call(\n        anchor === \"left\"\n          ? (line) => line.attr(\"x1\", x1).attr(\"x2\", x1).attr(\"y1\", y1).attr(\"y2\", y2)\n          : anchor === \"right\"\n          ? (line) => line.attr(\"x1\", x2).attr(\"x2\", x2).attr(\"y1\", y1).attr(\"y2\", y2)\n          : anchor === \"top\"\n          ? (line) => line.attr(\"x1\", x1).attr(\"x2\", x2).attr(\"y1\", y1).attr(\"y2\", y1)\n          : anchor === \"bottom\"\n          ? (line) => line.attr(\"x1\", x1).attr(\"x2\", x2).attr(\"y1\", y2).attr(\"y2\", y2)\n          : (rect) =>\n              rect\n                .attr(\"x\", x1)\n                .attr(\"y\", y1)\n                .attr(\"width\", x2 - x1)\n                .attr(\"height\", y2 - y1)\n                .attr(\"rx\", rx)\n                .attr(\"ry\", ry)\n      )\n      .node();\n  }\n}\n\nexport function frame(options) {\n  return new Frame(options);\n}\n", "import {select} from \"d3\";\nimport {getSource} from \"../channel.js\";\nimport {create} from \"../context.js\";\nimport {defined} from \"../defined.js\";\nimport {formatDefault} from \"../format.js\";\nimport {anchorX, anchorY} from \"../interactions/pointer.js\";\nimport {Mark} from \"../mark.js\";\nimport {maybeAnchor, maybeFrameAnchor, maybeTuple, number, string} from \"../options.js\";\nimport {applyDirectStyles, applyFrameAnchor, applyIndirectStyles, applyTransform, impliedString} from \"../style.js\";\nimport {identity, isIterable, isTextual} from \"../options.js\";\nimport {inferTickFormat} from \"./axis.js\";\nimport {applyIndirectTextStyles, defaultWidth, ellipsis, monospaceWidth} from \"./text.js\";\nimport {cut, clipper, splitter, maybeTextOverflow} from \"./text.js\";\n\nconst defaults = {\n  ariaLabel: \"tip\",\n  fill: \"white\",\n  stroke: \"currentColor\"\n};\n\n// These channels are not displayed in the tip; TODO allow customization.\nconst ignoreChannels = new Set([\"geometry\", \"href\", \"src\", \"ariaLabel\"]);\n\nexport class Tip extends Mark {\n  constructor(data, options = {}) {\n    if (options.tip) options = {...options, tip: false};\n    if (options.title === undefined && isIterable(data) && isTextual(data)) options = {...options, title: identity};\n    const {\n      x,\n      y,\n      x1,\n      x2,\n      y1,\n      y2,\n      anchor,\n      monospace,\n      fontFamily = monospace ? \"ui-monospace, monospace\" : undefined,\n      fontSize,\n      fontStyle,\n      fontVariant,\n      fontWeight,\n      lineHeight = 1,\n      lineWidth = 20,\n      frameAnchor,\n      textAnchor = \"start\",\n      textOverflow,\n      textPadding = 8,\n      title,\n      pointerSize = 12,\n      pathFilter = \"drop-shadow(0 3px 4px rgba(0,0,0,0.2))\"\n    } = options;\n    super(\n      data,\n      {\n        x: {value: x1 != null && x2 != null ? null : x, scale: \"x\", optional: true}, // ignore midpoint\n        y: {value: y1 != null && y2 != null ? null : y, scale: \"y\", optional: true}, // ignore midpoint\n        x1: {value: x1, scale: \"x\", optional: x2 == null},\n        y1: {value: y1, scale: \"y\", optional: y2 == null},\n        x2: {value: x2, scale: \"x\", optional: x1 == null},\n        y2: {value: y2, scale: \"y\", optional: y1 == null},\n        title: {value: title, optional: true} // filter: defined\n      },\n      options,\n      defaults\n    );\n    this.anchor = maybeAnchor(anchor, \"anchor\");\n    this.previousAnchor = this.anchor ?? \"top-left\";\n    this.frameAnchor = maybeFrameAnchor(frameAnchor);\n    this.textAnchor = impliedString(textAnchor, \"middle\");\n    this.textPadding = +textPadding;\n    this.pointerSize = +pointerSize;\n    this.pathFilter = string(pathFilter);\n    this.lineHeight = +lineHeight;\n    this.lineWidth = +lineWidth;\n    this.textOverflow = maybeTextOverflow(textOverflow);\n    this.monospace = !!monospace;\n    this.fontFamily = string(fontFamily);\n    this.fontSize = number(fontSize);\n    this.fontStyle = string(fontStyle);\n    this.fontVariant = string(fontVariant);\n    this.fontWeight = string(fontWeight);\n    for (const key in defaults) if (key in this.channels) this[key] = defaults[key]; // apply default even if channel\n    this.splitLines = splitter(this);\n    this.clipLine = clipper(this);\n  }\n  render(index, scales, values, dimensions, context) {\n    const mark = this;\n    const {x, y, fx, fy} = scales;\n    const {ownerSVGElement: svg, document} = context;\n    const {anchor, monospace, lineHeight, lineWidth} = this;\n    const {textPadding: r, pointerSize: m, pathFilter} = this;\n    const {marginTop, marginLeft} = dimensions;\n    const sources = getSources(values);\n\n    // The anchor position is the middle of x1 & y1 and x2 & y2, if available,\n    // or x & y; the former is considered more specific because it\u2019s how we\n    // disable the implicit stack and interval transforms. If any dimension is\n    // unspecified, we fallback to the frame anchor. We also need to know the\n    // facet offsets to detect when the tip would draw outside the plot, and\n    // thus we need to change the orientation.\n    const {x1: X1, y1: Y1, x2: X2, y2: Y2, x: X = X1 ?? X2, y: Y = Y1 ?? Y2} = values;\n    const ox = fx ? fx(index.fx) - marginLeft : 0;\n    const oy = fy ? fy(index.fy) - marginTop : 0;\n\n    // The order of precedence for the anchor position is: the middle of x1 & y1\n    // and x2 & y2; or x1 & y1 (e.g., area); or lastly x & y. If a dimension is\n    // unspecified, the frame anchor is used.\n    const [cx, cy] = applyFrameAnchor(this, dimensions);\n    const px = anchorX(values, cx);\n    const py = anchorY(values, cy);\n\n    // Resolve the text metric implementation. We may need an ellipsis for text\n    // truncation, so we optimistically compute the ellipsis width.\n    const widthof = monospace ? monospaceWidth : defaultWidth;\n    const ee = widthof(ellipsis);\n\n    // We borrow the scale\u2019s tick format for facet channels; this is safe for\n    // ordinal scales (but not continuous scales where the display value may\n    // need higher precision), and generally better than the default format.\n    const formatFx = fx && inferTickFormat(fx);\n    const formatFy = fy && inferTickFormat(fy);\n\n    function* format(sources, i) {\n      if (\"title\" in sources) {\n        const text = sources.title.value[i];\n        for (const line of mark.splitLines(formatDefault(text))) {\n          yield {name: \"\", value: mark.clipLine(line)};\n        }\n        return;\n      }\n      for (const key in sources) {\n        if (key === \"x1\" && \"x2\" in sources) continue;\n        if (key === \"y1\" && \"y2\" in sources) continue;\n        const channel = sources[key];\n        const value = channel.value[i];\n        if (!defined(value) && channel.scale == null) continue;\n        if (key === \"x2\" && \"x1\" in sources) {\n          yield {name: formatLabel(scales, channel, \"x\"), value: formatPair(sources.x1, channel, i)};\n        } else if (key === \"y2\" && \"y1\" in sources) {\n          yield {name: formatLabel(scales, channel, \"y\"), value: formatPair(sources.y1, channel, i)};\n        } else {\n          const scale = channel.scale;\n          const line = {name: formatLabel(scales, channel, key), value: formatDefault(value)};\n          if (scale === \"color\" || scale === \"opacity\") line[scale] = values[key][i];\n          yield line;\n        }\n      }\n      if (index.fi != null && fx) yield {name: String(fx.label ?? \"fx\"), value: formatFx(index.fx)};\n      if (index.fi != null && fy) yield {name: String(fy.label ?? \"fy\"), value: formatFy(index.fy)};\n    }\n\n    // We don\u2019t call applyChannelStyles because we only use the channels to\n    // derive the content of the tip, not its aesthetics.\n    const g = create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(applyIndirectTextStyles, this)\n      .call(applyTransform, this, {x: X && x, y: Y && y})\n      .call((g) =>\n        g\n          .selectAll()\n          .data(index)\n          .enter()\n          .append(\"g\")\n          .attr(\"transform\", (i) => `translate(${Math.round(px(i))},${Math.round(py(i))})`) // crisp edges\n          .call(applyDirectStyles, this)\n          .call((g) => g.append(\"path\").attr(\"filter\", pathFilter))\n          .call((g) =>\n            g.append(\"text\").each(function (i) {\n              const that = select(this);\n              // prevent style inheritance (from path)\n              this.setAttribute(\"fill\", \"currentColor\");\n              this.setAttribute(\"fill-opacity\", 1);\n              this.setAttribute(\"stroke\", \"none\");\n              // iteratively render each channel value\n              const names = new Set();\n              for (const line of format(sources, i)) {\n                const name = line.name;\n                if (name && names.has(name)) continue;\n                else names.add(name);\n                renderLine(that, line);\n              }\n            })\n          )\n      );\n\n    // Renders a single line (a name-value pair) to the tip, truncating the text\n    // as needed, and adding a title if the text is truncated. Note that this is\n    // just the initial layout of the text; in postrender we will compute the\n    // exact text metrics and translate the text as needed once we know the\n    // tip\u2019s orientation (anchor).\n    function renderLine(selection, {name, value, color, opacity}) {\n      const swatch = color != null || opacity != null;\n      let title;\n      let w = lineWidth * 100;\n      const [j] = cut(name, w, widthof, ee);\n      if (j >= 0) {\n        // name is truncated\n        name = name.slice(0, j).trimEnd() + ellipsis;\n        title = value.trim();\n        value = \"\";\n      } else {\n        if (name || (!value && !swatch)) value = \" \" + value;\n        const [k] = cut(value, w - widthof(name), widthof, ee);\n        if (k >= 0) {\n          // value is truncated\n          value = value.slice(0, k).trimEnd() + ellipsis;\n          title = value.trim();\n        }\n      }\n      const line = selection.append(\"tspan\").attr(\"x\", 0).attr(\"dy\", `${lineHeight}em`).text(\"\\u200b\"); // zwsp for double-click\n      if (name) line.append(\"tspan\").attr(\"font-weight\", \"bold\").text(name);\n      if (value) line.append(() => document.createTextNode(value));\n      if (swatch) line.append(\"tspan\").text(\" \u25A0\").attr(\"fill\", color).attr(\"fill-opacity\", opacity).style(\"user-select\", \"none\"); // prettier-ignore\n      if (title) line.append(\"title\").text(title);\n    }\n\n    // Only after the plot is attached to the page can we compute the exact text\n    // metrics needed to determine the tip size and orientation (anchor).\n    function postrender() {\n      const {width, height} = dimensions.facet ?? dimensions;\n      g.selectChildren().each(function (i) {\n        let {x: tx, width: w, height: h} = this.getBBox();\n        (w = Math.round(w)), (h = Math.round(h)); // crisp edges\n        let a = anchor; // use the specified anchor, if any\n        if (a === undefined) {\n          a = mark.previousAnchor; // favor the previous anchor, if it fits\n          const x = px(i) + ox;\n          const y = py(i) + oy;\n          const fitLeft = x + w + r * 2 < width;\n          const fitRight = x - w - r * 2 > 0;\n          const fitTop = y + h + m + r * 2 + 7 < height;\n          const fitBottom = y - h - m - r * 2 > 0;\n          const ax = (/-left$/.test(a) ? fitLeft || !fitRight : fitLeft && !fitRight) ? \"left\" : \"right\";\n          const ay = (/^top-/.test(a) ? fitTop || !fitBottom : fitTop && !fitBottom) ? \"top\" : \"bottom\";\n          a = mark.previousAnchor = `${ay}-${ax}`;\n        }\n        const path = this.firstChild; // note: assumes exactly two children!\n        const text = this.lastChild; // note: assumes exactly two children!\n        path.setAttribute(\"d\", getPath(a, m, r, w, h));\n        if (tx) for (const t of text.childNodes) t.setAttribute(\"x\", -tx);\n        text.setAttribute(\"y\", `${+getLineOffset(a, text.childNodes.length, lineHeight).toFixed(6)}em`);\n        text.setAttribute(\"transform\", `translate(${getTextTranslate(a, m, r, w, h)})`);\n      });\n    }\n\n    // Wait until the plot is inserted into the page so that we can use getBBox\n    // to compute the exact text dimensions. If the SVG is already connected, as\n    // when the pointer interaction triggers the re-render, use a faster\n    // microtask instead of an animation frame; if this SSR (e.g., JSDOM), skip\n    // this step. Perhaps this could be done synchronously; getting the\n    // dimensions of the SVG is easy, and although accurate text metrics are\n    // hard, we could use approximate heuristics.\n    if (svg.isConnected) Promise.resolve().then(postrender);\n    else if (typeof requestAnimationFrame !== \"undefined\") requestAnimationFrame(postrender);\n\n    return g.node();\n  }\n}\n\nexport function tip(data, {x, y, ...options} = {}) {\n  if (options.frameAnchor === undefined) [x, y] = maybeTuple(x, y);\n  return new Tip(data, {...options, x, y});\n}\n\nfunction getLineOffset(anchor, length, lineHeight) {\n  return /^top(?:-|$)/.test(anchor)\n    ? 0.94 - lineHeight\n    : /^bottom(?:-|$)/\n    ? -0.29 - length * lineHeight\n    : (length / 2) * lineHeight;\n}\n\nfunction getTextTranslate(anchor, m, r, width, height) {\n  switch (anchor) {\n    case \"middle\":\n      return [-width / 2, height / 2];\n    case \"top-left\":\n      return [r, m + r];\n    case \"top\":\n      return [-width / 2, m / 2 + r];\n    case \"top-right\":\n      return [-width - r, m + r];\n    case \"right\":\n      return [-m / 2 - width - r, height / 2];\n    case \"bottom-left\":\n      return [r, -m - r];\n    case \"bottom\":\n      return [-width / 2, -m / 2 - r];\n    case \"bottom-right\":\n      return [-width - r, -m - r];\n    case \"left\":\n      return [r + m / 2, height / 2];\n  }\n}\n\nfunction getPath(anchor, m, r, width, height) {\n  const w = width + r * 2;\n  const h = height + r * 2;\n  switch (anchor) {\n    case \"middle\":\n      return `M${-w / 2},${-h / 2}h${w}v${h}h${-w}z`;\n    case \"top-left\":\n      return `M0,0l${m},${m}h${w - m}v${h}h${-w}z`;\n    case \"top\":\n      return `M0,0l${m / 2},${m / 2}h${(w - m) / 2}v${h}h${-w}v${-h}h${(w - m) / 2}z`;\n    case \"top-right\":\n      return `M0,0l${-m},${m}h${m - w}v${h}h${w}z`;\n    case \"right\":\n      return `M0,0l${-m / 2},${-m / 2}v${m / 2 - h / 2}h${-w}v${h}h${w}v${m / 2 - h / 2}z`;\n    case \"bottom-left\":\n      return `M0,0l${m},${-m}h${w - m}v${-h}h${-w}z`;\n    case \"bottom\":\n      return `M0,0l${m / 2},${-m / 2}h${(w - m) / 2}v${-h}h${-w}v${h}h${(w - m) / 2}z`;\n    case \"bottom-right\":\n      return `M0,0l${-m},${-m}h${m - w}v${-h}h${w}z`;\n    case \"left\":\n      return `M0,0l${m / 2},${-m / 2}v${m / 2 - h / 2}h${w}v${h}h${-w}v${m / 2 - h / 2}z`;\n  }\n}\n\nfunction getSources({channels}) {\n  const sources = {};\n  for (const key in channels) {\n    if (ignoreChannels.has(key)) continue;\n    const source = getSource(channels, key);\n    if (source) sources[key] = source;\n  }\n  return sources;\n}\n\nfunction formatPair(c1, c2, i) {\n  return c2.hint?.length // e.g., stackY\u2019s y1 and y2\n    ? `${formatDefault(c2.value[i] - c1.value[i])}`\n    : `${formatDefault(c1.value[i])}\u2013${formatDefault(c2.value[i])}`;\n}\n\nfunction formatLabel(scales, c, defaultLabel) {\n  return String(scales[c.scale]?.label ?? c?.label ?? defaultLabel);\n}\n", "import {creator, select} from \"d3\";\nimport {createChannel, inferChannelScale} from \"./channel.js\";\nimport {createContext} from \"./context.js\";\nimport {createDimensions} from \"./dimensions.js\";\nimport {createFacets, recreateFacets, facetExclude, facetGroups, facetTranslator, facetFilter} from \"./facet.js\";\nimport {pointer, pointerX, pointerY} from \"./interactions/pointer.js\";\nimport {createLegends, exposeLegends} from \"./legends.js\";\nimport {Mark} from \"./mark.js\";\nimport {axisFx, axisFy, axisX, axisY, gridFx, gridFy, gridX, gridY} from \"./marks/axis.js\";\nimport {frame} from \"./marks/frame.js\";\nimport {tip} from \"./marks/tip.js\";\nimport {isColor, isIterable, isNone, isScaleOptions} from \"./options.js\";\nimport {arrayify, map, yes, maybeIntervalTransform, subarray} from \"./options.js\";\nimport {createProjection, getGeometryChannels, hasProjection} from \"./projection.js\";\nimport {createScales, createScaleFunctions, autoScaleRange, exposeScales} from \"./scales.js\";\nimport {innerDimensions, outerDimensions} from \"./scales.js\";\nimport {position, registry as scaleRegistry} from \"./scales/index.js\";\nimport {applyInlineStyles, maybeClassName} from \"./style.js\";\nimport {initializer} from \"./transforms/basic.js\";\nimport {consumeWarnings, warn} from \"./warnings.js\";\n\nexport function plot(options = {}) {\n  const {facet, style, caption, ariaLabel, ariaDescription} = options;\n\n  // className for inline styles\n  const className = maybeClassName(options.className);\n\n  // Flatten any nested marks.\n  const marks = options.marks === undefined ? [] : flatMarks(options.marks);\n\n  // Add implicit tips.\n  marks.push(...inferTips(marks));\n\n  // Compute the top-level facet state. This has roughly the same structure as\n  // mark-specific facet state, except there isn\u2019t a facetsIndex, and there\u2019s a\n  // data and dataLength so we can warn the user if a different data of the same\n  // length is used in a mark.\n  const topFacetState = maybeTopFacet(facet, options);\n\n  // Construct a map from (faceted) Mark instance to facet state, including:\n  // channels - an {fx?, fy?} object to add to the fx and fy scale\n  // groups - a possibly-nested map from facet values to indexes in the data array\n  // facetsIndex - a sparse nested array of indices corresponding to the valid facets\n  const facetStateByMark = new Map();\n  for (const mark of marks) {\n    const facetState = maybeMarkFacet(mark, topFacetState, options);\n    if (facetState) facetStateByMark.set(mark, facetState);\n  }\n\n  // Compute a Map from scale name to an array of associated channels.\n  const channelsByScale = new Map();\n  if (topFacetState) addScaleChannels(channelsByScale, [topFacetState], options);\n  addScaleChannels(channelsByScale, facetStateByMark, options);\n\n  // Add implicit axis marks. Because this happens after faceting (because it\n  // depends on whether faceting is present), we must initialize the facet state\n  // of any implicit axes, too.\n  const axes = flatMarks(inferAxes(marks, channelsByScale, options));\n  for (const mark of axes) {\n    const facetState = maybeMarkFacet(mark, topFacetState, options);\n    if (facetState) facetStateByMark.set(mark, facetState);\n  }\n  marks.unshift(...axes);\n\n  // All the possible facets are given by the domains of the fx or fy scales, or\n  // the cross-product of these domains if we facet by both x and y. We sort\n  // them in order to apply the facet filters afterwards.\n  let facets = createFacets(channelsByScale, options);\n\n  if (facets !== undefined) {\n    const topFacetsIndex = topFacetState ? facetFilter(facets, topFacetState) : undefined;\n\n    // Compute a facet index for each mark, parallel to the facets array. For\n    // mark-level facets, compute an index for that mark\u2019s data and options.\n    // Otherwise, use the top-level facet index.\n    for (const mark of marks) {\n      if (mark.facet === null || mark.facet === \"super\") continue;\n      const facetState = facetStateByMark.get(mark);\n      if (facetState === undefined) continue;\n      facetState.facetsIndex = mark.fx != null || mark.fy != null ? facetFilter(facets, facetState) : topFacetsIndex;\n    }\n\n    // The cross product of the domains of fx and fy can include fx-fy\n    // combinations for which no mark has an instance associated with that\n    // combination, and therefore we don\u2019t want to render this facet (not even\n    // the frame). The same can occur if you specify the domain of fx and fy\n    // explicitly, but there is no mark instance associated with some values in\n    // the domain. Expunge empty facets, and clear the corresponding elements\n    // from the nested index in each mark.\n    const nonEmpty = new Set();\n    for (const {facetsIndex} of facetStateByMark.values()) {\n      facetsIndex?.forEach((index, i) => {\n        if (index?.length > 0) {\n          nonEmpty.add(i);\n        }\n      });\n    }\n\n    // If all the facets are empty (as when none of the marks are actually\n    // faceted), none of them are empty.\n    facets.forEach(\n      0 < nonEmpty.size && nonEmpty.size < facets.length\n        ? (f, i) => (f.empty = !nonEmpty.has(i))\n        : (f) => (f.empty = false)\n    );\n\n    // For any mark using the \u201Cexclude\u201D facet mode, invert the index.\n    for (const mark of marks) {\n      if (mark.facet === \"exclude\") {\n        const facetState = facetStateByMark.get(mark);\n        if (facetState !== undefined) facetState.facetsIndex = facetExclude(facetState.facetsIndex);\n      }\n    }\n  }\n\n  // If a scale is explicitly declared in options, initialize its associated\n  // channels to the empty array; this will guarantee that a corresponding scale\n  // will be created later (even if there are no other channels). Ignore facet\n  // scale declarations, which are handled above.\n  for (const key of scaleRegistry.keys()) {\n    if (isScaleOptions(options[key]) && key !== \"fx\" && key !== \"fy\") {\n      channelsByScale.set(key, []);\n    }\n  }\n\n  // A Map from Mark instance to its render state, including:\n  // index - the data index e.g. [0, 1, 2, 3, \u2026]\n  // channels - an array of materialized channels e.g. [[\"x\", {value}], \u2026]\n  // faceted - a boolean indicating whether this mark is faceted\n  // values - an object of scaled values e.g. {x: [40, 32, \u2026], \u2026}\n  const stateByMark = new Map();\n\n  // Initialize the marks\u2019 state.\n  for (const mark of marks) {\n    if (stateByMark.has(mark)) throw new Error(\"duplicate mark; each mark must be unique\");\n    const {facetsIndex, channels: facetChannels} = facetStateByMark.get(mark) ?? {};\n    const {data, facets, channels} = mark.initialize(facetsIndex, facetChannels, options);\n    applyScaleTransforms(channels, options);\n    stateByMark.set(mark, {data, facets, channels});\n  }\n\n  // Initalize the scales and dimensions.\n  const scaleDescriptors = createScales(addScaleChannels(channelsByScale, stateByMark, options), options);\n  const scales = createScaleFunctions(scaleDescriptors);\n  const dimensions = createDimensions(scaleDescriptors, marks, options);\n\n  autoScaleRange(scaleDescriptors, dimensions);\n\n  const {fx, fy} = scales;\n  const subdimensions = fx || fy ? innerDimensions(scaleDescriptors, dimensions) : dimensions;\n  const superdimensions = fx || fy ? actualDimensions(scales, dimensions) : dimensions;\n\n  // Initialize the context.\n  const context = createContext(options);\n  const document = context.document;\n  const svg = creator(\"svg\").call(document.documentElement);\n  let figure = svg; // replaced with the figure element, if any\n  context.ownerSVGElement = svg;\n  context.className = className;\n  context.projection = createProjection(options, subdimensions);\n\n  // Allows e.g. the axis mark to determine faceting lazily.\n  context.filterFacets = (data, channels) => {\n    return facetFilter(facets, {channels, groups: facetGroups(data, channels)});\n  };\n\n  // Allows e.g. the tip mark to reference channels and data on other marks.\n  context.getMarkState = (mark) => {\n    const state = stateByMark.get(mark);\n    const facetState = facetStateByMark.get(mark);\n    return {...state, channels: {...state.channels, ...facetState?.channels}};\n  };\n\n  // Allows e.g. the pointer transform to support viewof.\n  context.dispatchValue = (value) => {\n    if (figure.value === value) return;\n    figure.value = value;\n    figure.dispatchEvent(new Event(\"input\", {bubbles: true}));\n  };\n\n  // Reinitialize; for deriving channels dependent on other channels.\n  const newByScale = new Set();\n  for (const [mark, state] of stateByMark) {\n    if (mark.initializer != null) {\n      const dimensions = mark.facet === \"super\" ? superdimensions : subdimensions;\n      const update = mark.initializer(state.data, state.facets, state.channels, scales, dimensions, context);\n      if (update.data !== undefined) {\n        state.data = update.data;\n      }\n      if (update.facets !== undefined) {\n        state.facets = update.facets;\n      }\n      if (update.channels !== undefined) {\n        const {fx, fy, ...channels} = update.channels; // separate facet channels\n        inferChannelScales(channels);\n        Object.assign(state.channels, channels);\n        for (const channel of Object.values(channels)) {\n          const {scale} = channel;\n          // Initializers aren\u2019t allowed to redefine position scales as this\n          // would introduce a circular dependency; so simply scale these\n          // channels as-is rather than creating new scales, and assume that\n          // they already have the scale\u2019s transform applied, if any (e.g., when\n          // generating ticks for the axis mark).\n          if (scale != null && scaleRegistry.get(scale) !== position) {\n            applyScaleTransform(channel, options);\n            newByScale.add(scale);\n          }\n        }\n        // If the initializer returns new mark-level facet channels, we must\n        // record that the mark is now faceted. Note: we aren\u2019t actually\n        // populating the facet state, but subsequently we won\u2019t need it.\n        if (fx != null || fy != null) facetStateByMark.set(mark, true);\n      }\n    }\n  }\n\n  // Reconstruct scales if new scaled channels were created during\n  // reinitialization. Preserve existing scale labels, if any.\n  if (newByScale.size) {\n    const newChannelsByScale = new Map();\n    addScaleChannels(newChannelsByScale, stateByMark, options, (key) => newByScale.has(key));\n    addScaleChannels(channelsByScale, stateByMark, options, (key) => newByScale.has(key));\n    const newScaleDescriptors = inheritScaleLabels(createScales(newChannelsByScale, options), scaleDescriptors);\n    const newScales = createScaleFunctions(newScaleDescriptors);\n    Object.assign(scaleDescriptors, newScaleDescriptors);\n    Object.assign(scales, newScales);\n  }\n\n  // Sort and filter the facets to match the fx and fy domains; this is needed\n  // because the facets were constructed prior to the fx and fy scales.\n  let facetDomains, facetTranslate;\n  if (facets !== undefined) {\n    facetDomains = {x: fx?.domain(), y: fy?.domain()};\n    facets = recreateFacets(facets, facetDomains);\n    facetTranslate = facetTranslator(fx, fy, dimensions);\n  }\n\n  // Compute value objects, applying scales and projection as needed.\n  for (const [mark, state] of stateByMark) {\n    state.values = mark.scale(state.channels, scales, context);\n  }\n\n  const {width, height} = dimensions;\n\n  select(svg)\n    .attr(\"class\", className)\n    .attr(\"fill\", \"currentColor\")\n    .attr(\"font-family\", \"system-ui, sans-serif\")\n    .attr(\"font-size\", 10)\n    .attr(\"text-anchor\", \"middle\")\n    .attr(\"width\", width)\n    .attr(\"height\", height)\n    .attr(\"viewBox\", `0 0 ${width} ${height}`)\n    .attr(\"aria-label\", ariaLabel)\n    .attr(\"aria-description\", ariaDescription)\n    .call((svg) =>\n      // Warning: if you edit this, change defaultClassName.\n      svg.append(\"style\").text(\n        `.${className} {\n  display: block;\n  background: white;\n  height: auto;\n  height: intrinsic;\n  max-width: 100%;\n}\n.${className} text,\n.${className} tspan {\n  white-space: pre;\n}`\n      )\n    )\n    .call(applyInlineStyles, style);\n\n  // Render marks.\n  for (const mark of marks) {\n    const {channels, values, facets: indexes} = stateByMark.get(mark);\n\n    // Render a non-faceted mark.\n    if (facets === undefined || mark.facet === \"super\") {\n      let index = null;\n      if (indexes) {\n        index = indexes[0];\n        index = mark.filter(index, channels, values);\n        if (index.length === 0) continue;\n      }\n      const node = mark.render(index, scales, values, superdimensions, context);\n      if (node == null) continue;\n      svg.appendChild(node);\n    }\n\n    // Render a faceted mark.\n    else {\n      let g;\n      for (const f of facets) {\n        if (!(mark.facetAnchor?.(facets, facetDomains, f) ?? !f.empty)) continue;\n        let index = null;\n        if (indexes) {\n          const faceted = facetStateByMark.has(mark);\n          index = indexes[faceted ? f.i : 0];\n          index = mark.filter(index, channels, values);\n          if (index.length === 0) continue;\n          if (!faceted && index === indexes[0]) index = subarray(index); // copy before assigning fx, fy, fi\n          (index.fx = f.x), (index.fy = f.y), (index.fi = f.i);\n        }\n        const node = mark.render(index, scales, values, subdimensions, context);\n        if (node == null) continue;\n        // Lazily construct the shared group (to drop empty marks).\n        (g ??= select(svg).append(\"g\")).append(() => node).datum(f);\n        // Promote ARIA attributes and mark transform to avoid repetition on\n        // each facet; this assumes that these attributes are consistent across\n        // facets, but that should be the case!\n        for (const name of [\"aria-label\", \"aria-description\", \"aria-hidden\", \"transform\"]) {\n          if (node.hasAttribute(name)) {\n            g.attr(name, node.getAttribute(name));\n            node.removeAttribute(name);\n          }\n        }\n      }\n      g?.selectChildren().attr(\"transform\", facetTranslate);\n    }\n  }\n\n  // Wrap the plot in a figure with a caption, if desired.\n  const legends = createLegends(scaleDescriptors, context, options);\n  if (caption != null || legends.length > 0) {\n    figure = document.createElement(\"figure\");\n    figure.style.maxWidth = \"initial\";\n    for (const legend of legends) figure.appendChild(legend);\n    figure.appendChild(svg);\n    if (caption != null) {\n      const figcaption = document.createElement(\"figcaption\");\n      figcaption.appendChild(caption?.ownerDocument ? caption : document.createTextNode(caption));\n      figure.appendChild(figcaption);\n    }\n  }\n\n  figure.scale = exposeScales(scaleDescriptors);\n  figure.legend = exposeLegends(scaleDescriptors, context, options);\n\n  const w = consumeWarnings();\n  if (w > 0) {\n    select(svg)\n      .append(\"text\")\n      .attr(\"x\", width)\n      .attr(\"y\", 20)\n      .attr(\"dy\", \"-1em\")\n      .attr(\"text-anchor\", \"end\")\n      .attr(\"font-family\", \"initial\") // fix emoji rendering in Chrome\n      .text(\"\\u26a0\\ufe0f\") // emoji variation selector\n      .append(\"title\")\n      .text(`${w.toLocaleString(\"en-US\")} warning${w === 1 ? \"\" : \"s\"}. Please check the console.`);\n  }\n\n  return figure;\n}\n\nfunction plotThis({marks = [], ...options} = {}) {\n  return plot({...options, marks: [...marks, this]});\n}\n\n// Note: This side-effect avoids a circular dependency.\nMark.prototype.plot = plotThis;\n\nfunction flatMarks(marks) {\n  return marks\n    .flat(Infinity)\n    .filter((mark) => mark != null)\n    .map(markify);\n}\n\nfunction markify(mark) {\n  return typeof mark.render === \"function\" ? mark : new Render(mark);\n}\n\nclass Render extends Mark {\n  constructor(render) {\n    if (typeof render !== \"function\") throw new TypeError(\"invalid mark; missing render function\");\n    super();\n    this.render = render;\n  }\n  render() {}\n}\n\n// Note: mutates channel.value to apply the scale transform, if any.\nfunction applyScaleTransforms(channels, options) {\n  for (const name in channels) applyScaleTransform(channels[name], options);\n  return channels;\n}\n\n// Note: mutates channel.value to apply the scale transform, if any. Also sets\n// channel.transform to false to prevent duplicate transform application.\nfunction applyScaleTransform(channel, options) {\n  const {scale, transform: t = true} = channel;\n  if (scale == null || !t) return;\n  const {\n    type,\n    percent,\n    interval,\n    transform = percent ? (x) => x * 100 : maybeIntervalTransform(interval, type)\n  } = options[scale] ?? {};\n  if (transform == null) return;\n  channel.value = map(channel.value, transform);\n  channel.transform = false;\n}\n\n// An initializer may generate channels without knowing how the downstream mark\n// will use them. Marks are typically responsible associated scales with\n// channels, but here we assume common behavior across marks.\nfunction inferChannelScales(channels) {\n  for (const name in channels) {\n    inferChannelScale(name, channels[name]);\n  }\n}\n\nfunction addScaleChannels(channelsByScale, stateByMark, options, filter = yes) {\n  for (const {channels} of stateByMark.values()) {\n    for (const name in channels) {\n      const channel = channels[name];\n      const {scale} = channel;\n      if (scale != null && filter(scale)) {\n        // Geo marks affect the default x and y domains if there is no\n        // projection. Skip this (as an optimization) when a projection is\n        // specified, or when the domains for x and y are specified.\n        if (scale === \"projection\") {\n          if (!hasProjection(options)) {\n            const gx = options.x?.domain === undefined;\n            const gy = options.y?.domain === undefined;\n            if (gx || gy) {\n              const [x, y] = getGeometryChannels(channel);\n              if (gx) addScaleChannel(channelsByScale, \"x\", x);\n              if (gy) addScaleChannel(channelsByScale, \"y\", y);\n            }\n          }\n        } else {\n          addScaleChannel(channelsByScale, scale, channel);\n        }\n      }\n    }\n  }\n  return channelsByScale;\n}\n\nfunction addScaleChannel(channelsByScale, scale, channel) {\n  const scaleChannels = channelsByScale.get(scale);\n  if (scaleChannels !== undefined) scaleChannels.push(channel);\n  else channelsByScale.set(scale, [channel]);\n}\n\n// Returns the facet groups, and possibly fx and fy channels, associated with\n// the top-level facet option {data, x, y}.\nfunction maybeTopFacet(facet, options) {\n  if (facet == null) return;\n  const {x, y} = facet;\n  if (x == null && y == null) return;\n  const data = arrayify(facet.data);\n  if (data == null) throw new Error(\"missing facet data\");\n  const channels = {};\n  if (x != null) channels.fx = createChannel(data, {value: x, scale: \"fx\"});\n  if (y != null) channels.fy = createChannel(data, {value: y, scale: \"fy\"});\n  applyScaleTransforms(channels, options);\n  const groups = facetGroups(data, channels);\n  return {channels, groups, data: facet.data};\n}\n\n// Returns the facet groups, and possibly fx and fy channels, associated with a\n// mark, either through top-level faceting or mark-level facet options {fx, fy}.\nfunction maybeMarkFacet(mark, topFacetState, options) {\n  if (mark.facet === null || mark.facet === \"super\") return;\n\n  // This mark defines a mark-level facet. TODO There\u2019s some code duplication\n  // here with maybeTopFacet that we could reduce.\n  const {fx, fy} = mark;\n  if (fx != null || fy != null) {\n    const data = arrayify(mark.data ?? fx ?? fy);\n    if (data === undefined) throw new Error(`missing facet data in ${mark.ariaLabel}`);\n    if (data === null) return; // ignore channel definitions if no data is provided TODO this right?\n    const channels = {};\n    if (fx != null) channels.fx = createChannel(data, {value: fx, scale: \"fx\"});\n    if (fy != null) channels.fy = createChannel(data, {value: fy, scale: \"fy\"});\n    applyScaleTransforms(channels, options);\n    return {channels, groups: facetGroups(data, channels)};\n  }\n\n  // This mark links to a top-level facet, if present.\n  if (topFacetState === undefined) return;\n\n  // TODO Can we link the top-level facet channels here?\n  const {channels, groups, data} = topFacetState;\n  if (mark.facet !== \"auto\" || mark.data === data) return {channels, groups};\n\n  // Warn for the common pitfall of wanting to facet mapped data with the\n  // top-level facet option.\n  if (\n    data.length > 0 &&\n    (groups.size > 1 || (groups.size === 1 && channels.fx && channels.fy && [...groups][0][1].size > 1)) &&\n    arrayify(mark.data)?.length === data.length\n  ) {\n    warn(\n      `Warning: the ${mark.ariaLabel} mark appears to use faceted data, but isn\u2019t faceted. The mark data has the same length as the facet data and the mark facet option is \"auto\", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`\n    );\n  }\n}\n\nfunction derive(mark, options = {}) {\n  return initializer({...options, x: null, y: null}, (data, facets, channels, scales, dimensions, context) => {\n    return context.getMarkState(mark);\n  });\n}\n\nfunction inferTips(marks) {\n  const tips = [];\n  for (const mark of marks) {\n    const t = mark.tip;\n    if (t) {\n      const p = t === \"x\" ? pointerX : t === \"y\" ? pointerY : pointer;\n      const options = p(derive(mark)); // TODO tip options?\n      options.title = null; // prevent implicit title for primitive data\n      tips.push(tip(mark.data, options));\n    }\n  }\n  return tips;\n}\n\nfunction inferAxes(marks, channelsByScale, options) {\n  let {\n    projection,\n    x = {},\n    y = {},\n    fx = {},\n    fy = {},\n    axis,\n    grid,\n    facet = {},\n    facet: {axis: facetAxis = axis, grid: facetGrid} = facet,\n    x: {axis: xAxis = axis, grid: xGrid = xAxis === null ? null : grid} = x,\n    y: {axis: yAxis = axis, grid: yGrid = yAxis === null ? null : grid} = y,\n    fx: {axis: fxAxis = facetAxis, grid: fxGrid = fxAxis === null ? null : facetGrid} = fx,\n    fy: {axis: fyAxis = facetAxis, grid: fyGrid = fyAxis === null ? null : facetGrid} = fy\n  } = options;\n\n  // Disable axes if the corresponding scale is not present.\n  if (projection || (!isScaleOptions(x) && !hasPositionChannel(\"x\", marks))) xAxis = xGrid = null;\n  if (projection || (!isScaleOptions(y) && !hasPositionChannel(\"y\", marks))) yAxis = yGrid = null;\n  if (!channelsByScale.has(\"fx\")) fxAxis = fxGrid = null;\n  if (!channelsByScale.has(\"fy\")) fyAxis = fyGrid = null;\n\n  // Resolve the default implicit axes by checking for explicit ones.\n  if (xAxis === undefined) xAxis = !hasAxis(marks, \"x\");\n  if (yAxis === undefined) yAxis = !hasAxis(marks, \"y\");\n  if (fxAxis === undefined) fxAxis = !hasAxis(marks, \"fx\");\n  if (fyAxis === undefined) fyAxis = !hasAxis(marks, \"fy\");\n\n  // Resolve the default orientation of axes.\n  if (xAxis === true) xAxis = \"bottom\";\n  if (yAxis === true) yAxis = \"left\";\n  if (fxAxis === true) fxAxis = xAxis === \"top\" || xAxis === null ? \"bottom\" : \"top\";\n  if (fyAxis === true) fyAxis = yAxis === \"right\" || yAxis === null ? \"left\" : \"right\";\n\n  const axes = [];\n  maybeGrid(axes, fyGrid, gridFy, fy);\n  maybeAxis(axes, fyAxis, axisFy, \"right\", \"left\", facet, fy);\n  maybeGrid(axes, fxGrid, gridFx, fx);\n  maybeAxis(axes, fxAxis, axisFx, \"top\", \"bottom\", facet, fx);\n  maybeGrid(axes, yGrid, gridY, y);\n  maybeAxis(axes, yAxis, axisY, \"left\", \"right\", options, y);\n  maybeGrid(axes, xGrid, gridX, x);\n  maybeAxis(axes, xAxis, axisX, \"bottom\", \"top\", options, x);\n  return axes;\n}\n\nfunction maybeAxis(axes, axis, axisType, primary, secondary, defaults, options) {\n  if (!axis) return;\n  const both = isBoth(axis);\n  options = axisOptions(both ? primary : axis, defaults, options);\n  const {line} = options;\n  if ((axisType === axisY || axisType === axisX) && line && !isNone(line)) axes.push(frame(lineOptions(options)));\n  axes.push(axisType(options));\n  if (both) axes.push(axisType({...options, anchor: secondary, label: null}));\n}\n\nfunction maybeGrid(axes, grid, gridType, options) {\n  if (!grid || isNone(grid)) return;\n  axes.push(gridType(gridOptions(grid, options)));\n}\n\nfunction isBoth(value) {\n  return /^\\s*both\\s*$/i.test(value);\n}\n\nfunction axisOptions(\n  anchor,\n  defaults,\n  {\n    line = defaults.line,\n    ticks,\n    tickSize,\n    tickSpacing,\n    tickPadding,\n    tickFormat,\n    tickRotate,\n    fontVariant,\n    ariaLabel,\n    ariaDescription,\n    label = defaults.label,\n    labelAnchor,\n    labelArrow = defaults.labelArrow,\n    labelOffset\n  }\n) {\n  return {\n    anchor,\n    line,\n    ticks,\n    tickSize,\n    tickSpacing,\n    tickPadding,\n    tickFormat,\n    tickRotate,\n    fontVariant,\n    ariaLabel,\n    ariaDescription,\n    label,\n    labelAnchor,\n    labelArrow,\n    labelOffset\n  };\n}\n\nfunction lineOptions(options) {\n  const {anchor, line} = options;\n  return {anchor, facetAnchor: anchor + \"-empty\", stroke: line === true ? undefined : line};\n}\n\nfunction gridOptions(\n  grid,\n  {\n    stroke = isColor(grid) ? grid : undefined,\n    ticks = isGridTicks(grid) ? grid : undefined,\n    tickSpacing,\n    ariaLabel,\n    ariaDescription\n  }\n) {\n  return {\n    stroke,\n    ticks,\n    tickSpacing,\n    ariaLabel,\n    ariaDescription\n  };\n}\n\nfunction isGridTicks(grid) {\n  switch (typeof grid) {\n    case \"number\":\n      return true;\n    case \"string\":\n      return !isColor(grid);\n  }\n  return isIterable(grid) || typeof grid?.range === \"function\";\n}\n\n// Is there an explicit axis already present? TODO We probably want a more\n// explicit test than looking for the ARIA label, but it does afford some\n// flexibility in axis implementation which is nice.\nfunction hasAxis(marks, k) {\n  const prefix = `${k}-axis `;\n  return marks.some((m) => m.ariaLabel?.startsWith(prefix));\n}\n\nfunction hasPositionChannel(k, marks) {\n  for (const mark of marks) {\n    for (const key in mark.channels) {\n      const {scale} = mark.channels[key];\n      if (scale === k || scale === \"projection\") {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\nfunction inheritScaleLabels(newScales, scales) {\n  for (const key in newScales) {\n    const newScale = newScales[key];\n    const scale = scales[key];\n    if (newScale.label === undefined && scale) {\n      newScale.label = scale.label;\n    }\n  }\n  return newScales;\n}\n\n// This differs from the other outerDimensions in that it accounts for rounding\n// and outer padding in the fact scales; we want the frame to align exactly with\n// the actual range, not the desired range.\nfunction actualDimensions({fx, fy}, dimensions) {\n  const {marginTop, marginRight, marginBottom, marginLeft, width, height} = outerDimensions(dimensions);\n  const fxr = fx && outerRange(fx);\n  const fyr = fy && outerRange(fy);\n  return {\n    marginTop: fy ? fyr[0] : marginTop,\n    marginRight: fx ? width - fxr[1] : marginRight,\n    marginBottom: fy ? height - fyr[1] : marginBottom,\n    marginLeft: fx ? fxr[0] : marginLeft,\n    // Some marks, namely the x- and y-axis labels, want to know what the\n    // desired (rather than actual) margins are for positioning.\n    inset: {\n      marginTop: dimensions.marginTop,\n      marginRight: dimensions.marginRight,\n      marginBottom: dimensions.marginBottom,\n      marginLeft: dimensions.marginLeft\n    },\n    width,\n    height\n  };\n}\n\nfunction outerRange(scale) {\n  const domain = scale.domain();\n  let x1 = scale(domain[0]);\n  let x2 = scale(domain[domain.length - 1]);\n  if (x2 < x1) [x1, x2] = [x2, x1];\n  return [x1, x2 + scale.bandwidth()];\n}\n", "import {\n  curveBasis,\n  curveBasisClosed,\n  curveBasisOpen,\n  curveBundle,\n  curveBumpX,\n  curveBumpY,\n  curveCardinal,\n  curveCardinalClosed,\n  curveCardinalOpen,\n  curveCatmullRom,\n  curveCatmullRomClosed,\n  curveCatmullRomOpen,\n  curveLinear,\n  curveLinearClosed,\n  curveMonotoneX,\n  curveMonotoneY,\n  curveNatural,\n  curveStep,\n  curveStepAfter,\n  curveStepBefore\n} from \"d3\";\n\nconst curves = new Map([\n  [\"basis\", curveBasis],\n  [\"basis-closed\", curveBasisClosed],\n  [\"basis-open\", curveBasisOpen],\n  [\"bundle\", curveBundle],\n  [\"bump-x\", curveBumpX],\n  [\"bump-y\", curveBumpY],\n  [\"cardinal\", curveCardinal],\n  [\"cardinal-closed\", curveCardinalClosed],\n  [\"cardinal-open\", curveCardinalOpen],\n  [\"catmull-rom\", curveCatmullRom],\n  [\"catmull-rom-closed\", curveCatmullRomClosed],\n  [\"catmull-rom-open\", curveCatmullRomOpen],\n  [\"linear\", curveLinear],\n  [\"linear-closed\", curveLinearClosed],\n  [\"monotone-x\", curveMonotoneX],\n  [\"monotone-y\", curveMonotoneY],\n  [\"natural\", curveNatural],\n  [\"step\", curveStep],\n  [\"step-after\", curveStepAfter],\n  [\"step-before\", curveStepBefore]\n]);\n\nexport function maybeCurve(curve = curveLinear, tension) {\n  if (typeof curve === \"function\") return curve; // custom curve\n  const c = curves.get(`${curve}`.toLowerCase());\n  if (!c) throw new Error(`unknown curve: ${curve}`);\n  if (tension !== undefined) {\n    if (\"beta\" in c) {\n      return c.beta(tension);\n    } else if (\"tension\" in c) {\n      return c.tension(tension);\n    } else if (\"alpha\" in c) {\n      return c.alpha(tension);\n    }\n  }\n  return c;\n}\n\n// For the \u201Cauto\u201D curve, return a symbol instead of a curve implementation;\n// we\u2019ll use d3.geoPath to render if there\u2019s a projection.\nexport function maybeCurveAuto(curve = curveAuto, tension) {\n  return typeof curve !== \"function\" && `${curve}`.toLowerCase() === \"auto\" ? curveAuto : maybeCurve(curve, tension);\n}\n\n// This is a special built-in curve that will use d3.geoPath when there is a\n// projection, and the linear curve when there is not. You can explicitly\n// opt-out of d3.geoPath and instead use d3.line with the \"linear\" curve.\nexport function curveAuto(context) {\n  return curveLinear(context);\n}\n", "import {\n  bisect,\n  extent,\n  thresholdFreedmanDiaconis,\n  thresholdScott,\n  thresholdSturges,\n  tickIncrement,\n  ticks,\n  utcTickInterval\n} from \"d3\";\nimport {withTip} from \"../mark.js\";\nimport {\n  coerceDate,\n  coerceNumbers,\n  identity,\n  isIterable,\n  isTemporal,\n  labelof,\n  map,\n  maybeApplyInterval,\n  maybeColorChannel,\n  maybeColumn,\n  maybeRangeInterval,\n  maybeTuple,\n  maybeValue,\n  mid,\n  valueof\n} from \"../options.js\";\nimport {maybeUtcInterval} from \"../time.js\";\nimport {basic} from \"./basic.js\";\nimport {\n  hasOutput,\n  maybeEvaluator,\n  maybeGroup,\n  maybeOutput,\n  maybeOutputs,\n  maybeReduce,\n  maybeSort,\n  maybeSubgroup,\n  reduceCount,\n  reduceFirst,\n  reduceIdentity\n} from \"./group.js\";\nimport {maybeInsetX, maybeInsetY} from \"./inset.js\";\n\n// Group on {z, fill, stroke}, then optionally on y, then bin x.\nexport function binX(outputs = {y: \"count\"}, options = {}) {\n  [outputs, options] = mergeOptions(outputs, options);\n  const {x, y} = options;\n  return binn(maybeBinValue(x, options, identity), null, null, y, outputs, maybeInsetX(options));\n}\n\n// Group on {z, fill, stroke}, then optionally on x, then bin y.\nexport function binY(outputs = {x: \"count\"}, options = {}) {\n  [outputs, options] = mergeOptions(outputs, options);\n  const {x, y} = options;\n  return binn(null, maybeBinValue(y, options, identity), x, null, outputs, maybeInsetY(options));\n}\n\n// Group on {z, fill, stroke}, then bin on x and y.\nexport function bin(outputs = {fill: \"count\"}, options = {}) {\n  [outputs, options] = mergeOptions(outputs, options);\n  const {x, y} = maybeBinValueTuple(options);\n  return binn(x, y, null, null, outputs, maybeInsetX(maybeInsetY(options)));\n}\n\nfunction maybeDenseInterval(bin, k, options = {}) {\n  return options?.interval == null\n    ? options\n    : bin({[k]: options?.reduce === undefined ? reduceFirst : options.reduce, filter: null}, options);\n}\n\nexport function maybeDenseIntervalX(options = {}) {\n  return maybeDenseInterval(binX, \"y\", withTip(options, \"x\"));\n}\n\nexport function maybeDenseIntervalY(options = {}) {\n  return maybeDenseInterval(binY, \"x\", withTip(options, \"y\"));\n}\n\nfunction binn(\n  bx, // optionally bin on x (exclusive with gx)\n  by, // optionally bin on y (exclusive with gy)\n  gx, // optionally group on x (exclusive with bx and gy)\n  gy, // optionally group on y (exclusive with by and gx)\n  {\n    data: reduceData = reduceIdentity, // TODO avoid materializing when unused?\n    filter = reduceCount, // return only non-empty bins by default\n    sort,\n    reverse,\n    ...outputs // output channel definitions\n  } = {},\n  inputs = {} // input channels and options\n) {\n  bx = maybeBin(bx);\n  by = maybeBin(by);\n\n  // Compute the outputs.\n  outputs = maybeBinOutputs(outputs, inputs);\n  reduceData = maybeBinReduce(reduceData, identity);\n  sort = sort == null ? undefined : maybeBinOutput(\"sort\", sort, inputs);\n  filter = filter == null ? undefined : maybeBinEvaluator(\"filter\", filter, inputs);\n\n  // Don\u2019t group on a channel if an output requires it as an input!\n  if (gx != null && hasOutput(outputs, \"x\", \"x1\", \"x2\")) gx = null;\n  if (gy != null && hasOutput(outputs, \"y\", \"y1\", \"y2\")) gy = null;\n\n  // Produce x1, x2, y1, and y2 output channels as appropriate (when binning).\n  const [BX1, setBX1] = maybeColumn(bx);\n  const [BX2, setBX2] = maybeColumn(bx);\n  const [BY1, setBY1] = maybeColumn(by);\n  const [BY2, setBY2] = maybeColumn(by);\n\n  // Produce x or y output channels as appropriate (when grouping).\n  const [k, gk] = gx != null ? [gx, \"x\"] : gy != null ? [gy, \"y\"] : [];\n  const [GK, setGK] = maybeColumn(k);\n\n  // Greedily materialize the z, fill, and stroke channels (if channels and not\n  // constants) so that we can reference them for subdividing groups without\n  // computing them more than once. We also want to consume options that should\n  // only apply to this transform rather than passing them through to the next.\n  const {\n    x,\n    y,\n    z,\n    fill,\n    stroke,\n    x1,\n    x2, // consumed if x is an output\n    y1,\n    y2, // consumed if y is an output\n    domain,\n    cumulative,\n    thresholds,\n    interval,\n    ...options\n  } = inputs;\n  const [GZ, setGZ] = maybeColumn(z);\n  const [vfill] = maybeColorChannel(fill);\n  const [vstroke] = maybeColorChannel(stroke);\n  const [GF, setGF] = maybeColumn(vfill);\n  const [GS, setGS] = maybeColumn(vstroke);\n\n  return {\n    ...(\"z\" in inputs && {z: GZ || z}),\n    ...(\"fill\" in inputs && {fill: GF || fill}),\n    ...(\"stroke\" in inputs && {stroke: GS || stroke}),\n    ...basic(options, (data, facets, plotOptions) => {\n      const K = maybeApplyInterval(valueof(data, k), plotOptions?.[gk]);\n      const Z = valueof(data, z);\n      const F = valueof(data, vfill);\n      const S = valueof(data, vstroke);\n      const G = maybeSubgroup(outputs, {z: Z, fill: F, stroke: S});\n      const groupFacets = [];\n      const groupData = [];\n      const GK = K && setGK([]);\n      const GZ = Z && setGZ([]);\n      const GF = F && setGF([]);\n      const GS = S && setGS([]);\n      const BX1 = bx && setBX1([]);\n      const BX2 = bx && setBX2([]);\n      const BY1 = by && setBY1([]);\n      const BY2 = by && setBY2([]);\n      const bin = bing(bx?.(data), by?.(data));\n      let i = 0;\n      for (const o of outputs) o.initialize(data);\n      if (sort) sort.initialize(data);\n      if (filter) filter.initialize(data);\n      for (const facet of facets) {\n        const groupFacet = [];\n        for (const o of outputs) o.scope(\"facet\", facet);\n        if (sort) sort.scope(\"facet\", facet);\n        if (filter) filter.scope(\"facet\", facet);\n        for (const [f, I] of maybeGroup(facet, G)) {\n          for (const [k, g] of maybeGroup(I, K)) {\n            for (const [b, extent] of bin(g)) {\n              if (filter && !filter.reduce(b, extent)) continue;\n              groupFacet.push(i++);\n              groupData.push(reduceData.reduceIndex(b, data, extent));\n              if (K) GK.push(k);\n              if (Z) GZ.push(G === Z ? f : Z[b[0]]);\n              if (F) GF.push(G === F ? f : F[b[0]]);\n              if (S) GS.push(G === S ? f : S[b[0]]);\n              if (BX1) BX1.push(extent.x1), BX2.push(extent.x2);\n              if (BY1) BY1.push(extent.y1), BY2.push(extent.y2);\n              for (const o of outputs) o.reduce(b, extent);\n              if (sort) sort.reduce(b);\n            }\n          }\n        }\n        groupFacets.push(groupFacet);\n      }\n      maybeSort(groupFacets, sort, reverse);\n      return {data: groupData, facets: groupFacets};\n    }),\n    ...(!hasOutput(outputs, \"x\") && (BX1 ? {x1: BX1, x2: BX2, x: mid(BX1, BX2)} : {x, x1, x2})),\n    ...(!hasOutput(outputs, \"y\") && (BY1 ? {y1: BY1, y2: BY2, y: mid(BY1, BY2)} : {y, y1, y2})),\n    ...(GK && {[gk]: GK}),\n    ...Object.fromEntries(outputs.map(({name, output}) => [name, output]))\n  };\n}\n\n// Allow bin options to be specified as part of outputs; merge them into options.\nfunction mergeOptions({cumulative, domain, thresholds, interval, ...outputs}, options) {\n  return [outputs, {cumulative, domain, thresholds, interval, ...options}];\n}\n\nfunction maybeBinValue(value, {cumulative, domain, thresholds, interval}, defaultValue) {\n  value = {...maybeValue(value)};\n  if (value.domain === undefined) value.domain = domain;\n  if (value.cumulative === undefined) value.cumulative = cumulative;\n  if (value.thresholds === undefined) value.thresholds = thresholds;\n  if (value.interval === undefined) value.interval = interval;\n  if (value.value === undefined) value.value = defaultValue;\n  value.thresholds = maybeThresholds(value.thresholds, value.interval);\n  return value;\n}\n\nfunction maybeBinValueTuple(options) {\n  let {x, y} = options;\n  x = maybeBinValue(x, options);\n  y = maybeBinValue(y, options);\n  [x.value, y.value] = maybeTuple(x.value, y.value);\n  return {x, y};\n}\n\nfunction maybeBin(options) {\n  if (options == null) return;\n  const {value, cumulative, domain = extent, thresholds} = options;\n  const bin = (data) => {\n    let V = valueof(data, value);\n    let T; // bin thresholds\n    if (isTemporal(V) || isTimeThresholds(thresholds)) {\n      V = map(V, coerceDate, Float64Array); // like coerceDates, but faster\n      let [min, max] = typeof domain === \"function\" ? domain(V) : domain;\n      let t = typeof thresholds === \"function\" && !isInterval(thresholds) ? thresholds(V, min, max) : thresholds;\n      if (typeof t === \"number\") t = utcTickInterval(min, max, t);\n      if (isInterval(t)) {\n        if (domain === extent) {\n          min = t.floor(min);\n          max = t.offset(t.floor(max));\n        }\n        t = t.range(min, t.offset(max));\n      }\n      T = t;\n    } else {\n      V = coerceNumbers(V);\n      let [min, max] = typeof domain === \"function\" ? domain(V) : domain;\n      let t = typeof thresholds === \"function\" && !isInterval(thresholds) ? thresholds(V, min, max) : thresholds;\n      if (typeof t === \"number\") {\n        // This differs from d3.ticks with regard to exclusive bounds: we want a\n        // first threshold less than or equal to the minimum, and a last\n        // threshold (strictly) greater than the maximum.\n        if (domain === extent) {\n          let step = tickIncrement(min, max, t);\n          if (isFinite(step)) {\n            if (step > 0) {\n              let r0 = Math.round(min / step);\n              let r1 = Math.round(max / step);\n              if (!(r0 * step <= min)) --r0;\n              if (!(r1 * step > max)) ++r1;\n              let n = r1 - r0 + 1;\n              t = new Float64Array(n);\n              for (let i = 0; i < n; ++i) t[i] = (r0 + i) * step;\n            } else if (step < 0) {\n              step = -step;\n              let r0 = Math.round(min * step);\n              let r1 = Math.round(max * step);\n              if (!(r0 / step <= min)) --r0;\n              if (!(r1 / step > max)) ++r1;\n              let n = r1 - r0 + 1;\n              t = new Float64Array(n);\n              for (let i = 0; i < n; ++i) t[i] = (r0 + i) / step;\n            } else {\n              t = [min];\n            }\n          } else {\n            t = [min];\n          }\n        } else {\n          t = ticks(min, max, t);\n        }\n      } else if (isInterval(t)) {\n        if (domain === extent) {\n          min = t.floor(min);\n          max = t.offset(t.floor(max));\n        }\n        t = t.range(min, t.offset(max));\n      }\n      T = t;\n    }\n    const E = [];\n    if (T.length === 1) E.push([T[0], T[0]]); // collapsed domain\n    else for (let i = 1; i < T.length; ++i) E.push([T[i - 1], T[i]]);\n    E.bin = (cumulative < 0 ? bin1cn : cumulative > 0 ? bin1cp : bin1)(E, T, V);\n    return E;\n  };\n  bin.label = labelof(value);\n  return bin;\n}\n\nexport function maybeThresholds(thresholds, interval, defaultThresholds = thresholdAuto) {\n  if (thresholds === undefined) {\n    return interval === undefined ? defaultThresholds : maybeRangeInterval(interval);\n  }\n  if (typeof thresholds === \"string\") {\n    switch (thresholds.toLowerCase()) {\n      case \"freedman-diaconis\":\n        return thresholdFreedmanDiaconis;\n      case \"scott\":\n        return thresholdScott;\n      case \"sturges\":\n        return thresholdSturges;\n      case \"auto\":\n        return thresholdAuto;\n    }\n    return maybeUtcInterval(thresholds);\n  }\n  return thresholds; // pass array, count, or function to bin.thresholds\n}\n\nfunction maybeBinOutputs(outputs, inputs) {\n  return maybeOutputs(outputs, inputs, maybeBinOutput);\n}\n\nfunction maybeBinOutput(name, reduce, inputs) {\n  return maybeOutput(name, reduce, inputs, maybeBinEvaluator);\n}\n\nfunction maybeBinEvaluator(name, reduce, inputs) {\n  return maybeEvaluator(name, reduce, inputs, maybeBinReduce);\n}\n\nfunction maybeBinReduce(reduce, value) {\n  return maybeReduce(reduce, value, maybeBinReduceFallback);\n}\n\nfunction maybeBinReduceFallback(reduce) {\n  switch (`${reduce}`.toLowerCase()) {\n    case \"x\":\n      return reduceX;\n    case \"x1\":\n      return reduceX1;\n    case \"x2\":\n      return reduceX2;\n    case \"y\":\n      return reduceY;\n    case \"y1\":\n      return reduceY1;\n    case \"y2\":\n      return reduceY2;\n  }\n  throw new Error(`invalid bin reduce: ${reduce}`);\n}\n\nfunction thresholdAuto(values, min, max) {\n  return Math.min(200, thresholdScott(values, min, max));\n}\n\nfunction isTimeThresholds(t) {\n  return isTimeInterval(t) || (isIterable(t) && isTemporal(t));\n}\n\nfunction isTimeInterval(t) {\n  return isInterval(t) && typeof t === \"function\" && t() instanceof Date;\n}\n\nfunction isInterval(t) {\n  return typeof t?.range === \"function\";\n}\n\nfunction bing(EX, EY) {\n  return EX && EY\n    ? function* (I) {\n        const X = EX.bin(I); // first bin on x\n        for (const [ix, [x1, x2]] of EX.entries()) {\n          const Y = EY.bin(X[ix]); // then bin on y\n          for (const [iy, [y1, y2]] of EY.entries()) {\n            yield [Y[iy], {x1, y1, x2, y2}];\n          }\n        }\n      }\n    : EX\n    ? function* (I) {\n        const X = EX.bin(I);\n        for (const [i, [x1, x2]] of EX.entries()) {\n          yield [X[i], {x1, x2}];\n        }\n      }\n    : function* (I) {\n        const Y = EY.bin(I);\n        for (const [i, [y1, y2]] of EY.entries()) {\n          yield [Y[i], {y1, y2}];\n        }\n      };\n}\n\n// non-cumulative distribution\nfunction bin1(E, T, V) {\n  T = coerceNumbers(T); // for faster bisection\n  return (I) => {\n    const B = E.map(() => []);\n    for (const i of I) B[bisect(T, V[i]) - 1]?.push(i); // TODO quantization?\n    return B;\n  };\n}\n\n// cumulative distribution\nfunction bin1cp(E, T, V) {\n  const bin = bin1(E, T, V);\n  return (I) => {\n    const B = bin(I);\n    for (let i = 1, n = B.length; i < n; ++i) {\n      const C = B[i - 1];\n      const b = B[i];\n      for (const j of C) b.push(j);\n    }\n    return B;\n  };\n}\n\n// complementary cumulative distribution\nfunction bin1cn(E, T, V) {\n  const bin = bin1(E, T, V);\n  return (I) => {\n    const B = bin(I);\n    for (let i = B.length - 2; i >= 0; --i) {\n      const C = B[i + 1];\n      const b = B[i];\n      for (const j of C) b.push(j);\n    }\n    return B;\n  };\n}\n\nfunction mid1(x1, x2) {\n  const m = (+x1 + +x2) / 2;\n  return x1 instanceof Date ? new Date(m) : m;\n}\n\nconst reduceX = {\n  reduceIndex(I, X, {x1, x2}) {\n    return mid1(x1, x2);\n  }\n};\n\nconst reduceY = {\n  reduceIndex(I, X, {y1, y2}) {\n    return mid1(y1, y2);\n  }\n};\n\nconst reduceX1 = {\n  reduceIndex(I, X, {x1}) {\n    return x1;\n  }\n};\n\nconst reduceX2 = {\n  reduceIndex(I, X, {x2}) {\n    return x2;\n  }\n};\n\nconst reduceY1 = {\n  reduceIndex(I, X, {y1}) {\n    return y1;\n  }\n};\n\nconst reduceY2 = {\n  reduceIndex(I, X, {y2}) {\n    return y2;\n  }\n};\n", "import {hasX, hasY, identity} from \"../options.js\";\n\nexport function maybeIdentityX(options = {}) {\n  return hasX(options) ? options : {...options, x: identity};\n}\n\nexport function maybeIdentityY(options = {}) {\n  return hasY(options) ? options : {...options, y: identity};\n}\n", "import {InternMap, cumsum, greatest, group, groupSort, max, min, rollup, sum} from \"d3\";\nimport {ascendingDefined, descendingDefined} from \"../defined.js\";\nimport {withTip} from \"../mark.js\";\nimport {maybeApplyInterval, maybeColumn, maybeZ, maybeZero} from \"../options.js\";\nimport {column, field, mid, one, range, valueof} from \"../options.js\";\nimport {basic} from \"./basic.js\";\n\nexport function stackX(stackOptions = {}, options = {}) {\n  if (arguments.length === 1) [stackOptions, options] = mergeOptions(stackOptions);\n  const {y1, y = y1, x, ...rest} = options; // note: consumes x!\n  const [transform, Y, x1, x2] = stack(y, x, \"y\", \"x\", stackOptions, rest);\n  return {...transform, y1, y: Y, x1, x2, x: mid(x1, x2)};\n}\n\nexport function stackX1(stackOptions = {}, options = {}) {\n  if (arguments.length === 1) [stackOptions, options] = mergeOptions(stackOptions);\n  const {y1, y = y1, x} = options;\n  const [transform, Y, X] = stack(y, x, \"y\", \"x\", stackOptions, options);\n  return {...transform, y1, y: Y, x: X};\n}\n\nexport function stackX2(stackOptions = {}, options = {}) {\n  if (arguments.length === 1) [stackOptions, options] = mergeOptions(stackOptions);\n  const {y1, y = y1, x} = options;\n  const [transform, Y, , X] = stack(y, x, \"y\", \"x\", stackOptions, options);\n  return {...transform, y1, y: Y, x: X};\n}\n\nexport function stackY(stackOptions = {}, options = {}) {\n  if (arguments.length === 1) [stackOptions, options] = mergeOptions(stackOptions);\n  const {x1, x = x1, y, ...rest} = options; // note: consumes y!\n  const [transform, X, y1, y2] = stack(x, y, \"x\", \"y\", stackOptions, rest);\n  return {...transform, x1, x: X, y1, y2, y: mid(y1, y2)};\n}\n\nexport function stackY1(stackOptions = {}, options = {}) {\n  if (arguments.length === 1) [stackOptions, options] = mergeOptions(stackOptions);\n  const {x1, x = x1, y} = options;\n  const [transform, X, Y] = stack(x, y, \"x\", \"y\", stackOptions, options);\n  return {...transform, x1, x: X, y: Y};\n}\n\nexport function stackY2(stackOptions = {}, options = {}) {\n  if (arguments.length === 1) [stackOptions, options] = mergeOptions(stackOptions);\n  const {x1, x = x1, y} = options;\n  const [transform, X, , Y] = stack(x, y, \"x\", \"y\", stackOptions, options);\n  return {...transform, x1, x: X, y: Y};\n}\n\nexport function maybeStackX({x, x1, x2, ...options} = {}) {\n  options = withTip(options, \"y\");\n  if (x1 === undefined && x2 === undefined) return stackX({x, ...options});\n  [x1, x2] = maybeZero(x, x1, x2);\n  return {...options, x1, x2};\n}\n\nexport function maybeStackY({y, y1, y2, ...options} = {}) {\n  options = withTip(options, \"x\");\n  if (y1 === undefined && y2 === undefined) return stackY({y, ...options});\n  [y1, y2] = maybeZero(y, y1, y2);\n  return {...options, y1, y2};\n}\n\n// The reverse option is ambiguous: it is both a stack option and a basic\n// transform. If only one options object is specified, we interpret it as a\n// stack option, and therefore must remove it from the propagated options.\nfunction mergeOptions(options) {\n  const {offset, order, reverse, ...rest} = options;\n  return [{offset, order, reverse}, rest];\n}\n\n// This is a hint to the tooltip mark that the y1 and y2 channels (for stackY,\n// or conversely x1 and x2 for stackX) represent a stacked length, and that the\n// tooltip should therefore show y2-y1 instead of an extent.\nconst lengthy = {length: true};\n\nfunction stack(x, y = one, kx, ky, {offset, order, reverse}, options) {\n  const z = maybeZ(options);\n  const [X, setX] = maybeColumn(x);\n  const [Y1, setY1] = column(y);\n  const [Y2, setY2] = column(y);\n  Y1.hint = Y2.hint = lengthy;\n  offset = maybeOffset(offset);\n  order = maybeOrder(order, offset, ky);\n  return [\n    basic(options, (data, facets, plotOptions) => {\n      const X = x == null ? undefined : setX(maybeApplyInterval(valueof(data, x), plotOptions?.[kx]));\n      const Y = valueof(data, y, Float64Array);\n      const Z = valueof(data, z);\n      const compare = order && order(data, X, Y, Z);\n      const n = data.length;\n      const Y1 = setY1(new Float64Array(n));\n      const Y2 = setY2(new Float64Array(n));\n      const facetstacks = [];\n      for (const facet of facets) {\n        const stacks = X ? Array.from(group(facet, (i) => X[i]).values()) : [facet];\n        if (compare) for (const stack of stacks) stack.sort(compare);\n        for (const stack of stacks) {\n          let yn = 0;\n          let yp = 0;\n          if (reverse) stack.reverse();\n          for (const i of stack) {\n            const y = Y[i];\n            if (y < 0) yn = Y2[i] = (Y1[i] = yn) + y;\n            else if (y > 0) yp = Y2[i] = (Y1[i] = yp) + y;\n            else Y2[i] = Y1[i] = yp; // NaN or zero\n          }\n        }\n        facetstacks.push(stacks);\n      }\n      if (offset) offset(facetstacks, Y1, Y2, Z);\n      return {data, facets};\n    }),\n    X,\n    Y1,\n    Y2\n  ];\n}\n\nfunction maybeOffset(offset) {\n  if (offset == null) return;\n  if (typeof offset === \"function\") return offset;\n  switch (`${offset}`.toLowerCase()) {\n    case \"expand\":\n    case \"normalize\":\n      return offsetExpand;\n    case \"center\":\n    case \"silhouette\":\n      return offsetCenter;\n    case \"wiggle\":\n      return offsetWiggle;\n  }\n  throw new Error(`unknown offset: ${offset}`);\n}\n\n// Given a single stack, returns the minimum and maximum values from the given\n// Y2 column. Note that this relies on Y2 always being the outer column for\n// diverging values.\nfunction extent(stack, Y2) {\n  let min = 0,\n    max = 0;\n  for (const i of stack) {\n    const y = Y2[i];\n    if (y < min) min = y;\n    if (y > max) max = y;\n  }\n  return [min, max];\n}\n\nfunction offsetExpand(facetstacks, Y1, Y2) {\n  for (const stacks of facetstacks) {\n    for (const stack of stacks) {\n      const [yn, yp] = extent(stack, Y2);\n      for (const i of stack) {\n        const m = 1 / (yp - yn || 1);\n        Y1[i] = m * (Y1[i] - yn);\n        Y2[i] = m * (Y2[i] - yn);\n      }\n    }\n  }\n}\n\nfunction offsetCenter(facetstacks, Y1, Y2) {\n  for (const stacks of facetstacks) {\n    for (const stack of stacks) {\n      const [yn, yp] = extent(stack, Y2);\n      for (const i of stack) {\n        const m = (yp + yn) / 2;\n        Y1[i] -= m;\n        Y2[i] -= m;\n      }\n    }\n    offsetZero(stacks, Y1, Y2);\n  }\n  offsetCenterFacets(facetstacks, Y1, Y2);\n}\n\nfunction offsetWiggle(facetstacks, Y1, Y2, Z) {\n  for (const stacks of facetstacks) {\n    const prev = new InternMap();\n    let y = 0;\n    for (const stack of stacks) {\n      let j = -1;\n      const Fi = stack.map((i) => Math.abs(Y2[i] - Y1[i]));\n      const Df = stack.map((i) => {\n        j = Z ? Z[i] : ++j;\n        const value = Y2[i] - Y1[i];\n        const diff = prev.has(j) ? value - prev.get(j) : 0;\n        prev.set(j, value);\n        return diff;\n      });\n      const Cf1 = [0, ...cumsum(Df)];\n      for (const i of stack) {\n        Y1[i] += y;\n        Y2[i] += y;\n      }\n      const s1 = sum(Fi);\n      if (s1) y -= sum(Fi, (d, i) => (Df[i] / 2 + Cf1[i]) * d) / s1;\n    }\n    offsetZero(stacks, Y1, Y2);\n  }\n  offsetCenterFacets(facetstacks, Y1, Y2);\n}\n\nfunction offsetZero(stacks, Y1, Y2) {\n  const m = min(stacks, (stack) => min(stack, (i) => Y1[i]));\n  for (const stack of stacks) {\n    for (const i of stack) {\n      Y1[i] -= m;\n      Y2[i] -= m;\n    }\n  }\n}\n\nfunction offsetCenterFacets(facetstacks, Y1, Y2) {\n  const n = facetstacks.length;\n  if (n === 1) return;\n  const facets = facetstacks.map((stacks) => stacks.flat());\n  const m = facets.map((I) => (min(I, (i) => Y1[i]) + max(I, (i) => Y2[i])) / 2);\n  const m0 = min(m);\n  for (let j = 0; j < n; j++) {\n    const p = m0 - m[j];\n    for (const i of facets[j]) {\n      Y1[i] += p;\n      Y2[i] += p;\n    }\n  }\n}\n\nfunction maybeOrder(order, offset, ky) {\n  if (order === undefined && offset === offsetWiggle) return orderInsideOut(ascendingDefined);\n  if (order == null) return;\n  if (typeof order === \"string\") {\n    const negate = order.startsWith(\"-\");\n    const compare = negate ? descendingDefined : ascendingDefined;\n    switch ((negate ? order.slice(1) : order).toLowerCase()) {\n      case \"value\":\n      case ky:\n        return orderY(compare);\n      case \"z\":\n        return orderZ(compare);\n      case \"sum\":\n        return orderSum(compare);\n      case \"appearance\":\n        return orderAppearance(compare);\n      case \"inside-out\":\n        return orderInsideOut(compare);\n    }\n    return orderAccessor(field(order));\n  }\n  if (typeof order === \"function\") return (order.length === 1 ? orderAccessor : orderComparator)(order);\n  if (Array.isArray(order)) return orderGiven(order);\n  throw new Error(`invalid order: ${order}`);\n}\n\n// by value\nfunction orderY(compare) {\n  return (data, X, Y) => (i, j) => compare(Y[i], Y[j]);\n}\n\n// by location\nfunction orderZ(compare) {\n  return (data, X, Y, Z) => (i, j) => compare(Z[i], Z[j]);\n}\n\n// by sum of value (a.k.a. \u201Cascending\u201D)\nfunction orderSum(compare) {\n  return orderZDomain(compare, (data, X, Y, Z) =>\n    groupSort(\n      range(data),\n      (I) => sum(I, (i) => Y[i]),\n      (i) => Z[i]\n    )\n  );\n}\n\n// by x = argmax of value\nfunction orderAppearance(compare) {\n  return orderZDomain(compare, (data, X, Y, Z) =>\n    groupSort(\n      range(data),\n      (I) => X[greatest(I, (i) => Y[i])],\n      (i) => Z[i]\n    )\n  );\n}\n\n// by x = argmax of value, but rearranged inside-out by alternating series\n// according to the sign of a running divergence of sums\nfunction orderInsideOut(compare) {\n  return orderZDomain(compare, (data, X, Y, Z) => {\n    const I = range(data);\n    const K = groupSort(\n      I,\n      (I) => X[greatest(I, (i) => Y[i])],\n      (i) => Z[i]\n    );\n    const sums = rollup(\n      I,\n      (I) => sum(I, (i) => Y[i]),\n      (i) => Z[i]\n    );\n    const Kp = [],\n      Kn = [];\n    let s = 0;\n    for (const k of K) {\n      if (s < 0) {\n        s += sums.get(k);\n        Kp.push(k);\n      } else {\n        s -= sums.get(k);\n        Kn.push(k);\n      }\n    }\n    return Kn.reverse().concat(Kp);\n  });\n}\n\nfunction orderAccessor(f) {\n  return (data) => {\n    const O = valueof(data, f);\n    return (i, j) => ascendingDefined(O[i], O[j]);\n  };\n}\n\nfunction orderComparator(f) {\n  return (data) => (i, j) => f(data[i], data[j]);\n}\n\nfunction orderGiven(domain) {\n  return orderZDomain(ascendingDefined, () => domain);\n}\n\n// Given an ordering (domain) of distinct values in z that can be derived from\n// the data, returns a comparator that can be used to sort stacks. Note that\n// this is a series order: it will be consistent across stacks.\nfunction orderZDomain(compare, domain) {\n  return (data, X, Y, Z) => {\n    if (!Z) throw new Error(\"missing channel: z\");\n    const map = new InternMap(domain(data, X, Y, Z).map((d, i) => [d, i]));\n    return (i, j) => compare(map.get(Z[i]), map.get(Z[j]));\n  };\n}\n", "import {area as shapeArea} from \"d3\";\nimport {create} from \"../context.js\";\nimport {maybeCurve} from \"../curve.js\";\nimport {Mark} from \"../mark.js\";\nimport {first, indexOf, maybeZ, second} from \"../options.js\";\nimport {\n  applyDirectStyles,\n  applyIndirectStyles,\n  applyTransform,\n  applyGroupedChannelStyles,\n  groupIndex\n} from \"../style.js\";\nimport {maybeDenseIntervalX, maybeDenseIntervalY} from \"../transforms/bin.js\";\nimport {maybeIdentityX, maybeIdentityY} from \"../transforms/identity.js\";\nimport {maybeStackX, maybeStackY} from \"../transforms/stack.js\";\n\nconst defaults = {\n  ariaLabel: \"area\",\n  strokeWidth: 1,\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  strokeMiterlimit: 1\n};\n\nexport class Area extends Mark {\n  constructor(data, options = {}) {\n    const {x1, y1, x2, y2, z, curve, tension} = options;\n    super(\n      data,\n      {\n        x1: {value: x1, scale: \"x\"},\n        y1: {value: y1, scale: \"y\"},\n        x2: {value: x2, scale: \"x\", optional: true},\n        y2: {value: y2, scale: \"y\", optional: true},\n        z: {value: maybeZ(options), optional: true}\n      },\n      options,\n      defaults\n    );\n    this.z = z;\n    this.curve = maybeCurve(curve, tension);\n  }\n  filter(index) {\n    return index;\n  }\n  render(index, scales, channels, dimensions, context) {\n    const {x1: X1, y1: Y1, x2: X2 = X1, y2: Y2 = Y1} = channels;\n    return create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(applyTransform, this, scales, 0, 0)\n      .call((g) =>\n        g\n          .selectAll()\n          .data(groupIndex(index, [X1, Y1, X2, Y2], this, channels))\n          .enter()\n          .append(\"path\")\n          .call(applyDirectStyles, this)\n          .call(applyGroupedChannelStyles, this, channels)\n          .attr(\n            \"d\",\n            shapeArea()\n              .curve(this.curve)\n              .defined((i) => i >= 0)\n              .x0((i) => X1[i])\n              .y0((i) => Y1[i])\n              .x1((i) => X2[i])\n              .y1((i) => Y2[i])\n          )\n      )\n      .node();\n  }\n}\n\nexport function area(data, options) {\n  if (options === undefined) return areaY(data, {x: first, y: second});\n  return new Area(data, options);\n}\n\nexport function areaX(data, options) {\n  const {y = indexOf, ...rest} = maybeDenseIntervalY(options);\n  return new Area(data, maybeStackX(maybeIdentityX({...rest, y1: y, y2: undefined})));\n}\n\nexport function areaY(data, options) {\n  const {x = indexOf, ...rest} = maybeDenseIntervalX(options);\n  return new Area(data, maybeStackY(maybeIdentityY({...rest, x1: x, x2: undefined})));\n}\n", "/**\n * Get an array of non-empty HTMLElements from a slot change event.\n * @param e A slot change event.\n * @returns An array of non-empty HTMLElements.\n */\nexport function getElementsFromSlotChangeEvent(e: Event): HTMLElement[] {\n  const slot = e.target as HTMLSlotElement | null;\n\n  if (!slot) return [];\n\n  // Sometimes we get node that are just newlines and empty text. These don't\n  // matter as they dont inclunce the appearnace of the app so we can filter\n  // them out before working with the slotted elements\n  return slot\n    .assignedNodes({ flatten: true })\n    .filter((node): node is HTMLElement => {\n      // Regex to detect text that's exclusively whitespace or newlines\n      return node instanceof HTMLElement && !/^\\s*$/.test(node.innerHTML);\n    });\n}\n", "import * as Plot from \"@observablehq/plot\";\nimport { LitElement, css, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport { getElementsFromSlotChangeEvent } from \"./utils/getElementsFromSlotChangeEvent\";\n\n@customElement(\"observable-plot\")\nexport class ObservablePlot extends LitElement {\n  static styles = [\n    css`\n      * {\n        box-sizing: border-box;\n      }\n\n      .slots {\n        display: none;\n      }\n\n      :host {\n        display: block;\n        height: 100%;\n        padding: var(--size-m);\n        padding-block-start: calc(2 * var(--size-m));\n      }\n\n      #plot {\n        height: 100%;\n      }\n\n      figure {\n        margin: 0;\n        position: relative;\n      }\n\n      figure > :first-child {\n        position: absolute;\n        bottom: 100%;\n        left: 0;\n      }\n    `,\n  ];\n\n  @property({ type: Number }) heightPx: number | null = null;\n  @property({ type: Number }) widthPx: number | null = null;\n\n  @state() data: object | null = null;\n\n  watchDataSlot(e: Event) {\n    const dataElements = getElementsFromSlotChangeEvent(e);\n\n    // Find the first script tag in the data slot\n    const dataScript = dataElements.find((el) => el.tagName === \"SCRIPT\") as\n      | HTMLScriptElement\n      | undefined;\n\n    if (!dataScript) {\n      console.warn(\"No data script found\");\n      return;\n    }\n\n    // Get the data from the script tag\n    const data = JSON.parse(dataScript.textContent || \"\");\n\n    this.data = data;\n  }\n\n  updatePlotSize() {\n    const plotDiv = this.shadowRoot?.querySelector(\"#plot\") as HTMLDivElement;\n    if (plotDiv) {\n      this.heightPx = plotDiv.offsetHeight;\n      this.widthPx = plotDiv.offsetWidth;\n    }\n  }\n\n  resizeWatcher = new ResizeObserver((entries) => {\n    this.updatePlotSize();\n  });\n\n  constructor() {\n    super();\n    this.resizeWatcher.observe(this);\n  }\n\n  render() {\n    return html`\n      <div class=\"slots\">\n        <slot name=\"data\" @slotchange=${this.watchDataSlot}></slot>\n        <slot name=\"spec\"></slot>\n      </div>\n      <div id=\"plot\">\n        ${this.data &&\n        this.heightPx &&\n        this.widthPx &&\n        Plot.plot({\n          y: {\n            grid: true,\n            label: \"\u2191 Annual revenue (billions, adj.)\",\n            transform: (d) => d / 1000, // convert millions to billions\n          },\n          height: this.heightPx,\n          width: this.widthPx,\n          color: { legend: true },\n          marks: [\n            Plot.areaY(\n              this.data,\n              Plot.stackY(\n                { order: null, reverse: false },\n                { x: \"year\", y: \"revenue\", z: \"format\", fill: \"group\" }\n              )\n            ),\n            Plot.ruleY([0]),\n          ],\n        })}\n      </div>\n    `;\n  }\n}\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n@customElement(\"output-plot\")\nexport class OutputPlot extends LitElement {\n  @property({ reflect: true }) height?: number;\n\n  static styles = css`\n    * {\n      box-sizing: border-box;\n      min-width: 0;\n    }\n\n    :host {\n      display: block;\n      height: var(--plot-h, 400px);\n      flex: 1 1 auto;\n    }\n\n    :host([height]) {\n      flex: 0 0 var(--plot-h, 400px);\n    }\n\n    .plot {\n      background-image: var(--gradient-17);\n      height: 100%;\n    }\n  `;\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (this.height) {\n      this.style.setProperty(\"--plot-h\", `${this.height}px`);\n    }\n  }\n\n  render() {\n    return html`<div class=\"plot\"></div>`;\n  }\n}\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n@customElement(\"posit-logo\")\nexport class PositLogo extends LitElement {\n  @property({ type: Boolean }) withName: boolean = false;\n  @property({ type: Number }) width: number = 40;\n  @property({ type: Number }) height: number = 40;\n\n  static styles = css`\n    svg {\n      translate: 0 3.5px;\n    }\n  `;\n\n  render() {\n    const nameText = this.withName\n      ? html`<path\n          class=\"masked-path\"\n          d=\"M87.818 9.225c7.25 0 12.361 4.903 12.361 11.713S95.069 32.61 87.818 32.61c-7.252 0-12.275-4.903-12.275-11.672 0-6.768 5.023-11.713 12.275-11.713Zm0 17.528c3.451 0 5.81-2.17 5.81-5.815 0-3.644-2.62-5.856-5.81-5.856-3.19 0-5.723 2.125-5.723 5.856 0 3.299 2.316 5.815 5.723 5.815ZM128.042 0c2.053 0 3.538 1.46 3.538 3.389 0 2.026-1.485 3.484-3.538 3.484-2.227 0-3.583-1.458-3.583-3.484S125.944 0 128.042 0Zm-3.19 9.65h6.335v22.563h-6.335V9.65ZM134.045 9.65h4.325V4.4h6.334v5.25h6.845v5.857h-6.845v7.332c0 2.733.611 3.775 2.316 3.775 1.485 0 2.665-.52 3.887-1.475l3.227 3.973c-1.574 1.65-4.625 3.359-7.725 3.359-4.761 0-8.037-2.561-8.037-7.767v-9.199h-4.325V9.648l-.002.003ZM155.519 11.998h-.504v-1.942h-.644v-.417h1.791v.417h-.643v1.942ZM157.466 11.998l-.572-1.85h-.014c.021.377.031.629.031.754v1.096h-.45V9.639h.686l.562 1.803h.009l.595-1.803h.686v2.359h-.468V10.88c0-.053 0-.114.002-.181 0-.07.01-.251.021-.55h-.014l-.611 1.848h-.463ZM121.573 12.41c-1.553-1.48-4.773-3.392-9.346-3.392-6.512 0-10.343 2.675-10.343 7.062 0 6.808 10.917 6.973 13.495 8.476.466.258.742.618.576 1.142-.485 1.51-6.603 2.247-11.116-2.087l-3.681 4.36c1.639 2.155 5.255 4.686 11.121 4.686 5.449 0 10.16-2.193 10.16-7.192 0-4.482-4.203-6.285-7.94-7.34-1.064-.291-2.092-.531-2.981-.768-1.473-.375-3.447-.796-3.131-1.889.574-1.986 7.142-.742 9.439 1.347l3.754-4.403-.007-.003ZM50.88 9.704h6.344v1.175c1.18-1.087 3.326-1.652 5.077-1.652 6.913 0 11.203 4.738 11.203 11.432S69.04 32.654 62.125 32.654c-2.187 0-4.2-.346-4.9-1.13V41H50.88V9.704Zm6.344 7.955v7.215c.7 1.042 2.232 1.912 4.026 1.912 3.545 0 5.688-2.217 5.688-5.65 0-3.998-2.012-6.04-5.34-6.04-2.1 0-3.542 1.041-4.374 2.563Z\"\n          fill=\"#404041\"\n        ></path>`\n      : null;\n    return html`\n      <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 41 41\" fill=\"none\">\n        <path\n          d=\"m10.043 24.362 1.855.83 8.577-3.625-1.909-.808-8.523 3.603Z\"\n          fill=\"#447099\"\n        ></path>\n        <path\n          d=\"m12.034 16.384-1.874.821 8.404 3.555 1.909-.808-8.44-3.568Z\"\n          fill=\"#447099\"\n        ></path>\n        <path\n          d=\"m32.67 16.41-1.873-.824-8.474-3.719-1.85-.812L0 2.074v10.836l8.278 3.5 1.873-.822-8.657-3.66V4.353l17.13 7.515 1.849.814 8.44 3.703 1.873.821 5.973 2.622v1.944l-5.882 2.58-1.873.823-8.662 3.8-1.836.808-17.012 7.464v-7.655l8.53-3.607-1.854-.828L0 28.61v10.916L20.337 30.6l1.836-.805 8.716-3.826 1.873-.821 5.491-2.41v-3.88l-5.582-2.45Z\"\n          fill=\"#447099\"\n        ></path>\n        <path\n          d=\"m22.38 20.76 8.404-3.555-1.874-.82-8.44 3.567-1.907.807 1.908.808L29 25.174l1.874-.823-8.496-3.591ZM39.45 29.591v7.94l-17.278-7.737-1.836.807 20.611 9.227V28.61l-8.186-3.461-1.874.821 8.564 3.622ZM40.948 2.073l-20.475 8.983 1.85.811 17.129-7.515v7.576l-8.655 3.658 1.873.824 8.278-3.5V2.072Z\"\n          fill=\"#ED642F\"\n        ></path>\n        <path\n          d=\"m10.04 24.362-5.852-2.59v-1.945l5.97-2.622 1.874-.82 8.44-3.706-1.85-.812-8.473 3.72-1.875.823-5.583 2.449v3.88l5.478 2.416 1.854.83 8.482 3.797 1.835-.807-8.446-3.782-1.854-.83Z\"\n          fill=\"#ED642F\"\n        ></path>\n        <path\n          d=\"m10.043 24.362 1.855.83 8.577-3.625-1.909-.808-8.523 3.603Z\"\n          fill=\"#447099\"\n        ></path>\n        <path\n          d=\"m12.034 16.384-1.874.821 8.404 3.555 1.909-.808-8.44-3.568Z\"\n          fill=\"#447099\"\n        ></path>\n        <path\n          d=\"m32.67 16.41-1.873-.824-8.474-3.719-1.85-.812L0 2.074v10.836l8.278 3.5 1.873-.822-8.657-3.66V4.353l17.13 7.515 1.849.814 8.44 3.703 1.873.821 5.973 2.622v1.944l-5.882 2.58-1.873.823-8.662 3.8-1.836.808-17.012 7.464v-7.655l8.53-3.607-1.854-.828L0 28.61v10.916L20.337 30.6l1.836-.805 8.716-3.826 1.873-.821 5.491-2.41v-3.88l-5.582-2.45Z\"\n          fill=\"#447099\"\n        ></path>\n        <path\n          d=\"m22.38 20.76 8.404-3.555-1.874-.82-8.44 3.567-1.907.807 1.908.808L29 25.174l1.874-.823-8.496-3.591ZM39.45 29.591v7.94l-17.278-7.737-1.836.807 20.611 9.227V28.61l-8.186-3.461-1.874.821 8.564 3.622ZM40.948 2.073l-20.475 8.983 1.85.811 17.129-7.515v7.576l-8.655 3.658 1.873.824 8.278-3.5V2.072Z\"\n          fill=\"#ED642F\"\n        ></path>\n        <path\n          d=\"m10.04 24.362-5.852-2.59v-1.945l5.97-2.622 1.874-.82 8.44-3.706-1.85-.812-8.473 3.72-1.875.823-5.583 2.449v3.88l5.478 2.416 1.854.83 8.482 3.797 1.835-.807-8.446-3.782-1.854-.83Z\"\n          fill=\"#ED642F\"\n        ></path>\n        ${nameText}\n      </svg>\n    `;\n  }\n}\n", "import { css } from \"lit\";\n\nexport const surface1 = css`\n  background-color: var(--surface-1);\n  color: var(--text-2);\n`;\n\n/**\n * A series of psuedo classes that can be unfolded into a css declaration to\n * apply more than a single style in one go\n */\nexport const themePrimitives = {\n  brand: css`\n    color: var(--brand);\n    background-color: var(--brand);\n  `,\n  surface_1: css`\n    background-color: var(--surface-1);\n    color: var(--text-1);\n  `,\n  surface_2: css`\n    background-color: var(--surface-2);\n    color: var(--text-1);\n  `,\n  surface_3: css`\n    background-color: var(--surface-3);\n    color: var(--text-1);\n  `,\n  surface_4: css`\n    background-color: var(--surface-4);\n    color: var(--text-1);\n  `,\n  fancy_shadow: css`\n    border: 1px solid hsl(var(--brand-hue) 10% 50% / 15%);\n    box-shadow: 0 1rem 0.5rem -0.5rem;\n    box-shadow: 0 2.8px 2.2px\n        hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),\n      0 6.7px 5.3px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 1%)),\n      0 12.5px 10px hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),\n      0 22.3px 17.9px\n        hsl(var(--shadow-color) / calc(var(--shadow-strength) + 2%)),\n      0 41.8px 33.4px\n        hsl(var(--shadow-color) / calc(var(--shadow-strength) + 3%)),\n      0 100px 80px hsl(var(--shadow-color) / var(--shadow-strength));\n  `,\n  /**\n   * A series of definitions that will reset text in a component to use standards without having to manually assign everything.\n   */\n  text_reset: css`\n    :where(h1, h2, h3, h4, h5, h6) {\n      line-height: var(--line-height-headings);\n      font-weight: var(--font-weight-headings);\n    }\n\n    :where(h1) {\n      font-size: var(--font-size-h1);\n    }\n\n    :where(h2) {\n      font-size: var(--font-size-h2);\n    }\n\n    :where(h3) {\n      font-size: var(--font-size-h3);\n    }\n\n    :where(h4) {\n      font-size: var(--font-size-h4);\n    }\n\n    :where(h5) {\n      font-size: var(--font-size-h5);\n    }\n\n    :where(p, ul, ol, dl, h6) {\n      font-size: var(--font-size-m);\n    }\n\n    :where(a, u, ins, abbr) {\n      text-underline-offset: 1px;\n\n      @supports (-moz-appearance: none) {\n        text-underline-offset: 2px;\n      }\n    }\n  `,\n};\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { themePrimitives } from \"./styles/op-classes\";\n\n@customElement(\"shiny-avatar\")\nexport class ShinyAvatar extends LitElement {\n  @property() size: number = 40;\n  @property() src: string = \"\";\n  @property() alt: string = \"Avatar photo\";\n  @property() variant: string = \"circle\";\n  @property() name: string = \"\";\n  @property({ type: Boolean, reflect: true }) inline: boolean = true;\n\n  // Styles are scoped to this element: they won't conflict with styles\n  // on the main page or in other components. Styling API can be exposed\n  // via CSS custom properties.\n  static styles = css`\n    :host {\n      display: flex;\n      align-items: center;\n      gap: var(--size-s);\n    }\n\n    :host([inline]) {\n      display: inline-flex;\n    }\n\n    img {\n      aspect-ratio: 1;\n\n      ${themePrimitives.fancy_shadow}\n    }\n\n    img.circle {\n      border-radius: var(--radius-round);\n    }\n\n    img.blob {\n      border-radius: var(--radius-blob-2);\n    }\n\n    .name {\n      font-size: var(--font-size-m);\n    }\n\n    .name:empty {\n      display: none;\n    }\n\n    * {\n      box-sizing: border-box;\n      min-width: 0;\n    }\n  `;\n\n  render() {\n    return html`<span class=\"name\">${this.name}</span>\n      <img\n        class=\"${this.variant}\"\n        style=\"width:${this.size}px;\"\n        src=\"${this.src}\"\n        alt=\"${this.alt}\"\n      />`;\n  }\n}\n", "import { css } from \"lit\";\nimport { customElement } from \"lit/decorators.js\";\nimport { LayoutContainer } from \"./layout-container\";\nimport {\n  CustomElementInputGetValue,\n  makeInputBinding,\n} from \"./shiny/make-input-binding\";\n\n/**\n * A dashboard that can have tabs and a sidebar. Supported children include\n * `<shiny-tab>` elements to add tabbed-navigation, and `<shiny-sidebar>`\n * elements to add a collapsible sidebar.\n *\n * @element shiny-dashboard\n *\n * @cssprop --dashboard-bg - The surface color of the dashboard.\n * @cssprop --dashboard-bg-image - The background image of the dashboard. Defaults to nothing\n * @cssprop --dashboard-padding - The padding of the dashboard.\n * @cssprop --dashboard-gap - The gap between elements in the dashboard.\n * @cssprop --dashboard-border - The border of the dashboard.\n * @cssprop --dashboard-shadow - The shadow of the dashboard.\n * @cssprop --dashboard-radius - The border radius of the dashboard.\n * @cssprop --dashboard-child-radius - The border radius of the dashboard's children. Defaults to nothing\n * @cssprop --dashboard-h - The height of the dashboard. Typically set by the `height` attribute instead of this variable.\n * @cssprop --dashboard-header-bg-color - The background color of the header. Defaults to `--surface-1`\n * @cssprop --dashboard-footer-bg-color - The background color of the footer. Defaults to `--surface-1`\n * @cssprop --dashboard-sidebar-bg-color - The background color of the sidebar. Defaults to `--surface-1`\n *\n */\n@customElement(\"shiny-dashboard\")\nexport class ShinyDashboard\n  extends LayoutContainer\n  implements CustomElementInputGetValue<string>\n{\n  static styles = [\n    LayoutContainer.styles,\n    css`\n      :host {\n        /* Map card-scoped variables to the underlying container variables */\n        --_dashboard-bg: var(--dashboard-bg, var(--surface-3));\n        --_dashboard-bg-image: var(--dashboard-bg-image, none);\n        --_dashboard-padding: var(--dashboard-padding, var(--size-s));\n        --_dashboard-gap: var(--dashboard-gap, var(--_dashboard-padding));\n        --_dashboard-border: var(--dashboard-border, var(--border-standard));\n        --_dashboard-shadow: var(--dashboard-shadow, var(--shadow-m));\n        --_dashboard-radius: var(--dashboard-radius, 0);\n        --_dashboard-child-radius: var(--dashboard-child-radius);\n        --_dashboard-h: var(--dashboard-h, 100%);\n\n        /* Color of header and footers */\n        --_dashboard-header-bg-color: var(\n          --dashboard-header-bg-color,\n          var(--surface-1)\n        );\n        --_dashboard-footer-bg-color: var(\n          --dashboard-footer-bg-color,\n          var(--surface-1)\n        );\n\n        /* Color of the sidebar */\n        --_dashboard-sidebar-bg-color: var(\n          --dashboard-sidebar-bg-color,\n          var(--surface-1)\n        );\n\n        /* Pass all the variables to the layout container */\n        --_layout-container-bg: var(--_dashboard-bg);\n        --_layout-container-padding: var(--_dashboard-padding);\n        --_layout-container-gap: var(--_dashboard-gap);\n        --_layout-container-border: var(--_dashboard-border);\n        --_layout-container-shadow: var(--_dashboard-shadow);\n        --_layout-container-radius: var(--_dashboard-radius);\n        --_layout-container-child-radius: var(--_dashboard-child-radius);\n        --_layout-container-h: var(--_dashboard-h);\n        --_layout-container-bg-image: var(--_dashboard-bg-image);\n      }\n\n      .sidebar {\n        background-color: var(--_dashboard-sidebar-bg-color);\n      }\n\n      .header {\n        background-color: var(--_dashboard-header-bg-color);\n      }\n\n      .footer {\n        background-color: var(--_dashboard-footer-bg-color);\n      }\n    `,\n  ];\n}\nmakeInputBinding(\"shiny-dashboard\");\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"shiny-dashboard\": ShinyDashboard;\n  }\n}\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n// setBasePath(\"https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.4.0/dist\");\n\n@customElement(\"shiny-section\")\nexport class Section extends LitElement {\n  @property() icon: string = \"\";\n\n  // Styles are scoped to this element: they won't conflict with styles\n  // on the main page or in other components. Styling API can be exposed\n  // via CSS custom properties.\n  static styles = css`\n    :host {\n      display: grid;\n      align-items: center;\n      grid-template-columns: var(--sidebar-content-columns, auto 1fr);\n      gap: var(--sidebar-content-gap, var(--size-m));\n      height: var(--sidebar-content-height, auto);\n      padding-block: var(--padding, 100px);\n    }\n\n    * {\n      box-sizing: border-box;\n      min-width: 0;\n    }\n\n    [closed] :host {\n      background-color: pink;\n    }\n\n    .icon {\n      font-size: var(--size-l);\n      text-align: center;\n    }\n\n    .content > ::slotted(h2) {\n      margin: 0;\n      padding-block: 0;\n    }\n\n    .content > ::slotted(*:last-child) {\n      margin-bottom: 0 !important;\n    }\n\n    .content {\n      overflow: var(--sidebar-content-overflow);\n      display: flex;\n      flex-direction: column;\n      gap: var(--size-s);\n    }\n  `;\n\n  render() {\n    return html`<div class=\"icon\">\n        ${this.icon && html`<shiny-icon name=${this.icon}></shiny-icon>`}\n        <slot name=\"icon\"></slot>\n      </div>\n      <div class=\"content\"><slot></slot></div>`;\n  }\n}\n", "import { LitElement, css, html } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport { setElAttr } from \"./set_el_attr\";\nimport { ShinyCard } from \"./shiny-card\";\nimport { ShinyDashboard } from \"./shiny-dashboard\";\nimport { Section } from \"./shiny-section\";\nimport { getElementsFromSlotChangeEvent } from \"./utils/getElementsFromSlotChangeEvent\";\n\n/**\n * A sidebar that can be opened and closed. It is intended to be used within a\n * `<shiny-dashboard>` or `<shiny-card>` component where it will automatically\n * be positioned correctly.\n *\n * If the children are all `<shiny-section>` elements then the sidebar will\n * collapse to icons on smaller screens. If the children are not all\n * `<shiny-section>` elements then the sidebar will collapse to a narrow bar\n * with the toggle to open it back visible.\n *\n * @element shiny-sidebar\n *\n * @cssprop {Color} --sidebar-bg - The background color of the sidebar. Defaults to `var(--surface-2)`.\n * @cssprop {Length} --sidebar-width - The width of the sidebar when it is open. Defaults to `var(--size-content-1)`.\n * @cssprop {Length} --sidebar-padding - The padding around the content and between items within the sidebar. Defaults to `var(--size-m)`.\n *\n */\n@customElement(\"shiny-sidebar\")\nexport class Sidebar extends LitElement {\n  /**\n   * Whether the sidebar is currently closed. This is a two-way binding so you\n   * can set it to true to close the sidebar or observe the property to know\n   * current state.\n   * @type {boolean}\n   * @reflect\n   */\n  @property({ type: Boolean, reflect: true }) closed: boolean = false;\n\n  /**\n   * The width of the sidebar when it is open, in pixels.\n   * @type {number}\n   */\n  @property({ type: Number }) openWidthPx: number = 320;\n\n  /**\n   * Whether the sidebar should collapse to icons on smaller screens. This is\n   * only applicable when the children of the sidebar are all `<shiny-section>`\n   * elements.\n   * @type {boolean}\n   * @reflect\n   */\n  @property({ type: Boolean, reflect: true }) collapseToIcons: boolean = false;\n\n  /**\n   * Whether the sidebar is in a dashboard or not. This is currentl used to\n   * determine whether to show a shadow on the sidebar or not.\n   */\n  @state() inDashboard: boolean = false;\n\n  static styles = css`\n    * {\n      box-sizing: border-box;\n    }\n\n    :host {\n      /* How much padding is around the content and between items within the\n      sidebar? This variable controls a lot of the visual appearance */\n      --padding: var(--sidebar-padding, var(--size-m));\n\n      /* Sizes related to the toggle icon */\n      --toggle-size: var(--padding);\n      --toggle-pad: calc(var(--padding) / 4);\n\n      /* Internal calculated properties - change at your own risk! */\n      --full-padded-w: calc(var(--toggle-size) + 2 * var(--toggle-pad));\n\n      /* TODO: Use container query units here if available */\n      --open-width: min(\n        var(\n          --sidebar-width,\n          calc((var(--size-content-1) + var(--size-content-2)) / 2)\n        ),\n        calc(100vw - (3 * var(--padding)))\n      );\n      --closed-width: var(--full-padded-w);\n\n      /* Animation for opening and closing */\n      --transition: var(--speed-fast) var(--ease-3);\n\n      /* All the variables that have \"*-content-*\" in their names are passed\n      through to the <shiny-section> tag that lets it know how to control its\n      content so that it can selectively hide or show the content associated\n      with an icon or not. I don't like how confusing it is and think something\n      like subgrid could help with this */\n      --section-icon-w: var(--size-l);\n      --sidebar-content-columns: var(--section-icon-w) 1fr;\n      --sidebar-content-gap: var(--padding);\n\n      height: 100%;\n      display: flex;\n      flex-direction: column;\n      background-color: var(--sidebar-bg, var(--surface-1));\n      width: var(--open-width);\n      transition: width var(--transition), padding var(--transition);\n    }\n\n    :host([closed]) {\n      width: var(--closed-width);\n      cursor: e-resize;\n      overflow: hidden;\n    }\n\n    /* Leave the sidebar wide enough to view the icons */\n    :host([collapseToIcons]) {\n      --closed-width: calc(var(--section-icon-w) + (2 * var(--padding)));\n    }\n\n    .content {\n      height: 100%;\n      overflow: auto;\n      padding-inline: var(--padding);\n      display: flex;\n      flex-direction: column;\n      background-color: inherit;\n      width: var(--open-width);\n\n      /* Move content up a bit so there's not an awkward amount of space before\n      content starts */\n      margin-top: calc(-2 * var(--toggle-pad));\n      transition: opacity var(--transition);\n    }\n\n    /* For the normal sidebar collapse we want the opacity to go to zero when\n    collapsed so the content doesn't show */\n    :host([closed]:not([collapseToIcons])) .content {\n      opacity: 0;\n    }\n\n    /* Styles for when the sidebar is in a very small container such as a card\n    or mobile device */\n    @container (max-width: 700px) {\n      :host {\n        width: var(--closed-width);\n        z-index: 10;\n      }\n\n      .container {\n        /* When on small screens we want the sidebar to slide over the main\n        content rather than pushing it out of the way */\n        position: absolute;\n        background-color: inherit;\n        width: var(--open-width);\n        height: 100%;\n        overflow: hidden;\n        border-right: var(--border-standard);\n      }\n\n      .container.dashboard-sidebar {\n        box-shadow: var(--shadow-l);\n      }\n\n      :host([closed]) .container {\n        width: var(--closed-width);\n      }\n    }\n\n    .content > ::slotted(shiny-section) {\n      border-bottom: var(--border-normal);\n    }\n\n    .content > ::slotted(shiny-section:last-child) {\n      border-bottom: none;\n    }\n\n    .toggle-icon {\n      /* Resting state has a lower opacity to not make the toggle standout so\n      much and distract from content */\n      opacity: 0.5;\n      font-size: var(--font-size-l);\n      color: var(--text-3);\n      cursor: pointer;\n      user-select: none;\n\n      /* Make sure we're always the same distance from the right of the sidebar\n      when we're closed or open */\n      margin-inline-start: auto;\n      margin-inline-end: 0;\n      width: var(--full-padded-w);\n      height: var(--full-padded-w);\n      padding: var(--toggle-pad);\n\n      /* Make sure the icon itself is nice and centered */\n      display: grid;\n      place-content: center;\n\n      /* We use a transform to flip icon to a collapse icon and also increase\n      the opacity on hover, we animate these to look _cool_ */\n      transition: transform var(--transition), opacity var(--transition);\n    }\n\n    /* Give feedback of action on hover */\n    .toggle-icon:hover {\n      opacity: 1;\n    }\n\n    /* When we're closed we invert the icon on the x-axis to make it an expand\n    icon */\n    :host([closed]) .toggle-icon {\n      transform: scaleX(-1);\n    }\n  `;\n\n  constructor() {\n    super();\n    setElAttr(this, \"slot\", \"sidebar\");\n\n    this.addEventListener(\"click\", (e) => {\n      if (!this.closed) return;\n\n      this.toggleClosed();\n    });\n  }\n\n  /**\n   * Toggles the `closed` property on the sidebar which will be reflected in\n   * styles.\n   */\n  toggleClosed() {\n    this.closed = !this.closed;\n  }\n\n  /**\n   * Handles the click event on the toggle button. This is a separate function\n   * so that we can stop propagation of the event.\n   * @param e - The click event.\n   * @returns void\n   */\n  handleToggleBtnClick(e: MouseEvent) {\n    e.stopPropagation();\n    this.toggleClosed();\n  }\n\n  /**\n   * The list of elements that are allowed to be containers for the sidebar.\n   * Currently, the known containers are `shiny-dashboard` and `shiny-card`. If\n   * more containers are added in the future, this list will need to be updated\n   * to generalize the search.\n   * @static\n   * @private\n   * @memberof Sidebar\n   * @readonly\n   */\n  static allowedContainers = [ShinyDashboard, ShinyCard];\n\n  /**\n   * Recursively searches for the closest parent element that is a known container\n   * for the sidebar.\n   *\n   * @param sidebar - The sidebar element to start the search from.\n   * @returns The closest parent element that is a known container for the sidebar,\n   * or `null` if no container is found.\n   */\n  findSidebarContainer(sidebar: HTMLElement): HTMLElement | null {\n    // If we don't find a container then we'll just return the body element\n    const parent = sidebar.parentElement;\n    if (!parent) {\n      return null;\n    }\n\n    // Special case where we let the sidebar know it's in a dashboard\n    if (parent instanceof ShinyDashboard) {\n      this.inDashboard = true;\n      return parent;\n    }\n\n    const parentIsContainer = Sidebar.allowedContainers.some(\n      (p) => parent instanceof p\n    );\n\n    if (parentIsContainer) {\n      return parent;\n    }\n\n    return this.findSidebarContainer(parent);\n  }\n\n  /**\n   * Checks if the sidebar is in a small container and if so, automatically\n   * collapses the sidebar to avoid it taking up too much space.\n   */\n  autoCollapseOnSmallScreens() {\n    const container = this.findSidebarContainer(this);\n    if (container && container.clientWidth < 700) {\n      this.closed = true;\n    }\n  }\n\n  /**\n   * When the children of the sidebar change, we check if they are all\n   * `<shiny-section>` elements. If they are, we collapse the sidebar to icons\n   * on smaller screens.\n   * @param e - The slotchange event.\n   * @returns void\n   */\n  watchForIconSectionChildren(e: Event) {\n    const elementsInSlot = getElementsFromSlotChangeEvent(e);\n\n    // If we exclusivly have <shiny-section> elements in the sidebar then we should enable the icon collapse mode\n    const hasOnlySections = elementsInSlot.every((el) => el instanceof Section);\n\n    this.collapseToIcons = elementsInSlot.length > 0 && hasOnlySections;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.autoCollapseOnSmallScreens();\n  }\n\n  render() {\n    const toggleLabel = this.closed ? \"Open sidebar\" : \"Close sidebar\";\n    return html`\n      <div class=\"container ${this.inDashboard ? \"dashboard-sidebar\" : \"\"}\">\n        <div>\n          <div\n            class=\"toggle-icon\"\n            @click=${this.handleToggleBtnClick}\n            aria-label=${toggleLabel}\n            title=${toggleLabel}\n          >\n            <shiny-icon name=\"ri:expand-left-line\"></shiny-icon>\n          </div>\n        </div>\n        <div class=\"content\" style=\"--sidebar-width: ${this.openWidthPx}px;\">\n          <slot @slotchange=${this.watchForIconSectionChildren}></slot>\n        </div>\n      </div>\n    `;\n  }\n}\n", "import { LitElement, css, html } from \"lit\";\nimport { makeValueChangeEmitter } from \"./make_value_change_emitter\";\nimport {\n  CustomElementInputValue,\n  makeInputBinding,\n} from \"./shiny/make-input-binding\";\n\nexport class SimpleNumberInput\n  extends LitElement\n  implements CustomElementInputValue<number>\n{\n  min: number = 0;\n  max: number = 10;\n  value: number = (this.min + this.max) / 2;\n  invalid: boolean = false;\n\n  onChangeCallback = (x: boolean) => {};\n  onValueChange = makeValueChangeEmitter(this, this.id);\n\n  static properties = {\n    min: { type: Number },\n    max: { type: Number },\n    value: { type: Number },\n    invalid: { type: Boolean },\n  };\n\n  static styles = css`\n    :host {\n      --inline-padding: var(--number-input-padding-inline, var(--size-xs));\n      --block-padding: var(--number-input-padding-block, var(--size-xs));\n\n      font-size: var(--number-input-font-size, var(--font-size-3));\n      position: relative;\n      width: var(--number-input-width, fit-content);\n      height: var(--number-input-height, fit-content);\n    }\n\n    .wrapper {\n      display: inline-flex;\n      background-color: var(\n        --number-input-bg-color,\n        var(--sl-input-background-color)\n      );\n      background-image: var(--number-input-bg-image);\n      color: var(--number-input-text-color, var(--sl-input-color));\n      border: none;\n      border-radius: var(\n        --number-input-border-radius,\n        var(--sl-border-radius-pill)\n      );\n      outline: var(--number-input-border-width, var(--sl-input-border-width))\n        solid var(--number-input-border-color, var(--sl-input-border-color));\n      padding-inline: var(--inline-padding);\n      padding-block: var(--block-padding);\n    }\n\n    .wrapper.invalid {\n      outline-color: var(--warning);\n    }\n\n    input {\n      font-size: inherit;\n      border: none;\n      background-color: transparent;\n      color: inherit;\n      outline-width: 0;\n      text-align: center;\n    }\n\n    input:focus-visible {\n      outline-width: 0;\n    }\n\n    /* Hide the number input's spin buttons */\n\n    /* Chrome, Safari, Edge, Opera */\n    input::-webkit-outer-spin-button,\n    input::-webkit-inner-spin-button {\n      -webkit-appearance: none;\n      margin: 0;\n    }\n\n    /* Firefox */\n    input[type=\"number\"] {\n      -moz-appearance: textfield;\n    }\n\n    .plusminus {\n      font-size: inherit;\n      border: var(--number-input-plusminus-border, none);\n      background-color: transparent;\n      color: inherit;\n    }\n\n    .plusminus:hover {\n      cursor: pointer;\n    }\n\n    .plusminus.left {\n      padding-inline-start: var(--inline-padding);\n    }\n\n    .plusminus.right {\n      padding-inline-end: var(--inline-padding);\n    }\n\n    .validation-msg {\n      position: absolute;\n\n      /* margin-left: var(--space-x-small); */\n      font-size: var(\n        --number-input-warning-font-size,\n        var(--sl-font-size-x-small)\n      );\n      top: calc(115%);\n      color: var(--warning);\n      transform: scaleX(0);\n      transition: transform var(--sl-transition-fast) var(--ease-squish-2);\n      transform-origin: left;\n    }\n\n    .wrapper.invalid .validation-msg {\n      transform: scaleX(1);\n    }\n  `;\n\n  getInputElement(): HTMLInputElement {\n    return this.shadowRoot!.querySelector(\"input\")!;\n  }\n\n  handleMinus(e: InputEvent | KeyboardEvent) {\n    // Cases:\n    // - inputValue is min or less : set to min\n    // - inputValue is between (min, max] : set to inputValue - 1\n    // - inputValue is greater than max : set to max\n    // - inputValue is NaN : set to min\n    const inputValue = this.getInputElement().valueAsNumber;\n    let newValue;\n\n    if (isNaN(inputValue)) {\n      newValue = this.min;\n    } else {\n      newValue = clamp(inputValue - 1, this.min, this.max);\n    }\n\n    this.getInputElement().value = newValue.toString();\n    this.value = newValue;\n    this.invalid = false;\n    this.alertOfChange();\n  }\n\n  handlePlus(e: InputEvent | KeyboardEvent) {\n    const inputValue = this.getInputElement().valueAsNumber;\n    let newValue;\n\n    if (isNaN(inputValue)) {\n      newValue = this.max;\n    } else {\n      newValue = clamp(inputValue + 1, this.min, this.max);\n    }\n\n    this.getInputElement().value = newValue.toString();\n    this.value = newValue;\n    this.invalid = false;\n    this.alertOfChange();\n  }\n\n  handleChange(e: InputEvent) {\n    const inputValue = (e.target as HTMLInputElement).valueAsNumber;\n    const clampedValue = clamp(inputValue, this.min, this.max);\n\n    if (clampedValue === inputValue) {\n      this.value = clampedValue;\n      this.invalid = false;\n      this.alertOfChange();\n    } else {\n      this.invalid = true;\n    }\n  }\n\n  alertOfChange() {\n    this.onChangeCallback(true); // Tell the output binding we've changed\n    this.onValueChange({ type: \"number\", value: this.value });\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    // Attempt to send message about value as late as possible so watchers can still\n    // pick it up.\n    setTimeout(() => {\n      this.alertOfChange();\n    }, 2);\n  }\n\n  render() {\n    return html`\n      <div class=\"wrapper ${this.invalid ? \"invalid\" : null}\">\n        <button\n          part=\"minus-button\"\n          class=\"plusminus left\"\n          @mousedown=${this.handleMinus}\n          @keydown=${(e: KeyboardEvent) => {\n            if (e.code === \"Space\") this.handleMinus(e);\n          }}\n        >\n          \u2212</button\n        ><input\n          part=\"input\"\n          value=${this.value}\n          min=${this.min}\n          max=${this.max}\n          @input=${this.handleChange}\n          type=\"number\"\n        /><button\n          part=\"plus-button\"\n          class=\"plusminus right\"\n          @mousedown=${this.handlePlus}\n          @keydown=${(e: KeyboardEvent) => {\n            if (e.code === \"Space\") this.handlePlus(e);\n          }}\n        >\n          +\n        </button>\n        <span class=\"validation-msg\"\n          >Make sure your number is between ${this.min} and ${this.max}</span\n        >\n      </div>\n    `;\n  }\n}\n\n// Register both the custom element and the input bindings\ncustomElements.define(\"simple-number-input\", SimpleNumberInput);\nmakeInputBinding(\"simple-number-input\");\n\nfunction clamp(x: number, min: number, max: number): number {\n  return Math.max(Math.min(x, max), min);\n}\n", "import { LitElement, css, html } from \"lit\";\nimport {\n  DataPassingEventWatcher,\n  dummyDataPassingWatcher,\n  makeDataPassingWatcher,\n} from \"./make_value_change_emitter\";\n\nexport class SimpleNumberOutput extends LitElement {\n  value: number | null = null;\n  watch: string = \"\";\n\n  watcher: DataPassingEventWatcher = dummyDataPassingWatcher;\n\n  static properties = {\n    value: { type: Number },\n    watch: { type: String },\n  };\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    this.watcher = makeDataPassingWatcher(this.watch, (payload) => {\n      if (payload.type !== \"number\") {\n        console.error(\"Expected number, got\", payload.value);\n        return;\n      }\n      this.value = payload.value;\n    });\n  }\n\n  static styles = css`\n    .value {\n      display: block;\n      font-size: var(--font-size-m);\n      background-color: var(--surface-3);\n    }\n  `;\n\n  render() {\n    return html` <div class=\"value\">Your number is: ${this.value}</div> `;\n  }\n}\n// Register both the custom element and the input bindings\ncustomElements.define(\"simple-number-output\", SimpleNumberOutput);\n", "import { css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\nimport { LayoutContainer } from \"../layout-container\";\nimport { cardVariables } from \"../shiny-card\";\n\n/**\n * A custom element representing a tab that is consumed by the\n * `<shiny-dashboard>` element.\n *\n * The default title of the tab is just the string provided by the `name`\n * attribute. However, you can also add an icon with the `icon` attribute. or\n * you can use the complementary `<tab-label` element to provide a more complex\n * label. Note that the id of the tab will still be the `name` attribute,\n * regardless of what your label says.\n *\n * @prop {string} name - The name of the tab. This is also used as the id\n * returned when treating the tabset as an input\n * @prop {string} icon - Optional icon of the tab. If this is provided the icon\n * will be prefixed to the tab label before the name. This will be ignored if a\n * `<tab-label>` element is provided.\n * @prop {boolean} cardStyle - Whether to use a more card-like style for the\n * tab. This is useful when using the tab as a card. When set to true the tab\n * will obey styling like the `shiny-card` element, including the `card-`\n * prefixed variables.\n *\n * @element shiny-tab\n *\n * @cssprop --tab-padding - The padding of the tab.\n * @cssprop --tab-margin - The margin of the tab. Defaults to 0 (or `--size-s`\n * when `cardStyle=true`).\n */\n@customElement(\"shiny-tab\")\nexport class Tab extends LayoutContainer {\n  /**\n   * The name of the tab. This is also used as the id returned when treating the tabset as an input\n   *\n   * @attr name\n   * @type {string}\n   */\n  @property({ type: String }) name: string = \"tab\";\n\n  /**\n   * Optional icon of the tab. If this is provided the icon will be prefixed to\n   * the tab label before the name. This will be ignored if a `<tab-label>`\n   * element is provided.\n   *\n   * @attr icon\n   * @type {string}\n   */\n  @property({ type: String }) icon: string = \"\";\n\n  /**\n   * Whether to use a more card-like style for the tab. This is useful when\n   * using the tab as a card.\n   * @attr card-style\n   * @type {boolean}\n   * @default false\n   */\n  @property({ type: Boolean, reflect: true }) cardStyle: boolean = false;\n\n  static styles = [\n    LayoutContainer.styles,\n    css`\n      :host {\n        /*  Available things to customize for the tab */\n        --_tab-padding: var(--tab-padding, var(--size-s));\n        --_tab-border: var(--tab-border);\n        --_tab-shadow: var(--tab-shadow);\n        --_tab-margin: var(--tab-margin, 0);\n\n        /* Map tab-scoped variables to the underlying container variables */\n        --_layout-container-padding: var(--_tab-padding);\n        --_layout-container-border: var(--_tab-border);\n        --_layout-container-shadow: var(--_tab-shadow);\n\n        margin: var(--_tab-margin);\n        position: relative;\n      }\n\n      :host([aria-hidden]) {\n        display: none;\n      }\n\n      :host([card-style]) {\n        --_tab-margin: var(--tab-margin, var(--size-s));\n\n        ${cardVariables}\n      }\n    `,\n  ];\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"shiny-tab\": Tab;\n  }\n}\n", "import type { SlChangeEvent } from \"@shoelace-style/shoelace\";\nimport { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nconst themes = [\"default\", \"light\", \"dark\", \"dim\", \"grape\", \"choco\"] as const;\ntype Theme = (typeof themes)[number];\n\n@customElement(\"theme-chooser\")\nexport class ThemeChooser extends LitElement {\n  @property({ reflect: true }) choice: Theme = themes[0];\n\n  static styles = css`\n    input {\n      border-radius: var(--radius-s);\n    }\n  `;\n\n  handleChange(e: SlChangeEvent) {\n    const radios = this.shadowRoot!.querySelector(\"forge-input-radio-buttons\")!;\n    this.choice = radios.getValue() as Theme;\n\n    if (this.choice === \"default\") {\n      delete document.documentElement.dataset[\"shinytheme\"];\n      return;\n    }\n    document.documentElement.dataset[\"shinytheme\"] = this.choice;\n  }\n\n  constructor() {\n    super();\n    this.addEventListener(\"sl-change\", this.handleChange);\n  }\n\n  render() {\n    return html`\n      <forge-input-radio-buttons\n        choices=${JSON.stringify(themes)}\n        selected=\"default\"\n        size=\"small\"\n        inline\n        button\n        pill\n      >\n      </forge-input-radio-buttons>\n    `;\n  }\n}\n", "// A is m x n. B is n x p. product is m x p.\nexport default function multiplyMatrices (A, B) {\n\tlet m = A.length;\n\n\tif (!Array.isArray(A[0])) {\n\t\t// A is vector, convert to [[a, b, c, ...]]\n\t\tA = [A];\n\t}\n\n\tif (!Array.isArray(B[0])) {\n\t\t// B is vector, convert to [[a], [b], [c], ...]]\n\t\tB = B.map(x => [x]);\n\t}\n\n\tlet p = B[0].length;\n\tlet B_cols = B[0].map((_, i) => B.map(x => x[i])); // transpose B\n\tlet product = A.map(row => B_cols.map(col => {\n\t\tlet ret = 0;\n\n\t\tif (!Array.isArray(row)) {\n\t\t\tfor (let c of col) {\n\t\t\t\tret += row * c;\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\n\t\tfor (let i=0; i < row.length; i++) {\n\t\t\tret += row[i] * (col[i] || 0);\n\t\t}\n\n\t\treturn ret;\n\t}));\n\n\tif (m === 1) {\n\t\tproduct = product[0]; // Avoid [[a, b, c, ...]]\n\t}\n\n\tif (p === 1) {\n\t\treturn product.map(x => x[0]); // Avoid [[a], [b], [c], ...]]\n\t}\n\n\treturn product;\n}\n", "/**\n * Various utility functions\n */\n\nexport {default as multiplyMatrices} from \"./multiply-matrices.js\";\n\n/**\n * Check if a value is a string (including a String object)\n * @param {*} str - Value to check\n * @returns {boolean}\n */\nexport function isString (str) {\n\treturn type(str) === \"string\";\n}\n\n/**\n * Determine the internal JavaScript [[Class]] of an object.\n * @param {*} o - Value to check\n * @returns {string}\n */\nexport function type (o) {\n\tlet str = Object.prototype.toString.call(o);\n\n\treturn (str.match(/^\\[object\\s+(.*?)\\]$/)[1] || \"\").toLowerCase();\n}\n\n/**\n * Round a number to a certain number of significant digits\n * @param {number} n - The number to round\n * @param {number} precision - Number of significant digits\n */\nexport function toPrecision (n, precision) {\n\tn = +n;\n\tprecision = +precision;\n\tlet integerLength = (Math.floor(n) + \"\").length;\n\n\tif (precision > integerLength) {\n\t\treturn +n.toFixed(precision - integerLength);\n\t}\n\telse {\n\t\tlet p10 = 10 ** (integerLength - precision);\n\t\treturn Math.round(n / p10) * p10;\n\t}\n}\n\n/**\n* Parse a CSS function, regardless of its name and arguments\n* @param String str String to parse\n* @return {{name, args, rawArgs}}\n*/\nexport function parseFunction (str) {\n\tif (!str) {\n\t\treturn;\n\t}\n\n\tstr = str.trim();\n\n\tconst isFunctionRegex = /^([a-z]+)\\((.+?)\\)$/i;\n\tconst isNumberRegex = /^-?[\\d.]+$/;\n\tlet parts = str.match(isFunctionRegex);\n\n\tif (parts) {\n\t\t// It is a function, parse args\n\t\tlet args = [];\n\t\tparts[2].replace(/\\/?\\s*([-\\w.]+(?:%|deg)?)/g, ($0, arg) => {\n\t\t\tif (/%$/.test(arg)) {\n\t\t\t\t// Convert percentages to 0-1 numbers\n\t\t\t\targ = new Number(arg.slice(0, -1) / 100);\n\t\t\t\targ.type = \"<percentage>\";\n\t\t\t}\n\t\t\telse if (/deg$/.test(arg)) {\n\t\t\t\t// Drop deg from degrees and convert to number\n\t\t\t\t// TODO handle other units too\n\t\t\t\targ = new Number(+arg.slice(0, -3));\n\t\t\t\targ.type = \"<angle>\";\n\t\t\t\targ.unit = \"deg\";\n\t\t\t}\n\t\t\telse if (isNumberRegex.test(arg)) {\n\t\t\t\t// Convert numerical args to numbers\n\t\t\t\targ = new Number(arg);\n\t\t\t\targ.type = \"<number>\";\n\t\t\t}\n\n\t\t\tif ($0.startsWith(\"/\")) {\n\t\t\t\t// It's alpha\n\t\t\t\targ = arg instanceof Number? arg : new Number(arg);\n\t\t\t\targ.alpha = true;\n\t\t\t}\n\n\t\t\targs.push(arg);\n\t\t});\n\n\t\treturn {\n\t\t\tname: parts[1].toLowerCase(),\n\t\t\trawName: parts[1],\n\t\t\trawArgs: parts[2],\n\t\t\t// An argument could be (as of css-color-4):\n\t\t\t// a number, percentage, degrees (hue), ident (in color())\n\t\t\targs\n\t\t};\n\t}\n}\n\nexport function last (arr) {\n\treturn arr[arr.length - 1];\n}\n\nexport function interpolate (start, end, p) {\n\tif (isNaN(start)) {\n\t\treturn end;\n\t}\n\n\tif (isNaN(end)) {\n\t\treturn start;\n\t}\n\n\treturn start + (end - start) * p;\n}\n\nexport function interpolateInv (start, end, value) {\n\treturn (value - start) / (end - start);\n}\n\nexport function mapRange (from, to, value) {\n\treturn interpolate(to[0], to[1], interpolateInv(from[0], from[1], value));\n}\n\nexport function parseCoordGrammar (coordGrammars) {\n\treturn coordGrammars.map(coordGrammar => {\n\t\treturn coordGrammar.split(\"|\").map(type => {\n\t\t\ttype = type.trim();\n\t\t\tlet range = type.match(/^(<[a-z]+>)\\[(-?[.\\d]+),\\s*(-?[.\\d]+)\\]?$/);\n\n\t\t\tif (range) {\n\t\t\t\tlet ret = new String(range[1]);\n\t\t\t\tret.range = [+range[2], +range[3]];\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\treturn type;\n\t\t});\n\t});\n}\n", "/**\n * A class for adding deep extensibility to any piece of JS code\n */\nexport class Hooks {\n\tadd (name, callback, first) {\n\t\tif (typeof arguments[0] != \"string\") {\n\t\t\t// Multiple hooks\n\t\t\tfor (var name in arguments[0]) {\n\t\t\t\tthis.add(name, arguments[0][name], arguments[1]);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\t(Array.isArray(name)? name : [name]).forEach(function (name) {\n\t\t\tthis[name] = this[name] || [];\n\n\t\t\tif (callback) {\n\t\t\t\tthis[name][first? \"unshift\" : \"push\"](callback);\n\t\t\t}\n\t\t}, this);\n\t}\n\n\trun (name, env) {\n\t\tthis[name] = this[name] || [];\n\t\tthis[name].forEach(function (callback) {\n\t\t\tcallback.call(env && env.context? env.context : env, env);\n\t\t});\n\t}\n};\n\n/**\n * The instance of {@link Hooks} used throughout Color.js\n */\nconst hooks = new Hooks();\n\nexport default hooks;\n", "// Global defaults one may want to configure\nconst hasDOM = typeof document !== \"undefined\";\n\nexport default {\n\tgamut_mapping: \"lch.c\",\n\tprecision: 5,\n\tdeltaE: \"76\", // Default deltaE method\n};\n", "import hooks from \"./hooks.js\";\nimport {multiplyMatrices} from \"./util.js\";\n\nexport const WHITES = {\n\t// for compatibility, the four-digit chromaticity-derived ones everyone else uses\n\tD50: [0.3457 / 0.3585, 1.00000, (1.0 - 0.3457 - 0.3585) / 0.3585],\n\tD65: [0.3127 / 0.3290, 1.00000, (1.0 - 0.3127 - 0.3290) / 0.3290],\n};\n\nexport function getWhite (name) {\n\tif (Array.isArray(name)) {\n\t\treturn name;\n\t}\n\n\treturn WHITES[name];\n}\n\n// Adapt XYZ from white point W1 to W2\nexport default function adapt (W1, W2, XYZ, options = {}) {\n\tW1 = getWhite(W1);\n\tW2 = getWhite(W2);\n\n\tif (!W1 || !W2) {\n\t\tthrow new TypeError(`Missing white point to convert ${!W1? \"from\" : \"\"}${!W1&&!W2? \"/\" : \"\"}${!W2? \"to\" : \"\"}`);\n\t}\n\n\tif (W1 === W2) {\n\t\t// Same whitepoints, no conversion needed\n\t\treturn XYZ;\n\t}\n\n\tlet env = {W1, W2, XYZ, options};\n\n\thooks.run(\"chromatic-adaptation-start\", env);\n\n\tif (!env.M) {\n\t\tif (env.W1 === WHITES.D65 && env.W2 === WHITES.D50) {\n\t\t\tenv.M = [\n\t\t\t\t[  1.0479298208405488,    0.022946793341019088,  -0.05019222954313557 ],\n\t\t\t\t[  0.029627815688159344,  0.990434484573249,     -0.01707382502938514 ],\n\t\t\t\t[ -0.009243058152591178,  0.015055144896577895,   0.7518742899580008  ]\n\t\t\t];\n\t\t}\n\t\telse if (env.W1 === WHITES.D50 && env.W2 === WHITES.D65) {\n\n\t\t\tenv.M = [\n\t\t\t\t[  0.9554734527042182,   -0.023098536874261423,  0.0632593086610217   ],\n\t\t\t\t[ -0.028369706963208136,  1.0099954580058226,    0.021041398966943008 ],\n\t\t\t\t[  0.012314001688319899, -0.020507696433477912,  1.3303659366080753   ]\n\t\t\t];\n\t\t}\n\t}\n\n\thooks.run(\"chromatic-adaptation-end\", env);\n\n\tif (env.M) {\n\t\treturn multiplyMatrices(env.M, env.XYZ);\n\t}\n\telse {\n\t\tthrow new TypeError(\"Only Bradford CAT with white points D50 and D65 supported for now.\");\n\t}\n}\n", "import {type, parseCoordGrammar, toPrecision, mapRange} from \"./util.js\";\nimport {getWhite} from \"./adapt.js\";\nimport hooks from \"./hooks.js\";\n\nconst ε = .000075;\n\n/**\n * Class to represent a color space\n */\nexport default class ColorSpace {\n\tconstructor (options) {\n\t\tthis.id = options.id;\n\t\tthis.name = options.name;\n\t\tthis.base = options.base ? ColorSpace.get(options.base) : null;\n\t\tthis.aliases = options.aliases;\n\n\t\tif (this.base) {\n\t\t\tthis.fromBase = options.fromBase;\n\t\t\tthis.toBase = options.toBase;\n\t\t}\n\n\t\t// Coordinate metadata\n\n\t\tlet coords = options.coords ?? this.base.coords;\n\n\t\tfor (let name in coords) {\n\t\t\tif (!(\"name\" in coords[name])) {\n\t\t\t\tcoords[name].name = name;\n\t\t\t}\n\t\t}\n\t\tthis.coords = coords;\n\n\t\t// White point\n\n\t\tlet white = options.white ?? this.base.white ?? \"D65\";\n\t\tthis.white = getWhite(white);\n\n\t\t// Sort out formats\n\n\t\tthis.formats = options.formats ?? {};\n\n\t\tfor (let name in this.formats) {\n\t\t\tlet format = this.formats[name];\n\t\t\tformat.type ||= \"function\";\n\t\t\tformat.name ||= name;\n\t\t}\n\n\t\tif (options.cssId && !this.formats.functions?.color) {\n\t\t\tthis.formats.color = { id: options.cssId };\n\t\t\tObject.defineProperty(this, \"cssId\", {value: options.cssId});\n\t\t}\n\t\telse if (this.formats?.color && !this.formats?.color.id) {\n\t\t\tthis.formats.color.id = this.id;\n\t\t}\n\n\t\t// Other stuff\n\t\tthis.referred = options.referred;\n\n\t\t// Compute ancestors and store them, since they will never change\n\t\tObject.defineProperty(this, \"path\", {\n\t\t\tvalue: getPath(this).reverse(),\n\t\t\twritable: false,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t});\n\n\t\thooks.run(\"colorspace-init-end\", this);\n\t}\n\n\tinGamut (coords, {epsilon = ε} = {}) {\n\t\tif (this.isPolar) {\n\t\t\t// Do not check gamut through polar coordinates\n\t\t\tcoords = this.toBase(coords);\n\n\t\t\treturn this.base.inGamut(coords, {epsilon});\n\t\t}\n\n\t\tlet coordMeta = Object.values(this.coords);\n\n\t\treturn coords.every((c, i) => {\n\t\t\tlet meta = coordMeta[i];\n\n\t\t\tif (meta.type !== \"angle\" && meta.range) {\n\t\t\t\tif (Number.isNaN(c)) {\n\t\t\t\t\t// NaN is always in gamut\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\tlet [min, max] = meta.range;\n\t\t\t\treturn (min === undefined || c >= min - epsilon)\n\t\t\t\t    && (max === undefined || c <= max + epsilon);\n\t\t\t}\n\n\t\t\treturn true;\n\t\t});\n\t}\n\n\tget cssId () {\n\t\treturn this.formats.functions?.color?.id || this.id;\n\t}\n\n\tget isPolar () {\n\t\tfor (let id in this.coords) {\n\t\t\tif (this.coords[id].type === \"angle\") {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tgetFormat (format) {\n\t\tif (typeof format === \"object\") {\n\t\t\tformat = processFormat(format, this);\n\t\t\treturn format;\n\t\t}\n\n\t\tlet ret;\n\t\tif (format === \"default\") {\n\t\t\t// Get first format\n\t\t\tret = Object.values(this.formats)[0];\n\t\t}\n\t\telse {\n\t\t\tret = this.formats[format];\n\t\t}\n\n\t\tif (ret) {\n\t\t\tret = processFormat(ret, this);\n\t\t\treturn ret;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t// We cannot rely on simple === because then ColorSpace objects cannot be proxied\n\tequals (space) {\n\t\tif (!space) {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn this === space || this.id === space.id;\n\t}\n\n\tto (space, coords) {\n\t\tif (arguments.length === 1) {\n\t\t\t[space, coords] = [space.space, space.coords];\n\t\t}\n\n\t\tspace = ColorSpace.get(space);\n\n\t\tif (this.equals(space)) {\n\t\t\t// Same space, no change needed\n\t\t\treturn coords;\n\t\t}\n\n\t\t// Convert NaN to 0, which seems to be valid in every coordinate of every color space\n\t\tcoords = coords.map(c => Number.isNaN(c)? 0 : c);\n\n\t\t// Find connection space = lowest common ancestor in the base tree\n\t\tlet myPath = this.path;\n\t\tlet otherPath = space.path;\n\n\t\tlet connectionSpace, connectionSpaceIndex;\n\n\t\tfor (let i=0; i < myPath.length; i++) {\n\t\t\tif (myPath[i].equals(otherPath[i])) {\n\t\t\t\tconnectionSpace = myPath[i];\n\t\t\t\tconnectionSpaceIndex = i;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tif (!connectionSpace) {\n\t\t\t// This should never happen\n\t\t\tthrow new Error(`Cannot convert between color spaces ${this} and ${space}: no connection space was found`);\n\t\t}\n\n\t\t// Go up from current space to connection space\n\t\tfor (let i = myPath.length - 1; i > connectionSpaceIndex; i--) {\n\t\t\tcoords = myPath[i].toBase(coords);\n\t\t}\n\n\t\t// Go down from connection space to target space\n\t\tfor (let i = connectionSpaceIndex + 1; i < otherPath.length; i++) {\n\t\t\tcoords = otherPath[i].fromBase(coords);\n\t\t}\n\n\t\treturn coords;\n\t}\n\n\tfrom (space, coords) {\n\t\tif (arguments.length === 1) {\n\t\t\t[space, coords] = [space.space, space.coords];\n\t\t}\n\n\t\tspace = ColorSpace.get(space);\n\n\t\treturn space.to(this, coords);\n\t}\n\n\ttoString () {\n\t\treturn `${this.name} (${this.id})`;\n\t}\n\n\tgetMinCoords () {\n\t\tlet ret = [];\n\n\t\tfor (let id in this.coords) {\n\t\t\tlet meta = this.coords[id];\n\t\t\tlet range = meta.range || meta.refRange;\n\t\t\tret.push(range?.min ?? 0);\n\t\t}\n\n\t\treturn ret;\n\t}\n\n\tstatic registry = {};\n\n\t// Returns array of unique color spaces\n\tstatic get all () {\n\t\treturn [...new Set(Object.values(ColorSpace.registry))];\n\t}\n\n\tstatic register (id, space) {\n\t\tif (arguments.length === 1) {\n\t\t\tspace = arguments[0];\n\t\t\tid = space.id;\n\t\t}\n\n\t\tspace = this.get(space);\n\n\t\tif (this.registry[id] && this.registry[id] !== space) {\n\t\t\tthrow new Error(`Duplicate color space registration: '${id}'`);\n\t\t}\n\t\tthis.registry[id] = space;\n\n\t\t// Register aliases when called without an explicit ID.\n\t\tif (arguments.length === 1 && space.aliases) {\n\t\t\tfor (let alias of space.aliases) {\n\t\t\t\tthis.register(alias, space);\n\t\t\t}\n\t\t}\n\n\t\treturn space;\n\t}\n\n\t/**\n\t * Lookup ColorSpace object by name\n\t * @param {ColorSpace | string} name\n\t */\n\tstatic get (space, ...alternatives) {\n\t\tif (!space || space instanceof ColorSpace) {\n\t\t\treturn space;\n\t\t}\n\n\t\tlet argType = type(space);\n\n\t\tif (argType === \"string\") {\n\t\t\t// It's a color space id\n\t\t\tlet ret = ColorSpace.registry[space.toLowerCase()];\n\n\t\t\tif (!ret) {\n\t\t\t\tthrow new TypeError(`No color space found with id = \"${space}\"`);\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t}\n\n\t\tif (alternatives.length) {\n\t\t\treturn ColorSpace.get(...alternatives);\n\t\t}\n\n\t\tthrow new TypeError(`${space} is not a valid color space`);\n\t}\n\n\t/**\n\t * Get metadata about a coordinate of a color space\n\t *\n\t * @static\n\t * @param {Array | string} ref\n\t * @param {ColorSpace | string} [workingSpace]\n\t * @return {Object}\n\t */\n\tstatic resolveCoord (ref, workingSpace) {\n\t\tlet coordType = type(ref);\n\t\tlet space, coord;\n\n\t\tif (coordType === \"string\") {\n\t\t\tif (ref.includes(\".\")) {\n\t\t\t\t// Absolute coordinate\n\t\t\t\t[space, coord] = ref.split(\".\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// Relative coordinate\n\t\t\t\t[space, coord] = [, ref];\n\t\t\t}\n\t\t}\n\t\telse if (Array.isArray(ref)) {\n\t\t\t[space, coord] = ref;\n\t\t}\n\t\telse {\n\t\t\t// Object\n\t\t\tspace = ref.space;\n\t\t\tcoord = ref.coordId;\n\t\t}\n\n\t\tspace = ColorSpace.get(space);\n\n\t\tif (!space) {\n\t\t\tspace = workingSpace;\n\t\t}\n\n\t\tif (!space) {\n\t\t\tthrow new TypeError(`Cannot resolve coordinate reference ${ref}: No color space specified and relative references are not allowed here`);\n\t\t}\n\n\t\tcoordType = type(coord);\n\n\t\tif (coordType === \"number\" || coordType === \"string\" && coord >= 0) {\n\t\t\t// Resolve numerical coord\n\t\t\tlet meta = Object.entries(space.coords)[coord];\n\n\t\t\tif (meta) {\n\t\t\t\treturn {space, id: meta[0], index: coord, ...meta[1]};\n\t\t\t}\n\t\t}\n\n\t\tspace = ColorSpace.get(space);\n\n\t\tlet normalizedCoord = coord.toLowerCase();\n\n\t\tlet i = 0;\n\t\tfor (let id in space.coords) {\n\t\t\tlet meta = space.coords[id];\n\n\t\t\tif (id.toLowerCase() === normalizedCoord || meta.name?.toLowerCase() === normalizedCoord) {\n\t\t\t\treturn {space, id, index: i, ...meta};\n\t\t\t}\n\n\t\t\ti++;\n\t\t}\n\n\t\tthrow new TypeError(`No \"${coord}\" coordinate found in ${space.name}. Its coordinates are: ${Object.keys(space.coords).join(\", \")}`);\n\t}\n\n\tstatic DEFAULT_FORMAT = {\n\t\ttype: \"functions\",\n\t\tname: \"color\",\n\t};\n}\n\nfunction getPath (space) {\n\tlet ret = [space];\n\n\tfor (let s = space; s = s.base;) {\n\t\tret.push(s);\n\t}\n\n\treturn ret;\n}\n\nfunction processFormat (format, {coords} = {}) {\n\tif (format.coords && !format.coordGrammar) {\n\t\tformat.type ||= \"function\";\n\t\tformat.name ||= \"color\";\n\n\t\t// Format has not been processed\n\t\tformat.coordGrammar = parseCoordGrammar(format.coords);\n\n\t\tlet coordFormats = Object.entries(coords).map(([id, coordMeta], i) => {\n\t\t\t// Preferred format for each coord is the first one\n\t\t\tlet outputType = format.coordGrammar[i][0];\n\n\t\t\tlet fromRange = coordMeta.range || coordMeta.refRange;\n\t\t\tlet toRange = outputType.range, suffix = \"\";\n\n\t\t\t// Non-strict equals intentional since outputType could be a string object\n\t\t\tif (outputType == \"<percentage>\") {\n\t\t\t\ttoRange = [0, 100];\n\t\t\t\tsuffix = \"%\";\n\t\t\t}\n\t\t\telse if (outputType == \"<angle>\") {\n\t\t\t\tsuffix = \"deg\";\n\t\t\t}\n\n\t\t\treturn  {fromRange, toRange, suffix};\n\t\t});\n\n\t\tformat.serializeCoords = (coords, precision) => {\n\t\t\treturn coords.map((c, i) => {\n\t\t\t\tlet {fromRange, toRange, suffix} = coordFormats[i];\n\n\t\t\t\tif (fromRange && toRange) {\n\t\t\t\t\tc = mapRange(fromRange, toRange, c);\n\t\t\t\t}\n\n\t\t\t\tc = toPrecision(c, precision);\n\n\t\t\t\tif (suffix) {\n\t\t\t\t\tc += suffix;\n\t\t\t\t}\n\n\t\t\t\treturn c;\n\t\t\t});\n\t\t};\n\t}\n\n\treturn format;\n}\n", "import ColorSpace from \"../space.js\";\n\nexport default new ColorSpace({\n\tid: \"xyz-d65\",\n\tname: \"XYZ D65\",\n\tcoords: {\n\t\tx: {name: \"X\"},\n\t\ty: {name: \"Y\"},\n\t\tz: {name: \"Z\"},\n\t},\n\twhite: \"D65\",\n\tformats: {\n\t\tcolor: {\n\t\t\tids: [\"xyz-d65\", \"xyz\"],\n\t\t}\n\t},\n\taliases: [\"xyz\"],\n});\n", "import ColorSpace from \"./space.js\";\nimport {multiplyMatrices} from \"./util.js\";\nimport adapt from \"./adapt.js\";\nimport XYZ_D65 from \"./spaces/xyz-d65.js\";\n\n/**\n * Convenience class for RGB color spaces\n * @extends {ColorSpace}\n */\nexport default class RGBColorSpace extends ColorSpace {\n\t/**\n\t * Creates a new RGB ColorSpace.\n\t * If coords are not specified, they will use the default RGB coords.\n\t * Instead of `fromBase()` and `toBase()` functions,\n\t * you can specify to/from XYZ matrices and have `toBase()` and `fromBase()` automatically generated.\n\t * @param {*} options - Same options as {@link ColorSpace} plus:\n\t * @param {number[][]} options.toXYZ_M - Matrix to convert to XYZ\n\t * @param {number[][]} options.fromXYZ_M - Matrix to convert from XYZ\n\t */\n\tconstructor (options) {\n\t\tif (!options.coords) {\n\t\t\toptions.coords = {\n\t\t\t\tr: {\n\t\t\t\t\trange: [0, 1],\n\t\t\t\t\tname: \"Red\"\n\t\t\t\t},\n\t\t\t\tg: {\n\t\t\t\t\trange: [0, 1],\n\t\t\t\t\tname: \"Green\"\n\t\t\t\t},\n\t\t\t\tb: {\n\t\t\t\t\trange: [0, 1],\n\t\t\t\t\tname: \"Blue\"\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tif (!options.base) {\n\t\t\toptions.base = XYZ_D65;\n\t\t}\n\n\t\tif (options.toXYZ_M && options.fromXYZ_M) {\n\t\t\toptions.toBase ??= rgb => {\n\t\t\t\tlet xyz = multiplyMatrices(options.toXYZ_M, rgb);\n\n\t\t\t\tif (this.white !== this.base.white) {\n\t\t\t\t\t// Perform chromatic adaptation\n\t\t\t\t\txyz = adapt(this.white, this.base.white, xyz);\n\t\t\t\t}\n\n\t\t\t\treturn xyz;\n\t\t\t};\n\n\t\t\toptions.fromBase ??= xyz => {\n\t\t\t\txyz = adapt(this.base.white, this.white, xyz);\n\t\t\t\treturn multiplyMatrices(options.fromXYZ_M, xyz);\n\t\t\t};\n\t\t}\n\n\t\toptions.referred ??= \"display\";\n\n\t\tsuper(options);\n\t}\n}\n", "import * as util from \"./util.js\";\nimport hooks from \"./hooks.js\";\nimport ColorSpace from \"./space.js\";\n\n/**\n * Convert a CSS Color string to a color object\n * @param {string} str\n * @param {object} [options]\n * @param {object} [options.meta] - Object for additional information about the parsing\n * @returns { Color }\n */\nexport default function parse (str, {meta} = {}) {\n\tlet env = {\"str\": String(str)?.trim()};\n\thooks.run(\"parse-start\", env);\n\n\tif (env.color) {\n\t\treturn env.color;\n\t}\n\n\tenv.parsed = util.parseFunction(env.str);\n\n\tif (env.parsed) {\n\t\t// Is a functional syntax\n\t\tlet name = env.parsed.name;\n\n\t\tif (name === \"color\") {\n\t\t\t// color() function\n\t\t\tlet id = env.parsed.args.shift();\n\t\t\tlet alpha = env.parsed.rawArgs.indexOf(\"/\") > 0? env.parsed.args.pop() : 1;\n\n\t\t\tfor (let space of ColorSpace.all) {\n\t\t\t\tlet colorSpec = space.getFormat(\"color\");\n\n\t\t\t\tif (colorSpec) {\n\t\t\t\t\tif (id === colorSpec.id || colorSpec.ids?.includes(id)) {\n\t\t\t\t\t\t// From https://drafts.csswg.org/css-color-4/#color-function\n\t\t\t\t\t\t// If more <number>s or <percentage>s are provided than parameters that the colorspace takes, the excess <number>s at the end are ignored.\n\t\t\t\t\t\t// If less <number>s or <percentage>s are provided than parameters that the colorspace takes, the missing parameters default to 0. (This is particularly convenient for multichannel printers where the additional inks are spot colors or varnishes that most colors on the page won’t use.)\n\t\t\t\t\t\tconst coords = Object.keys(space.coords).map((_, i) => env.parsed.args[i] || 0);\n\n\t\t\t\t\t\tif (meta) {\n\t\t\t\t\t\t\tmeta.formatId = \"color\";\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn {spaceId: space.id, coords, alpha};\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Not found\n\t\t\tlet didYouMean = \"\";\n\t\t\tif (id in ColorSpace.registry) {\n\t\t\t\t// Used color space id instead of color() id, these are often different\n\t\t\t\tlet cssId = ColorSpace.registry[id].formats?.functions?.color?.id;\n\n\t\t\t\tif (cssId) {\n\t\t\t\t\tdidYouMean = `Did you mean color(${cssId})?`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthrow new TypeError(`Cannot parse color(${id}). ` + (didYouMean || \"Missing a plugin?\"));\n\t\t}\n\t\telse {\n\t\t\tfor (let space of ColorSpace.all) {\n\t\t\t\t// color space specific function\n\t\t\t\tlet format = space.getFormat(name);\n\t\t\t\tif (format && format.type === \"function\") {\n\t\t\t\t\tlet alpha = 1;\n\n\t\t\t\t\tif (format.lastAlpha || util.last(env.parsed.args).alpha) {\n\t\t\t\t\t\talpha = env.parsed.args.pop();\n\t\t\t\t\t}\n\n\t\t\t\t\tlet coords = env.parsed.args;\n\n\t\t\t\t\tlet types;\n\n\t\t\t\t\tif (format.coordGrammar) {\n\t\t\t\t\t\ttypes = Object.entries(space.coords).map(([id, coordMeta], i) => {\n\t\t\t\t\t\t\tlet coordGrammar = format.coordGrammar[i];\n\t\t\t\t\t\t\tlet providedType = coords[i]?.type;\n\n\t\t\t\t\t\t\t// Find grammar alternative that matches the provided type\n\t\t\t\t\t\t\t// Non-strict equals is intentional because we are comparing w/ string objects\n\t\t\t\t\t\t\tlet type = coordGrammar.find(c => c == providedType);\n\n\t\t\t\t\t\t\t// Check that each coord conforms to its grammar\n\t\t\t\t\t\t\tif (!type) {\n\t\t\t\t\t\t\t\t// Type does not exist in the grammar, throw\n\t\t\t\t\t\t\t\tlet coordName = coordMeta.name || id;\n\t\t\t\t\t\t\t\tthrow new TypeError(`${providedType} not allowed for ${coordName} in ${name}()`);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet fromRange = type.range;\n\n\t\t\t\t\t\t\tif (providedType === \"<percentage>\") {\n\t\t\t\t\t\t\t\tfromRange ||= [0, 1];\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tlet toRange = coordMeta.range || coordMeta.refRange;\n\n\t\t\t\t\t\t\tif (fromRange && toRange) {\n\t\t\t\t\t\t\t\tcoords[i] = util.mapRange(fromRange, toRange, coords[i]);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn type;\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (meta) {\n\t\t\t\t\t\tObject.assign(meta, {formatId: format.name, types});\n\t\t\t\t\t}\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tspaceId: space.id,\n\t\t\t\t\t\tcoords, alpha\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\telse {\n\t\t// Custom, colorspace-specific format\n\t\tfor (let space of ColorSpace.all) {\n\t\t\tfor (let formatId in space.formats) {\n\t\t\t\tlet format = space.formats[formatId];\n\n\t\t\t\tif (format.type !== \"custom\") {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (format.test && !format.test(env.str)) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlet color = format.parse(env.str);\n\n\t\t\t\tif (color) {\n\t\t\t\t\tcolor.alpha ??= 1;\n\n\t\t\t\t\tif (meta) {\n\t\t\t\t\t\tmeta.formatId = formatId;\n\t\t\t\t\t}\n\n\t\t\t\t\treturn color;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\n\t// If we're here, we couldn't parse\n\tthrow new TypeError(`Could not parse ${str} as a color. Missing a plugin?`);\n}\n", "import ColorSpace from \"./space.js\";\nimport {isString} from \"./util.js\";\nimport parse from \"./parse.js\";\n\n/**\n * Resolves a color reference (object or string) to a plain color object\n * @param {Color | {space, coords, alpha} | string} color\n * @returns {{space, coords, alpha}}\n */\nexport default function getColor (color) {\n\tif (!color) {\n\t\tthrow new TypeError(\"Empty color reference\");\n\t}\n\n\tif (isString(color)) {\n\t\tcolor = parse(color);\n\t}\n\n\t// Object fixup\n\tlet space = color.space || color.spaceId;\n\n\tif (!(space instanceof ColorSpace)) {\n\t\t// Convert string id to color space object\n\t\tcolor.space = ColorSpace.get(space);\n\t}\n\n\tif (color.alpha === undefined) {\n\t\tcolor.alpha = 1;\n\t}\n\n\treturn color;\n}\n", "import ColorSpace from \"./space.js\";\n\n/**\n * Get the coordinates of a color in another color space\n *\n * @param {string | ColorSpace} space\n * @returns {number[]}\n */\nexport default function getAll (color, space) {\n\tspace = ColorSpace.get(space);\n\treturn space.from(color);\n}\n", "import ColorSpace from \"./space.js\";\nimport getAll from \"./getAll.js\";\n\nexport default function get (color, prop) {\n\tlet {space, index} = ColorSpace.resolveCoord(prop, color.space);\n\tlet coords = getAll(color, space);\n\treturn coords[index];\n}\n", "import ColorSpace from \"./space.js\";\n\nexport default function setAll (color, space, coords) {\n\tspace = ColorSpace.get(space);\n\tcolor.coords = space.to(color.space, coords);\n\treturn color;\n}\n", "import ColorSpace from \"./space.js\";\nimport getColor from \"./getColor.js\";\nimport get from \"./get.js\";\nimport getAll from \"./getAll.js\";\nimport setAll from \"./setAll.js\";\nimport {type} from \"./util.js\";\n\n// Set properties and return current instance\nexport default function set (color, prop, value) {\n\tcolor = getColor(color);\n\n\tif (arguments.length === 2 && type(arguments[1]) === \"object\") {\n\t\t// Argument is an object literal\n\t\tlet object = arguments[1];\n\t\tfor (let p in object) {\n\t\t\tset(color, p, object[p]);\n\t\t}\n\t}\n\telse {\n\t\tif (typeof value === \"function\") {\n\t\t\tvalue = value(get(color, prop));\n\t\t}\n\n\t\tlet {space, index} = ColorSpace.resolveCoord(prop, color.space);\n\t\tlet coords = getAll(color, space);\n\t\tcoords[index] = value;\n\t\tsetAll(color, space, coords);\n\t}\n\n\treturn color;\n}\n", "import ColorSpace from \"../space.js\";\nimport adapt from \"../adapt.js\";\nimport XYZ_D65 from \"./xyz-d65.js\";\n\nexport default new ColorSpace({\n\tid: \"xyz-d50\",\n\tname: \"XYZ D50\",\n\twhite: \"D50\",\n\tbase: XYZ_D65,\n\tfromBase: coords => adapt(XYZ_D65.white, \"D50\", coords),\n\ttoBase: coords => adapt(\"D50\", XYZ_D65.white, coords),\n\tformats: {\n\t\tcolor: {}\n\t},\n});\n", "import ColorSpace from \"../space.js\";\nimport {WHITES} from \"../adapt.js\";\nimport xyz_d50 from \"./xyz-d50.js\";\n\n// κ * ε  = 2^3 = 8\nconst ε = 216/24389;  // 6^3/29^3 == (24/116)^3\nconst ε3 = 24/116;\nconst κ = 24389/27;   // 29^3/3^3\n\nlet white = WHITES.D50;\n\nexport default new ColorSpace({\n\tid: \"lab\",\n\tname: \"Lab\",\n\tcoords: {\n\t\tl: {\n\t\t\trefRange: [0, 100],\n\t\t\tname: \"L\"\n\t\t},\n\t\ta: {\n\t\t\trefRange: [-125, 125]\n\t\t},\n\t\tb: {\n\t\t\trefRange: [-125, 125]\n\t\t}\n\t},\n\n\t// Assuming XYZ is relative to D50, convert to CIE Lab\n\t// from CIE standard, which now defines these as a rational fraction\n\twhite,\n\n\tbase: xyz_d50,\n\t// Convert D50-adapted XYX to Lab\n\t//  CIE 15.3:2004 section 8.2.1.1\n\tfromBase (XYZ) {\n\t\t// compute xyz, which is XYZ scaled relative to reference white\n\t\tlet xyz = XYZ.map((value, i) => value / white[i]);\n\n\t\t// now compute f\n\t\tlet f = xyz.map(value => value > ε ? Math.cbrt(value) : (κ * value + 16)/116);\n\n\t\treturn [\n\t\t\t(116 * f[1]) - 16, \t // L\n\t\t\t500 * (f[0] - f[1]), // a\n\t\t\t200 * (f[1] - f[2])  // b\n\t\t];\n\t},\n\t// Convert Lab to D50-adapted XYZ\n\t// Same result as CIE 15.3:2004 Appendix D although the derivation is different\n\t// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\ttoBase (Lab) {\n\t\t// compute f, starting with the luminance-related term\n\t\tlet f = [];\n\t\tf[1] = (Lab[0] + 16)/116;\n\t\tf[0] = Lab[1]/500 + f[1];\n\t\tf[2] = f[1] - Lab[2]/200;\n\n\t\t// compute xyz\n\t\tlet xyz = [\n\t\t\tf[0]   > ε3  ?  Math.pow(f[0], 3)            : (116*f[0]-16)/κ,\n\t\t\tLab[0] > 8   ?  Math.pow((Lab[0]+16)/116, 3) : Lab[0]/κ,\n\t\t\tf[2]   > ε3  ?  Math.pow(f[2], 3)            : (116*f[2]-16)/κ\n\t\t];\n\n\t\t// Compute XYZ by scaling xyz by reference white\n\t\treturn xyz.map((value, i) => value * white[i]);\n\t},\n\n\tformats: {\n\t\t\"lab\": {\n\t\t\tcoords: [\"<number> | <percentage>\", \"<number> | <percentage>[-1,1]\", \"<number> | <percentage>[-1,1]\"],\n\t\t}\n\t}\n});\n", "export function constrain (angle) {\n\treturn ((angle % 360) + 360) % 360;\n}\n\nexport function adjust (arc, angles) {\n\tif (arc === \"raw\") {\n\t\treturn angles;\n\t}\n\n\tlet [a1, a2] = angles.map(constrain);\n\n\tlet angleDiff = a2 - a1;\n\n\tif (arc === \"increasing\") {\n\t\tif (angleDiff < 0) {\n\t\t\ta2 += 360;\n\t\t}\n\t}\n\telse if (arc === \"decreasing\") {\n\t\tif (angleDiff > 0) {\n\t\t\ta1 += 360;\n\t\t}\n\t}\n\telse if (arc === \"longer\") {\n\t\tif (-180 < angleDiff && angleDiff < 180) {\n\t\t\tif (angleDiff > 0) {\n\t\t\t\ta1 += 360;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ta2 += 360;\n\t\t\t}\n\t\t}\n\t}\n\telse if (arc === \"shorter\") {\n\t\tif (angleDiff > 180) {\n\t\t\ta1 += 360;\n\t\t}\n\t\telse if (angleDiff < -180) {\n\t\t\ta2 += 360;\n\t\t}\n\t}\n\n\treturn [a1, a2];\n}\n", "import ColorSpace from \"../space.js\";\nimport Lab from \"./lab.js\";\nimport {constrain as constrainAngle} from \"../angles.js\";\n\nexport default new ColorSpace({\n\tid: \"lch\",\n\tname: \"LCH\",\n\tcoords: {\n\t\tl: {\n\t\t\trefRange: [0, 100],\n\t\t\tname: \"Lightness\"\n\t\t},\n\t\tc: {\n\t\t\trefRange: [0, 150],\n\t\t\tname: \"Chroma\"\n\t\t},\n\t\th: {\n\t\t\trefRange: [0, 360],\n\t\t\ttype: \"angle\",\n\t\t\tname: \"Hue\"\n\t\t}\n\t},\n\n\tbase: Lab,\n\tfromBase (Lab) {\n\t\t// Convert to polar form\n\t\tlet [L, a, b] = Lab;\n\t\tlet hue;\n\t\tconst ε = 0.02;\n\n\t\tif (Math.abs(a) < ε && Math.abs(b) < ε) {\n\t\t\thue = NaN;\n\t\t}\n\t\telse {\n\t\t\thue = Math.atan2(b, a) * 180 / Math.PI;\n\t\t}\n\n\t\treturn [\n\t\t\tL, // L is still L\n\t\t\tMath.sqrt(a ** 2 + b ** 2), // Chroma\n\t\t\tconstrainAngle(hue) // Hue, in degrees [0 to 360)\n\t\t];\n\t},\n\ttoBase (LCH) {\n\t\t// Convert from polar form\n\t\tlet [Lightness, Chroma, Hue] = LCH;\n\t\t// Clamp any negative Chroma\n\t\tif (Chroma < 0) {\n\t\t\tChroma = 0;\n\t\t};\n\t\t// Deal with NaN Hue\n\t\tif (isNaN(Hue)) {\n\t\t\tHue = 0;\n\t\t}\n\t\treturn [\n\t\t\tLightness, // L is still L\n\t\t\tChroma * Math.cos(Hue * Math.PI / 180), // a\n\t\t\tChroma * Math.sin(Hue * Math.PI / 180)  // b\n\t\t];\n\t},\n\n\tformats: {\n\t\t\"lch\": {\n\t\t\tcoords: [\"<number> | <percentage>\", \"<number> | <percentage>\", \"<number> | <angle>\"],\n\t\t}\n\t}\n});\n", "import lab from \"../spaces/lab.js\";\nimport lch from \"../spaces/lch.js\";\n\n// deltaE2000 is a statistically significant improvement\n// and is recommended by the CIE and Idealliance\n// especially for color differences less than 10 deltaE76\n// but is wicked complicated\n// and many implementations have small errors!\n// DeltaE2000 is also discontinuous; in case this\n// matters to you, use deltaECMC instead.\n\nconst Gfactor = 25 ** 7;\nconst π = Math.PI;\nconst r2d = 180 / π;\nconst d2r = π / 180;\n\nexport default function (color, sample, {kL = 1, kC = 1, kH = 1} = {}) {\n\t// Given this color as the reference\n\t// and the function parameter as the sample,\n\t// calculate deltaE 2000.\n\n\t// This implementation assumes the parametric\n\t// weighting factors kL, kC and kH\n\t// for the influence of viewing conditions\n\t// are all 1, as sadly seems typical.\n\t// kL should be increased for lightness texture or noise\n\t// and kC increased for chroma noise\n\n\tlet [L1, a1, b1] = lab.from(color);\n\tlet C1 = lch.from(lab, [L1, a1, b1])[1];\n\tlet [L2, a2, b2] = lab.from(sample);\n\tlet C2 = lch.from(lab, [L2, a2, b2])[1];\n\n\t// Check for negative Chroma,\n\t// which might happen through\n\t// direct user input of LCH values\n\n\tif (C1 < 0) {\n\t\tC1 = 0;\n\t}\n\tif (C2 < 0) {\n\t\tC2 = 0;\n\t}\n\n\tlet Cbar = (C1 + C2)/2; // mean Chroma\n\n\t// calculate a-axis asymmetry factor from mean Chroma\n\t// this turns JND ellipses for near-neutral colors back into circles\n\tlet C7 = Cbar ** 7;\n\n\tlet G = 0.5 * (1 - Math.sqrt(C7/(C7 + Gfactor)));\n\n\t// scale a axes by asymmetry factor\n\t// this by the way is why there is no Lab2000 colorspace\n\tlet adash1 = (1 + G) * a1;\n\tlet adash2 = (1 + G) * a2;\n\n\t// calculate new Chroma from scaled a and original b axes\n\tlet Cdash1 = Math.sqrt(adash1 ** 2 + b1 ** 2);\n\tlet Cdash2 = Math.sqrt(adash2 ** 2 + b2 ** 2);\n\n\t// calculate new hues, with zero hue for true neutrals\n\t// and in degrees, not radians\n\n\tlet h1 = (adash1 === 0 && b1 === 0)? 0: Math.atan2(b1, adash1);\n\tlet h2 = (adash2 === 0 && b2 === 0)? 0: Math.atan2(b2, adash2);\n\n\tif (h1 < 0) {\n\t\th1 += 2 * π;\n\t}\n\tif (h2 < 0) {\n\t\th2 += 2 * π;\n\t}\n\n\th1 *= r2d;\n\th2 *= r2d;\n\n\t// Lightness and Chroma differences; sign matters\n\tlet ΔL = L2 - L1;\n\tlet ΔC = Cdash2 - Cdash1;\n\n\t// Hue difference, getting the sign correct\n\tlet hdiff = h2 - h1;\n\tlet hsum = h1 + h2;\n\tlet habs = Math.abs(hdiff);\n\tlet Δh;\n\n\tif (Cdash1 * Cdash2 === 0) {\n\t\tΔh = 0;\n\t}\n\telse if (habs <= 180) {\n\t\tΔh = hdiff;\n\t}\n\telse if (hdiff > 180) {\n\t\tΔh = hdiff - 360;\n\t}\n\telse if (hdiff < -180) {\n\t\tΔh = hdiff + 360;\n\t}\n\telse {\n\t\tconsole.log(\"the unthinkable has happened\");\n\t}\n\n\t// weighted Hue difference, more for larger Chroma\n\tlet ΔH = 2 * Math.sqrt(Cdash2 * Cdash1) * Math.sin(Δh * d2r / 2);\n\n\t// calculate mean Lightness and Chroma\n\tlet Ldash = (L1 + L2)/2;\n\tlet Cdash = (Cdash1 + Cdash2)/2;\n\tlet Cdash7 = Math.pow(Cdash, 7);\n\n\t// Compensate for non-linearity in the blue region of Lab.\n\t// Four possibilities for hue weighting factor,\n\t// depending on the angles, to get the correct sign\n\tlet hdash;\n\tif (Cdash1 * Cdash2 === 0) {\n\t\thdash = hsum;   // which should be zero\n\t}\n\telse if (habs <= 180) {\n\t\thdash = hsum / 2;\n\t}\n\telse if (hsum < 360) {\n\t\thdash = (hsum + 360) / 2;\n\t}\n\telse {\n\t\thdash = (hsum - 360) / 2;\n\t}\n\n\t// positional corrections to the lack of uniformity of CIELAB\n\t// These are all trying to make JND ellipsoids more like spheres\n\n\t// SL Lightness crispening factor\n\t// a background with L=50 is assumed\n\tlet lsq = (Ldash - 50) ** 2;\n\tlet SL = 1 + ((0.015 * lsq) / Math.sqrt(20 + lsq));\n\n\t// SC Chroma factor, similar to those in CMC and deltaE 94 formulae\n\tlet SC = 1 + 0.045 * Cdash;\n\n\t// Cross term T for blue non-linearity\n\tlet T = 1;\n\tT -= (0.17 * Math.cos((     hdash - 30)  * d2r));\n\tT += (0.24 * Math.cos(  2 * hdash        * d2r));\n\tT += (0.32 * Math.cos(((3 * hdash) + 6)  * d2r));\n\tT -= (0.20 * Math.cos(((4 * hdash) - 63) * d2r));\n\n\t// SH Hue factor depends on Chroma,\n\t// as well as adjusted hue angle like deltaE94.\n\tlet SH = 1 + 0.015 * Cdash * T;\n\n\t// RT Hue rotation term compensates for rotation of JND ellipses\n\t// and Munsell constant hue lines\n\t// in the medium-high Chroma blue region\n\t// (Hue 225 to 315)\n\tlet Δθ = 30 * Math.exp(-1 * (((hdash - 275)/25) ** 2));\n\tlet RC = 2 * Math.sqrt(Cdash7/(Cdash7 + Gfactor));\n\tlet RT = -1 * Math.sin(2 * Δθ * d2r) * RC;\n\n\t// Finally calculate the deltaE, term by term as root sume of squares\n\tlet dE = (ΔL / (kL * SL)) ** 2;\n\tdE += (ΔC / (kC * SC)) ** 2;\n\tdE += (ΔH / (kH * SH)) ** 2;\n\tdE += RT * (ΔC / (kC * SC)) * (ΔH / (kH * SH));\n\treturn Math.sqrt(dE);\n\t// Yay!!!\n};\n", "import ColorSpace from \"./space.js\";\nimport getColor from \"./getColor.js\";\n\nconst ε = .000075;\n\n/**\n * Check if a color is in gamut of either its own or another color space\n * @return {Boolean} Is the color in gamut?\n */\nexport default function inGamut (color, space = color.space, {epsilon = ε} = {}) {\n\tcolor = getColor(color);\n\tspace = ColorSpace.get(space);\n\tlet coords = color.coords;\n\n\tif (space !== color.space) {\n\t\tcoords = space.from(color);\n\t}\n\n\treturn space.inGamut(coords, {epsilon});\n}\n", "export default function clone (color) {\n\treturn {\n\t\tspace: color.space,\n\t\tcoords: color.coords.slice(),\n\t\talpha: color.alpha\n\t};\n}\n", "import * as util from \"./util.js\";\nimport ColorSpace from \"./space.js\";\nimport defaults from \"./defaults.js\";\nimport deltaE2000 from \"./deltaE/deltaE2000.js\";\nimport inGamut from \"./inGamut.js\";\nimport to from \"./to.js\";\nimport get from \"./get.js\";\nimport set from \"./set.js\";\nimport clone from \"./clone.js\";\nimport getColor from \"./getColor.js\";\n\n/**\n * Force coordinates to be in gamut of a certain color space.\n * Mutates the color it is passed.\n * @param {Object} options\n * @param {string} options.method - How to force into gamut.\n *        If \"clip\", coordinates are just clipped to their reference range.\n *        If in the form [colorSpaceId].[coordName], that coordinate is reduced\n *        until the color is in gamut. Please note that this may produce nonsensical\n *        results for certain coordinates (e.g. hue) or infinite loops if reducing the coordinate never brings the color in gamut.\n * @param {ColorSpace|string} options.space - The space whose gamut we want to map to\n */\nexport default function toGamut (color, {method = defaults.gamut_mapping, space = color.space} = {}) {\n\tif (util.isString(arguments[1])) {\n\t\tspace = arguments[1];\n\t}\n\n\tspace = ColorSpace.get(space);\n\n\tif (inGamut(color, space, {epsilon: 0})) {\n\t\treturn getColor(color);\n\t}\n\n\t// 3 spaces:\n\t// color.space: current color space\n\t// space: space whose gamut we are mapping to\n\t// mapSpace: space with the coord we're reducing\n\tlet spaceColor = to(color, space);\n\n\tif (method !== \"clip\" && !inGamut(color, space)) {\n\t\tlet clipped = toGamut(clone(spaceColor), {method: \"clip\", space});\n\t\tif (deltaE2000(color, clipped) > 2) {\n\t\t\t// Reduce a coordinate of a certain color space until the color is in gamut\n\t\t\tlet coordMeta = ColorSpace.resolveCoord(method);\n\t\t\tlet mapSpace = coordMeta.space;\n\t\t\tlet coordId = coordMeta.id;\n\n\t\t\tlet mappedColor = to(spaceColor, mapSpace);\n\t\t\tlet bounds = coordMeta.range || coordMeta.refRange;\n\t\t\tlet min = bounds[0];\n\t\t\tlet ε = .01; // for deltaE\n\t\t\tlet low = min;\n\t\t\tlet high = get(mappedColor, coordId);\n\n\t\t\twhile (high - low > ε) {\n\t\t\t\tlet clipped = clone(mappedColor);\n\t\t\t\tclipped = toGamut(clipped, {space, method: \"clip\"});\n\t\t\t\tlet deltaE = deltaE2000(mappedColor, clipped);\n\n\t\t\t\tif (deltaE - 2 < ε) {\n\t\t\t\t\tlow = get(mappedColor, coordId);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\thigh = get(mappedColor, coordId);\n\t\t\t\t}\n\n\t\t\t\tset(mappedColor, coordId, (low + high) / 2);\n\t\t\t}\n\n\t\t\tspaceColor = to(mappedColor, space);\n\t\t}\n\t\telse {\n\t\t\tspaceColor = clipped;\n\t\t}\n\t}\n\n\tif (method === \"clip\" // Dumb coord clipping\n\t\t// finish off smarter gamut mapping with clip to get rid of ε, see #17\n\t\t|| !inGamut(spaceColor, space, {epsilon: 0})\n\t) {\n\t\tlet bounds = Object.values(space.coords).map(c => c.range || []);\n\n\t\tspaceColor.coords = spaceColor.coords.map((c, i) => {\n\t\t\tlet [min, max] = bounds[i];\n\n\t\t\tif (min !== undefined) {\n\t\t\t\tc = Math.max(min, c);\n\t\t\t}\n\n\t\t\tif (max !== undefined) {\n\t\t\t\tc = Math.min(c, max);\n\t\t\t}\n\n\t\t\treturn c;\n\t\t});\n\t}\n\n\tif (space !== color.space) {\n\t\tspaceColor = to(spaceColor, color.space);\n\t}\n\n\tcolor.coords = spaceColor.coords;\n\treturn color;\n}\n\ntoGamut.returns = \"color\";\n", "import getColor from \"./getColor.js\";\nimport ColorSpace from \"./space.js\";\nimport toGamut from \"./toGamut.js\";\n\n/**\n * Convert to color space and return a new color\n * @param {Object|string} space - Color space object or id\n * @param {Object} options\n * @param {boolean} options.inGamut - Whether to force resulting color in gamut\n * @returns {Color}\n */\nexport default function to (color, space, {inGamut} = {}) {\n\tcolor = getColor(color);\n\tspace = ColorSpace.get(space);\n\n\tlet coords = space.from(color);\n\tlet ret = {space, coords, alpha: color.alpha};\n\n\tif (inGamut) {\n\t\tret = toGamut(ret);\n\t}\n\n\treturn ret;\n}\n\nto.returns = \"color\";\n", "import * as util from \"./util.js\";\nimport ColorSpace from \"./space.js\";\nimport defaults from \"./defaults.js\";\nimport getColor from \"./getColor.js\";\nimport to from \"./to.js\";\nimport checkInGamut from \"./inGamut.js\";\nimport toGamut from \"./toGamut.js\";\nimport clone from \"./clone.js\";\n\n/**\n * Generic toString() method, outputs a color(spaceId ...coords) function, a functional syntax, or custom formats defined by the color space\n * @param {Object} options\n * @param {number} options.precision - Significant digits\n * @param {boolean} options.inGamut - Adjust coordinates to fit in gamut first? [default: false]\n */\nexport default function serialize (color, {\n\tprecision = defaults.precision,\n\tformat = \"default\",\n\tinGamut = true,\n\t...customOptions\n} = {}) {\n\tlet ret;\n\n\tcolor = getColor(color);\n\n\tlet formatId = format;\n\tformat = color.space.getFormat(format)\n\t\t   ?? color.space.getFormat(\"default\")\n\t\t   ?? ColorSpace.DEFAULT_FORMAT;\n\n\tinGamut ||= format.toGamut;\n\n\tlet coords = color.coords;\n\n\t// Convert NaN to zeros to have a chance at a valid CSS color\n\t// Also convert -0 to 0\n\t// This also clones it so we can manipulate it\n\tcoords = coords.map(c => c? c : 0);\n\n\tif (inGamut && !checkInGamut(color)) {\n\t\tcoords = toGamut(clone(color), inGamut === true? undefined : inGamut).coords;\n\t}\n\n\tif (format.type === \"custom\") {\n\t\tcustomOptions.precision = precision;\n\n\t\tif (format.serialize) {\n\t\t\tret = format.serialize(coords, color.alpha, customOptions);\n\t\t}\n\t\telse {\n\t\t\tthrow new TypeError(`format ${formatId} can only be used to parse colors, not for serialization`);\n\t\t}\n\t}\n\telse {\n\t\t// Functional syntax\n\t\tlet name = format.name || \"color\";\n\n\t\tif (format.serializeCoords) {\n\t\t\tcoords = format.serializeCoords(coords, precision);\n\t\t}\n\t\telse {\n\t\t\tif (precision !== null) {\n\t\t\t\tcoords = coords.map(c => util.toPrecision(c, precision));\n\t\t\t}\n\t\t}\n\n\t\tlet args = [...coords];\n\n\t\tif (name === \"color\") {\n\t\t\t// If output is a color() function, add colorspace id as first argument\n\t\t\tlet cssId = format.id || format.ids?.[0] || color.space.id;\n\t\t\targs.unshift(cssId);\n\t\t}\n\n\t\tlet alpha = color.alpha;\n\t\tif (precision !== null) {\n\t\t\talpha = util.toPrecision(alpha, precision);\n\t\t}\n\n\t\tlet strAlpha = color.alpha < 1 && !format.noAlpha? `${format.commas? \",\" : \" /\"} ${alpha}` : \"\";\n\t\tret = `${name}(${args.join(format.commas? \", \" : \" \")}${strAlpha})`;\n\t}\n\n\treturn ret;\n}\n", "import RGBColorSpace from \"../rgbspace.js\";\n\n// convert an array of linear-light rec2020 values to CIE XYZ\n// using  D65 (no chromatic adaptation)\n// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n// 0 is actually calculated as  4.994106574466076e-17\nconst toXYZ_M = [\n\t[ 0.6369580483012914, 0.14461690358620832,  0.1688809751641721  ],\n\t[ 0.2627002120112671, 0.6779980715188708,   0.05930171646986196 ],\n\t[ 0.000000000000000,  0.028072693049087428, 1.060985057710791   ]\n];\n\n// from ITU-R BT.2124-0 Annex 2 p.3\nconst fromXYZ_M = [\n\t[  1.716651187971268,  -0.355670783776392, -0.253366281373660  ],\n\t[ -0.666684351832489,   1.616481236634939,  0.0157685458139111 ],\n\t[  0.017639857445311,  -0.042770613257809,  0.942103121235474  ]\n];\n\nexport default new RGBColorSpace({\n\tid: \"rec2020-linear\",\n\tname: \"Linear REC.2020\",\n\twhite: \"D65\",\n\ttoXYZ_M,\n\tfromXYZ_M,\n\tformats: {\n\t\tcolor: {},\n\t}\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport REC2020Linear from \"./rec2020-linear.js\";\n// import sRGB from \"./srgb.js\";\n\nconst α = 1.09929682680944;\nconst β = 0.018053968510807;\n\nexport default new RGBColorSpace({\n\tid: \"rec2020\",\n\tname: \"REC.2020\",\n\tbase: REC2020Linear,\n\t// Non-linear transfer function from Rec. ITU-R BT.2020-2 table 4\n\ttoBase (RGB) {\n\t\treturn RGB.map(function (val) {\n\t\t\tif (val < β * 4.5 ) {\n\t\t\t\treturn val / 4.5;\n\t\t\t}\n\n\t\t\treturn Math.pow((val + α -1 ) / α, 1/0.45);\n\t\t});\n\t},\n\tfromBase (RGB) {\n\t\treturn RGB.map(function (val) {\n\t\t\tif (val >= β ) {\n\t\t\t\treturn α * Math.pow(val, 0.45) - (α - 1);\n\t\t\t}\n\n\t\t\treturn 4.5 * val;\n\t\t});\n\t},\n\tformats: {\n\t\tcolor: {},\n\t}\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\n\nconst toXYZ_M = [\n\t[0.4865709486482162, 0.26566769316909306, 0.1982172852343625],\n\t[0.2289745640697488, 0.6917385218365064,  0.079286914093745],\n\t[0.0000000000000000, 0.04511338185890264, 1.043944368900976]\n];\n\nconst fromXYZ_M = [\n\t[ 2.493496911941425,   -0.9313836179191239, -0.40271078445071684],\n\t[-0.8294889695615747,   1.7626640603183463,  0.023624685841943577],\n\t[ 0.03584583024378447, -0.07617238926804182, 0.9568845240076872]\n];\n\nexport default new RGBColorSpace({\n\tid: \"p3-linear\",\n\tname: \"Linear P3\",\n\twhite: \"D65\",\n\ttoXYZ_M,\n\tfromXYZ_M\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\n\n// This is the linear-light version of sRGB\n// as used for example in SVG filters\n// or in Canvas\n\n// This matrix was calculated directly from the RGB and white chromaticities\n// when rounded to 8 decimal places, it agrees completely with the official matrix\n// see https://github.com/w3c/csswg-drafts/issues/5922\nconst toXYZ_M = [\n\t[ 0.41239079926595934, 0.357584339383878,   0.1804807884018343  ],\n\t[ 0.21263900587151027, 0.715168678767756,   0.07219231536073371 ],\n\t[ 0.01933081871559182, 0.11919477979462598, 0.9505321522496607  ]\n];\n\n// This matrix is the inverse of the above;\n// again it agrees with the official definition when rounded to 8 decimal places\nconst fromXYZ_M = [\n\t[  3.2409699419045226,  -1.537383177570094,   -0.4986107602930034  ],\n\t[ -0.9692436362808796,   1.8759675015077202,   0.04155505740717559 ],\n\t[  0.05563007969699366, -0.20397695888897652,  1.0569715142428786  ]\n];\n\nexport default new RGBColorSpace({\n\tid: \"srgb-linear\",\n\tname: \"Linear sRGB\",\n\twhite: \"D65\",\n\ttoXYZ_M,\n\tfromXYZ_M,\n\tformats: {\n\t\tcolor: {}\n\t},\n});\n", "/* List of CSS color keywords\n * Note that this does not include currentColor, transparent,\n * or system colors\n */\n\n// To produce: Visit https://www.w3.org/TR/css-color-4/#named-colors\n// and run in the console:\n// copy($$(\"tr\", $(\".named-color-table tbody\")).map(tr => `\"${tr.cells[2].textContent.trim()}\": [${tr.cells[4].textContent.trim().split(/\\s+/).map(c => c === \"0\"? \"0\" : c === \"255\"? \"1\" : c + \" / 255\").join(\", \")}]`).join(\",\\n\"))\nexport default {\n\t\"aliceblue\": [240 / 255, 248 / 255, 1],\n\t\"antiquewhite\": [250 / 255, 235 / 255, 215 / 255],\n\t\"aqua\": [0, 1, 1],\n\t\"aquamarine\": [127 / 255, 1, 212 / 255],\n\t\"azure\": [240 / 255, 1, 1],\n\t\"beige\": [245 / 255, 245 / 255, 220 / 255],\n\t\"bisque\": [1, 228 / 255, 196 / 255],\n\t\"black\": [0, 0, 0],\n\t\"blanchedalmond\": [1, 235 / 255, 205 / 255],\n\t\"blue\": [0, 0, 1],\n\t\"blueviolet\": [138 / 255, 43 / 255, 226 / 255],\n\t\"brown\": [165 / 255, 42 / 255, 42 / 255],\n\t\"burlywood\": [222 / 255, 184 / 255, 135 / 255],\n\t\"cadetblue\": [95 / 255, 158 / 255, 160 / 255],\n\t\"chartreuse\": [127 / 255, 1, 0],\n\t\"chocolate\": [210 / 255, 105 / 255, 30 / 255],\n\t\"coral\": [1, 127 / 255, 80 / 255],\n\t\"cornflowerblue\": [100 / 255, 149 / 255, 237 / 255],\n\t\"cornsilk\": [1, 248 / 255, 220 / 255],\n\t\"crimson\": [220 / 255, 20 / 255, 60 / 255],\n\t\"cyan\": [0, 1, 1],\n\t\"darkblue\": [0, 0, 139 / 255],\n\t\"darkcyan\": [0, 139 / 255, 139 / 255],\n\t\"darkgoldenrod\": [184 / 255, 134 / 255, 11 / 255],\n\t\"darkgray\": [169 / 255, 169 / 255, 169 / 255],\n\t\"darkgreen\": [0, 100 / 255, 0],\n\t\"darkgrey\": [169 / 255, 169 / 255, 169 / 255],\n\t\"darkkhaki\": [189 / 255, 183 / 255, 107 / 255],\n\t\"darkmagenta\": [139 / 255, 0, 139 / 255],\n\t\"darkolivegreen\": [85 / 255, 107 / 255, 47 / 255],\n\t\"darkorange\": [1, 140 / 255, 0],\n\t\"darkorchid\": [153 / 255, 50 / 255, 204 / 255],\n\t\"darkred\": [139 / 255, 0, 0],\n\t\"darksalmon\": [233 / 255, 150 / 255, 122 / 255],\n\t\"darkseagreen\": [143 / 255, 188 / 255, 143 / 255],\n\t\"darkslateblue\": [72 / 255, 61 / 255, 139 / 255],\n\t\"darkslategray\": [47 / 255, 79 / 255, 79 / 255],\n\t\"darkslategrey\": [47 / 255, 79 / 255, 79 / 255],\n\t\"darkturquoise\": [0, 206 / 255, 209 / 255],\n\t\"darkviolet\": [148 / 255, 0, 211 / 255],\n\t\"deeppink\": [1, 20 / 255, 147 / 255],\n\t\"deepskyblue\": [0, 191 / 255, 1],\n\t\"dimgray\": [105 / 255, 105 / 255, 105 / 255],\n\t\"dimgrey\": [105 / 255, 105 / 255, 105 / 255],\n\t\"dodgerblue\": [30 / 255, 144 / 255, 1],\n\t\"firebrick\": [178 / 255, 34 / 255, 34 / 255],\n\t\"floralwhite\": [1, 250 / 255, 240 / 255],\n\t\"forestgreen\": [34 / 255, 139 / 255, 34 / 255],\n\t\"fuchsia\": [1, 0, 1],\n\t\"gainsboro\": [220 / 255, 220 / 255, 220 / 255],\n\t\"ghostwhite\": [248 / 255, 248 / 255, 1],\n\t\"gold\": [1, 215 / 255, 0],\n\t\"goldenrod\": [218 / 255, 165 / 255, 32 / 255],\n\t\"gray\": [128 / 255, 128 / 255, 128 / 255],\n\t\"green\": [0, 128 / 255, 0],\n\t\"greenyellow\": [173 / 255, 1, 47 / 255],\n\t\"grey\": [128 / 255, 128 / 255, 128 / 255],\n\t\"honeydew\": [240 / 255, 1, 240 / 255],\n\t\"hotpink\": [1, 105 / 255, 180 / 255],\n\t\"indianred\": [205 / 255, 92 / 255, 92 / 255],\n\t\"indigo\": [75 / 255, 0, 130 / 255],\n\t\"ivory\": [1, 1, 240 / 255],\n\t\"khaki\": [240 / 255, 230 / 255, 140 / 255],\n\t\"lavender\": [230 / 255, 230 / 255, 250 / 255],\n\t\"lavenderblush\": [1, 240 / 255, 245 / 255],\n\t\"lawngreen\": [124 / 255, 252 / 255, 0],\n\t\"lemonchiffon\": [1, 250 / 255, 205 / 255],\n\t\"lightblue\": [173 / 255, 216 / 255, 230 / 255],\n\t\"lightcoral\": [240 / 255, 128 / 255, 128 / 255],\n\t\"lightcyan\": [224 / 255, 1, 1],\n\t\"lightgoldenrodyellow\": [250 / 255, 250 / 255, 210 / 255],\n\t\"lightgray\": [211 / 255, 211 / 255, 211 / 255],\n\t\"lightgreen\": [144 / 255, 238 / 255, 144 / 255],\n\t\"lightgrey\": [211 / 255, 211 / 255, 211 / 255],\n\t\"lightpink\": [1, 182 / 255, 193 / 255],\n\t\"lightsalmon\": [1, 160 / 255, 122 / 255],\n\t\"lightseagreen\": [32 / 255, 178 / 255, 170 / 255],\n\t\"lightskyblue\": [135 / 255, 206 / 255, 250 / 255],\n\t\"lightslategray\": [119 / 255, 136 / 255, 153 / 255],\n\t\"lightslategrey\": [119 / 255, 136 / 255, 153 / 255],\n\t\"lightsteelblue\": [176 / 255, 196 / 255, 222 / 255],\n\t\"lightyellow\": [1, 1, 224 / 255],\n\t\"lime\": [0, 1, 0],\n\t\"limegreen\": [50 / 255, 205 / 255, 50 / 255],\n\t\"linen\": [250 / 255, 240 / 255, 230 / 255],\n\t\"magenta\": [1, 0, 1],\n\t\"maroon\": [128 / 255, 0, 0],\n\t\"mediumaquamarine\": [102 / 255, 205 / 255, 170 / 255],\n\t\"mediumblue\": [0, 0, 205 / 255],\n\t\"mediumorchid\": [186 / 255, 85 / 255, 211 / 255],\n\t\"mediumpurple\": [147 / 255, 112 / 255, 219 / 255],\n\t\"mediumseagreen\": [60 / 255, 179 / 255, 113 / 255],\n\t\"mediumslateblue\": [123 / 255, 104 / 255, 238 / 255],\n\t\"mediumspringgreen\": [0, 250 / 255, 154 / 255],\n\t\"mediumturquoise\": [72 / 255, 209 / 255, 204 / 255],\n\t\"mediumvioletred\": [199 / 255, 21 / 255, 133 / 255],\n\t\"midnightblue\": [25 / 255, 25 / 255, 112 / 255],\n\t\"mintcream\": [245 / 255, 1, 250 / 255],\n\t\"mistyrose\": [1, 228 / 255, 225 / 255],\n\t\"moccasin\": [1, 228 / 255, 181 / 255],\n\t\"navajowhite\": [1, 222 / 255, 173 / 255],\n\t\"navy\": [0, 0, 128 / 255],\n\t\"oldlace\": [253 / 255, 245 / 255, 230 / 255],\n\t\"olive\": [128 / 255, 128 / 255, 0],\n\t\"olivedrab\": [107 / 255, 142 / 255, 35 / 255],\n\t\"orange\": [1, 165 / 255, 0],\n\t\"orangered\": [1, 69 / 255, 0],\n\t\"orchid\": [218 / 255, 112 / 255, 214 / 255],\n\t\"palegoldenrod\": [238 / 255, 232 / 255, 170 / 255],\n\t\"palegreen\": [152 / 255, 251 / 255, 152 / 255],\n\t\"paleturquoise\": [175 / 255, 238 / 255, 238 / 255],\n\t\"palevioletred\": [219 / 255, 112 / 255, 147 / 255],\n\t\"papayawhip\": [1, 239 / 255, 213 / 255],\n\t\"peachpuff\": [1, 218 / 255, 185 / 255],\n\t\"peru\": [205 / 255, 133 / 255, 63 / 255],\n\t\"pink\": [1, 192 / 255, 203 / 255],\n\t\"plum\": [221 / 255, 160 / 255, 221 / 255],\n\t\"powderblue\": [176 / 255, 224 / 255, 230 / 255],\n\t\"purple\": [128 / 255, 0, 128 / 255],\n\t\"rebeccapurple\": [102 / 255, 51 / 255, 153 / 255],\n\t\"red\": [1, 0, 0],\n\t\"rosybrown\": [188 / 255, 143 / 255, 143 / 255],\n\t\"royalblue\": [65 / 255, 105 / 255, 225 / 255],\n\t\"saddlebrown\": [139 / 255, 69 / 255, 19 / 255],\n\t\"salmon\": [250 / 255, 128 / 255, 114 / 255],\n\t\"sandybrown\": [244 / 255, 164 / 255, 96 / 255],\n\t\"seagreen\": [46 / 255, 139 / 255, 87 / 255],\n\t\"seashell\": [1, 245 / 255, 238 / 255],\n\t\"sienna\": [160 / 255, 82 / 255, 45 / 255],\n\t\"silver\": [192 / 255, 192 / 255, 192 / 255],\n\t\"skyblue\": [135 / 255, 206 / 255, 235 / 255],\n\t\"slateblue\": [106 / 255, 90 / 255, 205 / 255],\n\t\"slategray\": [112 / 255, 128 / 255, 144 / 255],\n\t\"slategrey\": [112 / 255, 128 / 255, 144 / 255],\n\t\"snow\": [1, 250 / 255, 250 / 255],\n\t\"springgreen\": [0, 1, 127 / 255],\n\t\"steelblue\": [70 / 255, 130 / 255, 180 / 255],\n\t\"tan\": [210 / 255, 180 / 255, 140 / 255],\n\t\"teal\": [0, 128 / 255, 128 / 255],\n\t\"thistle\": [216 / 255, 191 / 255, 216 / 255],\n\t\"tomato\": [1, 99 / 255, 71 / 255],\n\t\"turquoise\": [64 / 255, 224 / 255, 208 / 255],\n\t\"violet\": [238 / 255, 130 / 255, 238 / 255],\n\t\"wheat\": [245 / 255, 222 / 255, 179 / 255],\n\t\"white\": [1, 1, 1],\n\t\"whitesmoke\": [245 / 255, 245 / 255, 245 / 255],\n\t\"yellow\": [1, 1, 0],\n\t\"yellowgreen\": [154 / 255, 205 / 255, 50 / 255]\n};\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport sRGBLinear from \"./srgb-linear.js\";\nimport KEYWORDS from \"../keywords.js\";\n\nlet coordGrammar = Array(3).fill(\"<percentage> | <number>[0, 255]\");\nlet coordGrammarNumber = Array(3).fill(\"<number>[0, 255]\");\n\nexport default new RGBColorSpace({\n\tid: \"srgb\",\n\tname: \"sRGB\",\n\tbase: sRGBLinear,\n\tfromBase: rgb => {\n\t\t// convert an array of linear-light sRGB values in the range 0.0-1.0\n\t\t// to gamma corrected form\n\t\t// https://en.wikipedia.org/wiki/SRGB\n\t\treturn rgb.map(val => {\n\t\t\tlet sign = val < 0? -1 : 1;\n\t\t\tlet abs = val * sign;\n\n\t\t\tif (abs > 0.0031308) {\n\t\t\t\treturn sign * (1.055 * (abs ** (1/2.4)) - 0.055);\n\t\t\t}\n\n\t\t\treturn 12.92 * val;\n\t\t});\n\t},\n\ttoBase: rgb => {\n\t\t// convert an array of sRGB values in the range 0.0 - 1.0\n\t\t// to linear light (un-companded) form.\n\t\t// https://en.wikipedia.org/wiki/SRGB\n\t\treturn rgb.map(val => {\n\t\t\tlet sign = val < 0? -1 : 1;\n\t\t\tlet abs = val * sign;\n\n\t\t\tif (abs < 0.04045) {\n\t\t\t\treturn val / 12.92;\n\t\t\t}\n\n\t\t\treturn sign * (((abs + 0.055) / 1.055) ** 2.4);\n\t\t});\n\t},\n\tformats: {\n\t\t\"rgb\": {\n\t\t\tcoords: coordGrammar,\n\t\t},\n\t\t\"rgb_number\": {\n\t\t\tname: \"rgb\",\n\t\t\tcommas: true,\n\t\t\tcoords: coordGrammarNumber,\n\t\t\tnoAlpha: true,\n\t\t},\n\t\t\"color\": { /* use defaults */ },\n\t\t\"rgba\": {\n\t\t\tcoords: coordGrammar,\n\t\t\tcommas: true,\n\t\t\tlastAlpha: true,\n\t\t},\n\t\t\"rgba_number\": {\n\t\t\tname: \"rgba\",\n\t\t\tcommas: true,\n\t\t\tcoords: coordGrammarNumber\n\t\t},\n\t\t\"hex\": {\n\t\t\ttype: \"custom\",\n\t\t\ttoGamut: true,\n\t\t\ttest: str => /^#([a-f0-9]{3,4}){1,2}$/i.test(str),\n\t\t\tparse (str) {\n\t\t\t\tif (str.length <= 5) {\n\t\t\t\t\t// #rgb or #rgba, duplicate digits\n\t\t\t\t\tstr = str.replace(/[a-f0-9]/gi, \"$&$&\");\n\t\t\t\t}\n\n\t\t\t\tlet rgba = [];\n\t\t\t\tstr.replace(/[a-f0-9]{2}/gi, component => {\n\t\t\t\t\trgba.push(parseInt(component, 16) / 255);\n\t\t\t\t});\n\n\t\t\t\treturn {\n\t\t\t\t\tspaceId: \"srgb\",\n\t\t\t\t\tcoords: rgba.slice(0, 3),\n\t\t\t\t\talpha: rgba.slice(3)[0]\n\t\t\t\t};\n\t\t\t},\n\t\t\tserialize: (coords, alpha, {\n\t\t\t\tcollapse = true // collapse to 3-4 digit hex when possible?\n\t\t\t} = {}) => {\n\t\t\t\tif (alpha < 1) {\n\t\t\t\t\tcoords.push(alpha);\n\t\t\t\t}\n\n\t\t\t\tcoords = coords.map(c => Math.round(c * 255));\n\n\t\t\t\tlet collapsible = collapse && coords.every(c => c % 17 === 0);\n\n\t\t\t\tlet hex = coords.map(c => {\n\t\t\t\t\tif (collapsible) {\n\t\t\t\t\t\treturn (c/17).toString(16);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn c.toString(16).padStart(2, \"0\");\n\t\t\t\t}).join(\"\");\n\n\t\t\t\treturn \"#\" + hex;\n\t\t\t}\n\t\t},\n\t\t\"keyword\": {\n\t\t\ttype: \"custom\",\n\t\t\ttest: str => /^[a-z]+$/i.test(str),\n\t\t\tparse (str) {\n\t\t\t\tstr = str.toLowerCase();\n\t\t\t\tlet ret = {spaceId: \"srgb\", coords: null, alpha: 1};\n\n\t\t\t\tif (str === \"transparent\") {\n\t\t\t\t\tret.coords = KEYWORDS.black;\n\t\t\t\t\tret.alpha = 0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tret.coords = KEYWORDS[str];\n\t\t\t\t}\n\n\t\t\t\tif (ret.coords) {\n\t\t\t\t\treturn ret;\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t}\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport P3Linear from \"./p3-linear.js\";\nimport sRGB from \"./srgb.js\";\n\nexport default new RGBColorSpace({\n\tid: \"p3\",\n\tname: \"P3\",\n\tbase: P3Linear,\n\t// Gamma encoding/decoding is the same as sRGB\n\tfromBase: sRGB.fromBase,\n\ttoBase: sRGB.toBase,\n\tformats: {\n\t\tcolor: {\n\t\t\tid: \"display-p3\",\n\t\t}\n\t},\n});\n", "import * as util from \"./util.js\";\nimport ColorSpace from \"./space.js\";\nimport defaults from \"./defaults.js\";\nimport getColor from \"./getColor.js\";\nimport to from \"./to.js\";\nimport checkInGamut from \"./inGamut.js\";\nimport toGamut from \"./toGamut.js\";\nimport clone from \"./clone.js\";\nimport serialize from \"./serialize.js\";\nimport REC2020 from \"./spaces/rec2020.js\";\nimport P3 from \"./spaces/p3.js\";\nimport Lab from \"./spaces/lab.js\";\nimport sRGB from \"./spaces/srgb.js\";\n\n// Default space for CSS output. Code in Color.js makes this wider if there's a DOM available\ndefaults.display_space = sRGB;\n\nif (typeof CSS !== \"undefined\" && CSS.supports) {\n\t// Find widest supported color space for CSS\n\tfor (let space of [Lab, REC2020, P3]) {\n\t\tlet coords = space.getMinCoords();\n\t\tlet color = {space, coords, alpha: 1};\n\t\tlet str = serialize(color);\n\n\t\tif (CSS.supports(\"color\", str)) {\n\t\t\tdefaults.display_space = space;\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\n/**\n * Returns a serialization of the color that can actually be displayed in the browser.\n * If the default serialization can be displayed, it is returned.\n * Otherwise, the color is converted to Lab, REC2020, or P3, whichever is the widest supported.\n * In Node.js, this is basically equivalent to `serialize()` but returns a `String` object instead.\n *\n * @export\n * @param {{space, coords} | Color | string} color\n * @param {*} [options={}] Options to be passed to serialize()\n * @param {ColorSpace | string} [options.space = defaults.display_space] Color space to use for serialization if default is not supported\n * @returns {String} String object containing the serialized color with a color property containing the converted color (or the original, if no conversion was necessary)\n */\nexport default function display (color, {space = defaults.display_space, ...options} = {}) {\n\tlet ret = serialize(color, options);\n\n\tif (typeof CSS === \"undefined\" || CSS.supports(\"color\", ret) || !defaults.display_space) {\n\t\tret = new String(ret);\n\t\tret.color = color;\n\t}\n\telse {\n\t\t// If we're here, what we were about to output is not supported\n\t\t// Fall back to fallback space\n\t\tlet fallbackColor = to(color, space);\n\t\tret = new String(serialize(fallbackColor, options));\n\t\tret.color = fallbackColor;\n\t}\n\n\treturn ret;\n}\n", "import ColorSpace from \"./space.js\";\n\n/**\n * Euclidean distance of colors in an arbitrary color space\n */\nexport default function distance (color1, color2, space = \"lab\") {\n\tspace = ColorSpace.get(space);\n\n\tlet coords1 = space.from(color1);\n\tlet coords2 = space.from(color2);\n\n\treturn Math.sqrt(coords1.reduce((acc, c1, i) => {\n\t\tlet c2 = coords2[i];\n\t\tif (isNaN(c1) || isNaN(c2)) {\n\t\t\treturn acc;\n\t\t}\n\n\t\treturn acc + (c2 - c1) ** 2;\n\t}, 0));\n}\n", "import getColor from \"./getColor.js\";\n\nexport default function equals (color1, color2) {\n\tcolor1 = getColor(color1);\n\tcolor2 = getColor(color2);\n\n\treturn color1.space === color2.space\n\t\t   && color1.alpha === color2.alpha\n\t\t   && color1.coords.every((c, i) => c === color2.coords[i]);\n}\n", "/**\n * Relative luminance\n */\nimport get from \"./get.js\";\nimport set from \"./set.js\";\nimport xyz_d65 from \"./spaces/xyz-d65.js\";\n\nexport function getLuminance (color) {\n\treturn get(color, [xyz_d65, \"y\"]);\n}\n\nexport function setLuminance (color, value) {\n\tset(color, [xyz_d65, \"y\"], value);\n}\n\nexport function register (Color) {\n\tObject.defineProperty(Color.prototype, \"luminance\", {\n\t\tget () {\n\t\t\treturn getLuminance(this);\n\t\t},\n\t\tset (value) {\n\t\t\tsetLuminance(this, value);\n\t\t}\n\t});\n}\n", "// WCAG 2.0 contrast https://www.w3.org/TR/WCAG20-TECHS/G18.html\n// Simple contrast, with fixed 5% viewing flare contribution\n// Symmetric, does not matter which is foreground and which is background\n\nimport getColor from \"../getColor.js\";\nimport {getLuminance} from \"../luminance.js\";\n\nexport default function contrastWCAG21 (color1, color2) {\n\tcolor1 = getColor(color1);\n\tcolor2 = getColor(color2);\n\n\tlet Y1 = Math.max(getLuminance(color1), 0);\n\tlet Y2 = Math.max(getLuminance(color2), 0);\n\n\tif (Y2 > Y1) {\n\t\t[Y1, Y2] = [Y2, Y1];\n\t}\n\n\treturn (Y1 + .05) / (Y2 + .05);\n};\n", "// APCA 0.0.98G\n// https://github.com/Myndex/apca-w3\n// see also https://github.com/w3c/silver/issues/643\n\nimport getColor from \"../getColor.js\";\nimport to from \"../to.js\";\n\n// exponents\nconst normBG = 0.56;\nconst normTXT = 0.57;\nconst revTXT = 0.62;\nconst revBG = 0.65;\n\n// clamps\nconst blkThrs = 0.022;\nconst blkClmp = 1.414;\nconst loClip = 0.1;\nconst deltaYmin = 0.0005;\n\n// scalers\n// see https://github.com/w3c/silver/issues/645\nconst scaleBoW = 1.14;\nconst loBoWoffset = 0.027;\nconst scaleWoB= 1.14;\nconst loWoBoffset = 0.027;\n\nfunction fclamp (Y) {\n\tif (Y >= blkThrs) {\n\t\treturn Y;\n\t}\n\treturn Y + (blkThrs - Y) ** blkClmp;\n}\n\nfunction linearize (val) {\n\tlet sign = val < 0? -1 : 1;\n\tlet abs = Math.abs(val);\n\treturn sign * Math.pow(abs, 2.4);\n}\n\n// Not symmetric, requires a foreground (text) color, and a background color\nexport default function contrastAPCA (background, foreground) {\n\tforeground = getColor(foreground);\n\tbackground = getColor(background);\n\n\tlet S;\n\tlet C;\n\tlet Sapc;\n\n\t// Myndex as-published, assumes sRGB inputs\n\tlet R, G, B;\n\n\tforeground = to(foreground, \"srgb\");\n\t// Should these be clamped to in-gamut values?\n\n\t// Calculates \"screen luminance\" with non-standard simple gamma EOTF\n\t// weights should be from CSS Color 4, not the ones here which are via Myndex and copied from Lindbloom\n\t[R, G, B] = foreground.coords;\n\tlet lumTxt = linearize(R) * 0.2126729 + linearize(G) * 0.7151522 + linearize(B) * 0.0721750;\n\n\tbackground = to(background, \"srgb\");\n\t[R, G, B] = background.coords;\n\tlet lumBg = linearize(R) * 0.2126729 + linearize(G) * 0.7151522 + linearize(B) * 0.0721750;\n\n\t// toe clamping of very dark values to account for flare\n\tlet Ytxt = fclamp(lumTxt);\n\tlet Ybg = fclamp(lumBg);\n\n\t// are we \"Black on White\" (dark on light), or light on dark?\n\tlet BoW = Ybg > Ytxt;\n\n\t// why is this a delta, when Y is not perceptually uniform?\n\t// Answer: it is a noise gate, see\n\t// https://github.com/LeaVerou/color.js/issues/208\n\tif (Math.abs(Ybg - Ytxt) < deltaYmin) {\n\t\tC = 0;\n\t}\n\telse {\n\t\tif (BoW) {\n\t\t\t// dark text on light background\n\t\t\tS = Ybg ** normBG - Ytxt ** normTXT;\n\t\t\tC = S * scaleBoW;\n\t\t}\n\t\telse {\n\t\t\t// light text on dark background\n\t\t\tS = Ybg ** revBG - Ytxt ** revTXT;\n\t\t\tC = S * scaleWoB;\n\t\t}\n\t}\n\tif (Math.abs(C) < loClip) {\n\t\tSapc = 0;\n\t}\n\telse if (C > 0) {\n\t\t// not clear whether Woffset is loBoWoffset or loWoBoffset\n\t\t// but they have the same value\n\t\tSapc = C - loBoWoffset;\n\t}\n\telse {\n\t\tSapc = C + loBoWoffset;\n\t}\n\n\treturn Sapc * 100;\n}\n", "// Michelson  luminance contrast\n// the relation between the spread and the sum of the two luminances\n// Symmetric, does not matter which is foreground and which is background\n// No black level compensation for flare.\n\nimport getColor from \"../getColor.js\";\nimport {getLuminance} from \"../luminance.js\";\n\nexport default function contrastMichelson (color1, color2) {\n\tcolor1 = getColor(color1);\n\tcolor2 = getColor(color2);\n\n\tlet Y1 = Math.max(getLuminance(color1), 0);\n\tlet Y2 = Math.max(getLuminance(color2), 0);\n\n\tif (Y2 > Y1) {\n\t\t[Y1, Y2] = [Y2, Y1];\n\t}\n\n\tlet denom = (Y1 + Y2);\n\treturn denom === 0 ? 0 : (Y1 - Y2) / denom;\n};\n", "// Weber luminance contrast\n// The difference between the two luminances divided by the lower luminance\n// Symmetric, does not matter which is foreground and which is background\n// No black level compensation for flare.\n\nimport getColor from \"../getColor.js\";\nimport {getLuminance} from \"../luminance.js\";\n\n// the darkest sRGB color above black is #000001 and this produces\n// a plain Weber contrast of ~45647.\n// So, setting the divide-by-zero result at 50000 is a reasonable\n// max clamp for the plain Weber\nconst max = 50000;\n\nexport default function contrastWeber (color1, color2) {\n\tcolor1 = getColor(color1);\n\tcolor2 = getColor(color2);\n\n\tlet Y1 = Math.max(getLuminance(color1), 0);\n\tlet Y2 = Math.max(getLuminance(color2), 0);\n\n\tif (Y2 > Y1) {\n\t\t[Y1, Y2] = [Y2, Y1];\n\t}\n\n\treturn Y2 === 0 ? max : (Y1 - Y2) / Y2;\n};\n", "// CIE Lightness difference, as used by Google Material Design\n// Google HCT Tone is the same as CIE Lightness\n// https://material.io/blog/science-of-color-design\n\nimport getColor from \"../getColor.js\";\nimport get from \"../get.js\";\nimport lab from \"../spaces/lab.js\";\n\nexport default function contrastLstar (color1, color2) {\n\tcolor1 = getColor(color1);\n\tcolor2 = getColor(color2);\n\n\tlet L1 = get(color1, [lab, \"l\"]);\n\tlet L2 = get(color2, [lab, \"l\"]);\n\n\treturn Math.abs(L1 - L2);\n};\n", "import ColorSpace from \"../space.js\";\nimport {WHITES} from \"../adapt.js\";\nimport xyz_d65 from \"./xyz-d65.js\";\n\n// κ * ε  = 2^3 = 8\nconst ε = 216/24389;  // 6^3/29^3 == (24/116)^3\nconst ε3 = 24/116;\nconst κ = 24389/27;   // 29^3/3^3\n\nlet white = WHITES.D65;\n\nexport default new ColorSpace({\n\tid: \"lab-d65\",\n\tname: \"Lab D65\",\n\tcoords: {\n\t\tl: {\n\t\t\trefRange: [0, 100],\n\t\t\tname: \"L\"\n\t\t},\n\t\ta: {\n\t\t\trefRange: [-125, 125]\n\t\t},\n\t\tb: {\n\t\t\trefRange: [-125, 125]\n\t\t}\n\t},\n\n\t// Assuming XYZ is relative to D65, convert to CIE Lab\n\t// from CIE standard, which now defines these as a rational fraction\n\twhite,\n\n\tbase: xyz_d65,\n\t// Convert D65-adapted XYZ to Lab\n\t//  CIE 15.3:2004 section 8.2.1.1\n\tfromBase (XYZ) {\n\t\t// compute xyz, which is XYZ scaled relative to reference white\n\t\tlet xyz = XYZ.map((value, i) => value / white[i]);\n\n\t\t// now compute f\n\t\tlet f = xyz.map(value => value > ε ? Math.cbrt(value) : (κ * value + 16)/116);\n\n\t\treturn [\n\t\t\t(116 * f[1]) - 16, \t // L\n\t\t\t500 * (f[0] - f[1]), // a\n\t\t\t200 * (f[1] - f[2])  // b\n\t\t];\n\t},\n\t// Convert Lab to D65-adapted XYZ\n\t// Same result as CIE 15.3:2004 Appendix D although the derivation is different\n\t// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n\ttoBase (Lab) {\n\t\t// compute f, starting with the luminance-related term\n\t\tlet f = [];\n\t\tf[1] = (Lab[0] + 16)/116;\n\t\tf[0] = Lab[1]/500 + f[1];\n\t\tf[2] = f[1] - Lab[2]/200;\n\n\t\t// compute xyz\n\t\tlet xyz = [\n\t\t\tf[0]   > ε3  ?  Math.pow(f[0], 3)            : (116*f[0]-16)/κ,\n\t\t\tLab[0] > 8   ?  Math.pow((Lab[0]+16)/116, 3) : Lab[0]/κ,\n\t\t\tf[2]   > ε3  ?  Math.pow(f[2], 3)            : (116*f[2]-16)/κ\n\t\t];\n\n\t\t// Compute XYZ by scaling xyz by reference white\n\t\treturn xyz.map((value, i) => value * white[i]);\n\t},\n\n\tformats: {\n\t\t\"lab-d65\": {\n\t\t\tcoords: [\"<number> | <percentage>\", \"<number> | <percentage>[-1,1]\", \"<number> | <percentage>[-1,1]\"],\n\t\t}\n\t}\n});\n", "// Delta Phi Star perceptual lightness contrast\n// See https://github.com/Myndex/deltaphistar\n// The (difference between two Lstars each raised to phi) raised to (1/phi)\n// Symmetric, does not matter which is foreground and which is background\n\n\nimport getColor from \"../getColor.js\";\nimport get from \"../get.js\";\nimport lab_d65 from \"../spaces/lab-d65.js\";\n\nconst phi = Math.pow(5, 0.5) * 0.5 + 0.5; // Math.phi can be used if Math.js\n\nexport default function contrastDeltaPhi (color1, color2) {\n\tcolor1 = getColor(color1);\n\tcolor2 = getColor(color2);\n\n\tlet Lstr1 = get(color1, [lab_d65, \"l\"]);\n\tlet Lstr2 = get(color2, [lab_d65, \"l\"]);\n\n\tlet deltaPhiStar = Math.abs(Math.pow(Lstr1, phi) - Math.pow(Lstr2, phi));\n\n\tlet contrast = Math.pow(deltaPhiStar, (1 / phi)) * Math.SQRT2 - 40;\n\n\treturn (contrast < 7.5) ? 0.0 : contrast ;\n};\n", "import getColor from \"./getColor.js\";\n// import defaults from \"./defaults.js\";\nimport {isString} from \"./util.js\";\nimport * as contrastAlgorithms from \"./contrast/index.js\";\n\nexport default function contrast (background, foreground, o = {}) {\n\tif (isString(o)) {\n\t\to = {algorithm: o};\n\t}\n\n\tlet {algorithm, ...rest} = o;\n\n\tif (!algorithm) {\n\t\tlet algorithms = Object.keys(contrastAlgorithms).map(a => a.replace(/^contrast/, \"\")).join(\", \");\n\t\tthrow new TypeError(`contrast() function needs a contrast algorithm. Please specify one of: ${algorithms}`);\n\t}\n\n\tbackground = getColor(background);\n\tforeground = getColor(foreground);\n\n\tfor (let a in contrastAlgorithms) {\n\t\tif (\"contrast\" + algorithm.toLowerCase() === a.toLowerCase()) {\n\t\t\treturn contrastAlgorithms[a](background, foreground, rest);\n\t\t}\n\t}\n\n\tthrow new TypeError(`Unknown contrast algorithm: ${algorithm}`);\n};\n", "import xyz_d65 from \"./spaces/xyz-d65.js\";\nimport getAll from \"./getAll.js\";\n\n// Chromaticity coordinates\nexport function uv (color) {\n\tlet [X, Y, Z] = getAll(color, xyz_d65);\n\tlet denom = X + 15 * Y + 3 * Z;\n\treturn [4 * X / denom, 9 * Y / denom];\n}\n\nexport function xy (color) {\n\tlet [X, Y, Z] = getAll(color, xyz_d65);\n\tlet  sum = X + Y + Z;\n\treturn [X / sum, Y / sum];\n}\n\nexport function register (Color) {\n\t// no setters, as lightness information is lost\n\t// when converting color to chromaticity\n\tObject.defineProperty(Color.prototype, \"uv\", {\n\t\tget () {\n\t\t\treturn uv(this);\n\t\t}\n\t});\n\n\tObject.defineProperty(Color.prototype, \"xy\", {\n\t\tget () {\n\t\t\treturn xy(this);\n\t\t}\n\t});\n}\n", "import distance from \"../distance.js\";\n\nexport default function deltaE76 (color, sample) {\n\treturn distance(color, sample, \"lab\");\n};\n", "import lab from \"../spaces/lab.js\";\nimport lch from \"../spaces/lch.js\";\n\n// More accurate color-difference formulae\n// than the simple 1976 Euclidean distance in Lab\n\n// CMC by the Color Measurement Committee of the\n// Bradford Society of Dyeists and Colorsts, 1994.\n// Uses LCH rather than Lab,\n// with different weights for L, C and H differences\n// A nice increase in accuracy for modest increase in complexity\nconst π = Math.PI;\nconst d2r = π / 180;\n\nexport default function (color, sample, {l = 2, c = 1} = {}) {\n\t// Given this color as the reference\n\t// and a sample,\n\t// calculate deltaE CMC.\n\n\t// This implementation assumes the parametric\n\t// weighting factors l:c are 2:1\n\t// which is typical for non-textile uses.\n\n\tlet [L1, a1, b1] = lab.from(color);\n\tlet [, C1, H1] = lch.from(lab, [L1, a1, b1]);\n\tlet [L2, a2, b2] = lab.from(sample);\n\tlet C2 = lch.from(lab, [L2, a2, b2])[1];\n\n\t// let [L1, a1, b1] = color.getAll(lab);\n\t// let C1 = color.get(\"lch.c\");\n\t// let H1 = color.get(\"lch.h\");\n\t// let [L2, a2, b2] = sample.getAll(lab);\n\t// let C2 = sample.get(\"lch.c\");\n\n\t// Check for negative Chroma,\n\t// which might happen through\n\t// direct user input of LCH values\n\n\tif (C1 < 0) {\n\t\tC1 = 0;\n\t}\n\tif (C2 < 0) {\n\t\tC2 = 0;\n\t}\n\n\t// we don't need H2 as ΔH is calculated from Δa, Δb and ΔC\n\n\t// Lightness and Chroma differences\n\t// These are (color - sample), unlike deltaE2000\n\tlet ΔL = L1 - L2;\n\tlet ΔC = C1 - C2;\n\n\tlet Δa = a1 - a2;\n\tlet Δb = b1 - b2;\n\n\t// weighted Hue difference, less for larger Chroma difference\n\n\tlet H2 = (Δa ** 2) + (Δb ** 2) - (ΔC ** 2);\n\t// due to roundoff error it is possible that, for zero a and b,\n\t// ΔC > Δa + Δb is 0, resulting in attempting\n\t// to take the square root of a negative number\n\n\t// trying instead the equation from Industrial Color Physics\n\t// By Georg A. Klein\n\n\t// let ΔH = ((a1 * b2) - (a2 * b1)) / Math.sqrt(0.5 * ((C2 * C1) + (a2 * a1) + (b2 * b1)));\n\t// console.log({ΔH});\n\t// This gives the same result to 12 decimal places\n\t// except it sometimes NaNs when trying to root a negative number\n\n\t// let ΔH = Math.sqrt(H2); we never actually use the root, it gets squared again!!\n\n\t// positional corrections to the lack of uniformity of CIELAB\n\t// These are all trying to make JND ellipsoids more like spheres\n\n\t// SL Lightness crispening factor, depends entirely on L1 not L2\n\tlet SL = 0.511;\t// linear portion of the Y to L transfer function\n\tif (L1 >= 16) {\t// cubic portion\n\t\tSL = (0.040975 * L1) / (1 + 0.01765 * L1);\n\t}\n\n\t// SC Chroma factor\n\tlet SC = ((0.0638 * C1) / (1 + 0.0131 * C1)) + 0.638;\n\n\t// Cross term T for blue non-linearity\n\tlet T;\n\tif ( Number.isNaN(H1)) {\n\t\tH1 = 0;\n\t}\n\n\tif (H1 >= 164 && H1 <= 345) {\n\t\tT = 0.56 + Math.abs(0.2 * Math.cos((H1 + 168) * d2r));\n\t}\n\telse {\n\t\tT = 0.36 + Math.abs(0.4 * Math.cos((H1 + 35) * d2r));\n\t}\n\t// console.log({T});\n\n\t// SH Hue factor also depends on C1,\n\tlet C4 = Math.pow(C1, 4);\n\tlet F = Math.sqrt(C4 / (C4 + 1900));\n\tlet SH = SC * ((F * T) + 1 - F);\n\n\t// Finally calculate the deltaE, term by term as root sume of squares\n\tlet dE = (ΔL / (l * SL)) ** 2;\n\tdE += (ΔC / (c * SC)) ** 2;\n\tdE += (H2 / (SH ** 2));\n\t// dE += (ΔH / SH)  ** 2;\n\treturn Math.sqrt(dE);\n\t// Yay!!!\n};\n", "import ColorSpace from \"../space.js\";\nimport XYZ_D65 from \"./xyz-d65.js\";\n\nconst Yw = 203;\t// absolute luminance of media white\n\nexport default new ColorSpace({\n// Absolute CIE XYZ, with a D65 whitepoint,\n// as used in most HDR colorspaces as a starting point.\n// SDR spaces are converted per BT.2048\n// so that diffuse, media white is 203 cd/m²\n\tid: \"xyz-abs-d65\",\n\tname: \"Absolute XYZ D65\",\n\tcoords: {\n\t\tx: {\n\t\t\trefRange: [0, 9504.7],\n\t\t\tname: \"Xa\",\n\t\t},\n\t\ty: {\n\t\t\trefRange: [0, 10000],\n\t\t\tname: \"Ya\",\n\t\t},\n\t\tz: {\n\t\t\trefRange: [0, 10888.3],\n\t\t\tname: \"Za\",\n\t\t}\n\t},\n\n\tbase: XYZ_D65,\n\tfromBase (XYZ) {\n\t\t// Make XYZ absolute, not relative to media white\n\t\t// Maximum luminance in PQ is 10,000 cd/m²\n\t\t// Relative XYZ has Y=1 for media white\n\t\treturn XYZ.map (v => Math.max(v * Yw, 0));\n\t},\n\ttoBase (AbsXYZ) {\n\t\t// Convert to media-white relative XYZ\n\t\treturn AbsXYZ.map(v => Math.max(v / Yw, 0));\n\t}\n});\n", "import ColorSpace from \"../space.js\";\nimport {multiplyMatrices} from \"../util.js\";\nimport XYZ_Abs_D65 from \"./xyz-abs-d65.js\";\n\nconst b = 1.15;\nconst g = 0.66;\nconst n = 2610 / (2 ** 14);\nconst ninv = (2 ** 14) / 2610;\nconst c1 = 3424 / (2 ** 12);\nconst c2 = 2413 / (2 ** 7);\nconst c3 = 2392 / (2 ** 7);\nconst p = 1.7 * 2523 / (2 ** 5);\nconst pinv = (2 ** 5) / (1.7 * 2523);\nconst d = -0.56;\nconst d0 = 1.6295499532821566E-11;\n\nconst XYZtoCone_M = [\n\t[  0.41478972, 0.579999,  0.0146480 ],\n\t[ -0.2015100,  1.120649,  0.0531008 ],\n\t[ -0.0166008,  0.264800,  0.6684799 ]\n];\n// XYZtoCone_M inverted\nconst ConetoXYZ_M = [\n\t[  1.9242264357876067,  -1.0047923125953657,  0.037651404030618   ],\n\t[  0.35031676209499907,  0.7264811939316552, -0.06538442294808501 ],\n\t[ -0.09098281098284752, -0.3127282905230739,  1.5227665613052603  ]\n];\nconst ConetoIab_M = [\n\t[  0.5,       0.5,       0        ],\n\t[  3.524000, -4.066708,  0.542708 ],\n\t[  0.199076,  1.096799, -1.295875 ]\n];\n// ConetoIab_M inverted\nconst IabtoCone_M = [\n\t[ 1,                   0.1386050432715393,   0.05804731615611886 ],\n\t[ 0.9999999999999999, -0.1386050432715393,  -0.05804731615611886 ],\n\t[ 0.9999999999999998, -0.09601924202631895, -0.8118918960560388  ]\n];\n\nexport default new ColorSpace({\n\tid: \"jzazbz\",\n\tname: \"Jzazbz\",\n\tcoords: {\n\t\tjz: {\n\t\t\trefRange: [0, 1],\n\t\t\tname: \"Jz\",\n\t\t},\n\t\taz: {\n\t\t\trefRange: [-0.5, 0.5],\n\t\t},\n\t\tbz: {\n\t\t\trefRange: [-0.5, 0.5],\n\t\t}\n\t},\n\n\tbase: XYZ_Abs_D65,\n\tfromBase (XYZ) {\n\t\t// First make XYZ absolute, not relative to media white\n\t\t// Maximum luminance in PQ is 10,000 cd/m²\n\t\t// Relative XYZ has Y=1 for media white\n\t\t// BT.2048 says media white Y=203 at PQ 58\n\n\t\tlet [ Xa, Ya, Za ] = XYZ;\n\n\t\t// modify X and Y\n\t\tlet Xm = (b * Xa) - ((b - 1) * Za);\n\t\tlet Ym = (g * Ya) - ((g - 1) * Xa);\n\n\t\t// move to LMS cone domain\n\t\tlet LMS = multiplyMatrices(XYZtoCone_M, [ Xm, Ym, Za ]);\n\n\t\t// PQ-encode LMS\n\t\tlet PQLMS = LMS.map (function (val) {\n\t\t\tlet num = c1 + (c2 * ((val / 10000) ** n));\n\t\t\tlet denom = 1 + (c3 * ((val / 10000) ** n));\n\n\t\t\treturn (num / denom)  ** p;\n\t\t});\n\n\t\t// almost there, calculate Iz az bz\n\t\tlet [ Iz, az, bz] = multiplyMatrices(ConetoIab_M, PQLMS);\n\t\t// console.log({Iz, az, bz});\n\n\t\tlet Jz = ((1 + d) * Iz) / (1 + (d * Iz)) - d0;\n\t\treturn [Jz, az, bz];\n\t},\n\ttoBase (Jzazbz) {\n\t\tlet [Jz, az, bz] = Jzazbz;\n\t\tlet Iz = (Jz + d0) / (1 + d - d * (Jz + d0));\n\n\t\t// bring into LMS cone domain\n\t\tlet PQLMS = multiplyMatrices(IabtoCone_M, [ Iz, az, bz ]);\n\n\t\t// convert from PQ-coded to linear-light\n\t\tlet LMS = PQLMS.map(function (val) {\n\t\t\tlet num = (c1 - (val ** pinv));\n\t\t\tlet denom = (c3 * (val ** pinv)) - c2;\n\t\t\tlet x = 10000 * ((num / denom) ** ninv);\n\n\t\t\treturn (x); \t// luminance relative to diffuse white, [0, 70 or so].\n\t\t});\n\n\t\t// modified abs XYZ\n\t\tlet [ Xm, Ym, Za ] = multiplyMatrices(ConetoXYZ_M, LMS);\n\n\t\t// restore standard D50 relative XYZ, relative to media white\n\t\tlet Xa = (Xm + ((b -1) * Za)) / b;\n\t\tlet Ya = (Ym + ((g -1) * Xa)) / g;\n\t\treturn [ Xa, Ya, Za ];\n\t},\n\n\tformats: {\n\t\t// https://drafts.csswg.org/css-color-hdr/#Jzazbz\n\t\t\"color\": {}\n\t}\n});\n", "import ColorSpace from \"../space.js\";\nimport Jzazbz from \"./jzazbz.js\";\nimport {constrain as constrainAngle} from \"../angles.js\";\n\nexport default new ColorSpace({\n\tid: \"jzczhz\",\n\tname: \"JzCzHz\",\n\tcoords: {\n\t\tjz: {\n\t\t\trefRange: [0, 1],\n\t\t\tname: \"Jz\",\n\t\t},\n\t\tcz: {\n\t\t\trefRange: [0, 1],\n\t\t\tname: \"Chroma\",\n\t\t},\n\t\thz: {\n\t\t\trefRange: [0, 360],\n\t\t\ttype: \"angle\",\n\t\t\tname: \"Hue\",\n\t\t}\n\t},\n\n\tbase: Jzazbz,\n\tfromBase (jzazbz) {\n\t\t// Convert to polar form\n\t\tlet [Jz, az, bz] = jzazbz;\n\t\tlet hue;\n\t\tconst ε = 0.0002; // chromatic components much smaller than a,b\n\n\t\tif (Math.abs(az) < ε && Math.abs(bz) < ε) {\n\t\t\thue = NaN;\n\t\t}\n\t\telse {\n\t\t\thue = Math.atan2(bz, az) * 180 / Math.PI;\n\t\t}\n\n\t\treturn [\n\t\t\tJz, // Jz is still Jz\n\t\t\tMath.sqrt(az ** 2 + bz ** 2), // Chroma\n\t\t\tconstrainAngle(hue) // Hue, in degrees [0 to 360)\n\t\t];\n\t},\n\ttoBase (jzczhz) {\n\t\t// Convert from polar form\n\t\t// debugger;\n\t\treturn [\n\t\t\tjzczhz[0], // Jz is still Jz\n\t\t\tjzczhz[1] * Math.cos(jzczhz[2] * Math.PI / 180), // az\n\t\t\tjzczhz[1] * Math.sin(jzczhz[2] * Math.PI / 180)  // bz\n\t\t];\n\t},\n\tformats: {\n\t\tcolor: {}\n\t},\n});\n", "import jzczhz from \"../spaces/jzczhz.js\";\n\n// More accurate color-difference formulae\n// than the simple 1976 Euclidean distance in Lab\n\n// Uses JzCzHz, which has improved perceptual uniformity\n// and thus a simple Euclidean root-sum of ΔL² ΔC² ΔH²\n// gives good results.\n\nexport default function (color, sample) {\n\t// Given this color as the reference\n\t// and a sample,\n\t// calculate deltaE in JzCzHz.\n\tlet [Jz1, Cz1, Hz1] = jzczhz.from(color);\n\tlet [Jz2, Cz2, Hz2] = jzczhz.from(sample);\n\n\t// Lightness and Chroma differences\n\t// sign does not matter as they are squared.\n\tlet ΔJ = Jz1 - Jz2;\n\tlet ΔC = Cz1 - Cz2;\n\n\t// length of chord for ΔH\n\tif ((Number.isNaN(Hz1)) && (Number.isNaN(Hz2))) {\n\t\t// both undefined hues\n\t\tHz1 = 0;\n\t\tHz2 = 0;\n\t}\n\telse if (Number.isNaN(Hz1)) {\n\t\t// one undefined, set to the defined hue\n\t\tHz1 = Hz2;\n\t}\n\telse if (Number.isNaN(Hz2)) {\n\t\tHz2 = Hz1;\n\t}\n\n\tlet Δh = Hz1 - Hz2;\n\tlet ΔH = 2 * Math.sqrt(Cz1 * Cz2) * Math.sin((Δh / 2) * (Math.PI / 180));\n\n\treturn Math.sqrt(ΔJ ** 2 + ΔC ** 2 + ΔH ** 2);\n};\n", "import ColorSpace from \"../space.js\";\nimport {multiplyMatrices} from \"../util.js\";\nimport XYZ_Abs_D65 from \"./xyz-abs-d65.js\";\n\nconst c1 = 3424 / 4096;\nconst c2 = 2413 / 128;\nconst c3 = 2392 / 128;\nconst m1 = 2610 / 16384;\nconst m2 = 2523 / 32;\nconst im1 = 16384 / 2610;\nconst im2 = 32 / 2523;\n\n// The matrix below includes the 4% crosstalk components\n// and is from the Dolby \"What is ICtCp\" paper\"\nconst XYZtoLMS_M = [\n\t[ 0.3592,  0.6976, -0.0358],\n\t[-0.1922,  1.1004,  0.0755],\n\t[ 0.0070,  0.0749,  0.8434]\n];\n// linear-light Rec.2020 to LMS, again with crosstalk\n// rational terms from Jan Fröhlich,\n// Encoding High Dynamic Range andWide Color Gamut Imagery, p.97\n// and ITU-R BT.2124-0 p.2\n/*\nconst Rec2020toLMS_M = [\n\t[ 1688 / 4096,  2146 / 4096,   262 / 4096 ],\n\t[  683 / 4096,  2951 / 4096,   462 / 4096 ],\n\t[   99 / 4096,   309 / 4096,  3688 / 4096 ]\n];\n*/\n// this includes the Ebner LMS coefficients,\n// the rotation, and the scaling to [-0.5,0.5] range\n// rational terms from Fröhlich p.97\n// and ITU-R BT.2124-0 pp.2-3\nconst LMStoIPT_M = [\n\t[  2048 / 4096,   2048 / 4096,       0      ],\n\t[  6610 / 4096, -13613 / 4096,  7003 / 4096 ],\n\t[ 17933 / 4096, -17390 / 4096,  -543 / 4096 ]\n];\n\n// inverted matrices, calculated from the above\nconst IPTtoLMS_M = [\n\t[0.99998889656284013833, 0.00860505014728705821,  0.1110343715986164786 ],\n\t[1.0000111034371598616, -0.00860505014728705821, -0.1110343715986164786 ],\n\t[1.000032063391005412,   0.56004913547279000113, -0.32063391005412026469],\n];\n/*\nconst LMStoRec2020_M = [\n\t[ 3.4375568932814012112,   -2.5072112125095058195,   0.069654319228104608382],\n\t[-0.79142868665644156125,   1.9838372198740089874,  -0.19240853321756742626 ],\n\t[-0.025646662911506476363, -0.099240248643945566751, 1.1248869115554520431  ]\n];\n*/\nconst LMStoXYZ_M = [\n\t[ 2.0701800566956135096,   -1.3264568761030210255,    0.20661600684785517081 ],\n\t[ 0.36498825003265747974,   0.68046736285223514102,  -0.045421753075853231409],\n\t[-0.049595542238932107896, -0.049421161186757487412,  1.1879959417328034394  ]\n];\n\n// Only the PQ form of ICtCp is implemented here. There is also an HLG form.\n// from Dolby, \"WHAT IS ICTCP?\"\n// https://professional.dolby.com/siteassets/pdfs/ictcp_dolbywhitepaper_v071.pdf\n// and\n// Dolby, \"Perceptual Color Volume\n// Measuring the Distinguishable Colors of HDR and WCG Displays\"\n// https://professional.dolby.com/siteassets/pdfs/dolby-vision-measuring-perceptual-color-volume-v7.1.pdf\nexport default new ColorSpace({\n\tid: \"ictcp\",\n\tname: \"ICTCP\",\n\t// From BT.2100-2 page 7:\n\t// During production, signal values are expected to exceed the\n\t// range E′ = [0.0 : 1.0]. This provides processing headroom and avoids\n\t// signal degradation during cascaded processing. Such values of E′,\n\t// below 0.0 or exceeding 1.0, should not be clipped during production\n\t// and exchange.\n\t// Values below 0.0 should not be clipped in reference displays (even\n\t// though they represent “negative” light) to allow the black level of\n\t// the signal (LB) to be properly set using test signals known as “PLUGE”\n\tcoords: {\n\t\ti: {\n\t\t\trefRange: [0, 1],\t// Constant luminance,\n\t\t\tname: \"I\"\n\t\t},\n\t\tct: {\n\t\t\trefRange: [-0.5, 0.5],\t// Full BT.2020 gamut in range [-0.5, 0.5]\n\t\t\tname: \"CT\"\n\t\t},\n\t\tcp: {\n\t\t\trefRange: [-0.5, 0.5],\n\t\t\tname: \"CP\"\n\t\t}\n\t},\n\n\tbase: XYZ_Abs_D65,\n\tfromBase (XYZ) {\n\t\t// move to LMS cone domain\n\t\tlet LMS = multiplyMatrices(XYZtoLMS_M, XYZ);\n\n\t\treturn LMStoICtCp(LMS);\n\t},\n\ttoBase (ICtCp) {\n\t\tlet LMS = ICtCptoLMS(ICtCp);\n\n\t\treturn multiplyMatrices(LMStoXYZ_M, LMS);\n\t},\n\tformats: {\n\t\tcolor: {}\n\t},\n});\n\nfunction LMStoICtCp (LMS) {\n\t// apply the PQ EOTF\n\t// we can't ever be dividing by zero because of the \"1 +\" in the denominator\n\tlet PQLMS = LMS.map (function (val) {\n\t\tlet num = c1 + (c2 * ((val / 10000) ** m1));\n\t\tlet denom = 1 + (c3 * ((val / 10000) ** m1));\n\n\t\treturn (num / denom)  ** m2;\n\t});\n\n\t// LMS to IPT, with rotation for Y'C'bC'r compatibility\n\treturn multiplyMatrices(LMStoIPT_M, PQLMS);\n}\n\nfunction ICtCptoLMS (ICtCp) {\n\tlet PQLMS = multiplyMatrices(IPTtoLMS_M, ICtCp);\n\n\t// From BT.2124-0 Annex 2 Conversion 3\n\tlet LMS = PQLMS.map (function (val) {\n\t\tlet num  = Math.max((val ** im2) - c1, 0);\n\t\tlet denom = (c2 - (c3 * (val ** im2)));\n\t\treturn 10000 * ((num / denom) ** im1);\n\t});\n\n\treturn LMS;\n}\n", "import ictcp from \"../spaces/ictcp.js\";\n\n// Delta E in ICtCp space,\n// which the ITU calls Delta E ITP, which is shorter\n// formulae from ITU Rec. ITU-R BT.2124-0\n\nexport default function (color, sample) {\n\t// Given this color as the reference\n\t// and a sample,\n\t// calculate deltaE in ICtCp\n\t// which is simply the Euclidean distance\n\n\tlet [ I1, T1, P1 ] = ictcp.from(color);\n\tlet [ I2, T2, P2 ] = ictcp.from(sample);\n\n\t// the 0.25 factor is to undo the encoding scaling in Ct\n\t// the 720 is so that 1 deltaE = 1 JND\n\t// per  ITU-R BT.2124-0 p.3\n\n\treturn 720 * Math.sqrt((I1 - I2) ** 2 + (0.25 * (T1 -T2) ** 2) + (P1 - P2) ** 2);\n};\n", "import ColorSpace from \"../space.js\";\nimport {multiplyMatrices} from \"../util.js\";\nimport XYZ_D65 from \"./xyz-d65.js\";\n\n// Recalculated for consistent reference white\n// see https://github.com/w3c/csswg-drafts/issues/6642#issuecomment-943521484\nconst XYZtoLMS_M = [\n\t[ 0.8190224432164319,    0.3619062562801221,   -0.12887378261216414 ],\n\t[ 0.0329836671980271,    0.9292868468965546,     0.03614466816999844 ],\n\t[ 0.048177199566046255,  0.26423952494422764,    0.6335478258136937  ]\n];\n// inverse of XYZtoLMS_M\nconst LMStoXYZ_M = [\n\t[  1.2268798733741557,  -0.5578149965554813,   0.28139105017721583],\n\t[ -0.04057576262431372,  1.1122868293970594,  -0.07171106666151701],\n\t[ -0.07637294974672142, -0.4214933239627914,   1.5869240244272418 ]\n];\nconst LMStoLab_M = [\n\t[  0.2104542553,   0.7936177850,  -0.0040720468 ],\n\t[  1.9779984951,  -2.4285922050,   0.4505937099 ],\n\t[  0.0259040371,   0.7827717662,  -0.8086757660 ]\n];\n// LMStoIab_M inverted\nconst LabtoLMS_M = [\n\t[ 0.99999999845051981432,  0.39633779217376785678,   0.21580375806075880339  ],\n\t[ 1.0000000088817607767,  -0.1055613423236563494,   -0.063854174771705903402 ],\n\t[ 1.0000000546724109177,  -0.089484182094965759684, -1.2914855378640917399   ]\n];\n\nexport default new ColorSpace({\n\tid: \"oklab\",\n    name: \"Oklab\",\n    coords: {\n\t\tl: {\n\t\t\trefRange: [0, 1],\n\t\t\tname: \"L\"\n\t\t},\n\t\ta: {\n\t\t\trefRange: [-0.4, 0.4]\n\t\t},\n\t\tb: {\n\t\t\trefRange: [-0.4, 0.4]\n\t\t}\n    },\n\n\t// Note that XYZ is relative to D65\n  white: \"D65\",\n\tbase: XYZ_D65,\n\tfromBase (XYZ) {\n\t\t// move to LMS cone domain\n\t\tlet LMS = multiplyMatrices(XYZtoLMS_M, XYZ);\n\n\t\t// non-linearity\n\t\tlet LMSg = LMS.map(val => Math.cbrt(val));\n\n\t\treturn multiplyMatrices(LMStoLab_M, LMSg);\n\n\t},\n\ttoBase (OKLab) {\n\t\t// move to LMS cone domain\n\t\tlet LMSg = multiplyMatrices(LabtoLMS_M, OKLab);\n\n\t\t// restore linearity\n\t\tlet LMS = LMSg.map(val => val ** 3);\n\n\t\treturn multiplyMatrices(LMStoXYZ_M, LMS);\n\t},\n\n\tformats: {\n\t\t\"oklab\": {\n\t\t\tcoords: [\"<percentage> | <number>\", \"<number> | <percentage>[-1,1]\", \"<number> | <percentage>[-1,1]\"],\n\t\t}\n\t}\n});\n", "// More accurate color-difference formulae\n// than the simple 1976 Euclidean distance in CIE Lab\n\nimport oklab from \"../spaces/oklab.js\";\n\nexport default function (color, sample) {\n\t// Given this color as the reference\n\t// and a sample,\n\t// calculate deltaEOK, term by term as root sum of squares\n\tlet [L1, a1, b1] = oklab.from(color);\n\tlet [L2, a2, b2] = oklab.from(sample);\n\tlet ΔL = L1 - L2;\n\tlet Δa = a1 - a2;\n\tlet Δb = b1 - b2;\n\treturn Math.sqrt(ΔL ** 2 + Δa ** 2 + Δb ** 2);\n};\n", "import deltaE76 from \"./deltaE76.js\";\nimport deltaECMC from \"./deltaECMC.js\";\nimport deltaE2000 from \"./deltaE2000.js\";\nimport deltaEJz from \"./deltaEJz.js\";\nimport deltaEITP from \"./deltaEITP.js\";\nimport deltaEOK from \"./deltaEOK.js\";\n\nexport { deltaE76, deltaECMC, deltaE2000, deltaEJz, deltaEITP, deltaEOK };\n\nexport default {\n\tdeltaE76,\n\tdeltaECMC,\n\tdeltaE2000,\n\tdeltaEJz,\n\tdeltaEITP,\n\tdeltaEOK,\n};\n", "import getColor from \"./getColor.js\";\nimport defaults from \"./defaults.js\";\nimport {isString} from \"./util.js\";\nimport deltaEMethods from \"./deltaE/index.js\";\n\nexport default function deltaE (c1, c2, o = {}) {\n\tif (isString(o)) {\n\t\to = {method: o};\n\t}\n\n\tlet {method = defaults.deltaE, ...rest} = o;\n\n\tc1 = getColor(c1);\n\tc2 = getColor(c2);\n\n\tfor (let m in deltaEMethods) {\n\t\tif (\"deltae\" + method.toLowerCase() === m.toLowerCase()) {\n\t\t\treturn deltaEMethods[m](c1, c2, rest);\n\t\t}\n\t}\n\n\tthrow new TypeError(`Unknown deltaE method: ${method}`);\n};\n", "import ColorSpace from \"./space.js\";\nimport set from \"./set.js\";\n\nexport function lighten (color, amount = .25) {\n\tlet space = ColorSpace.get(\"oklch\", \"lch\");\n\tlet lightness = [space, \"l\"];\n\treturn set(color, lightness, l => l * (1 + amount));\n}\n\nexport function darken (color, amount = .25) {\n\tlet space = ColorSpace.get(\"oklch\", \"lch\");\n\tlet lightness = [space, \"l\"];\n\treturn set(color, lightness, l => l * (1 - amount));\n}\n", "/**\n * Functions related to color interpolation\n */\nimport Color from \"./color.js\";\nimport ColorSpace from \"./space.js\";\nimport {type, interpolate} from \"./util.js\";\nimport getColor from \"./getColor.js\";\nimport clone from \"./clone.js\";\nimport to from \"./to.js\";\nimport toGamut from \"./toGamut.js\";\nimport get from \"./get.js\";\nimport set from \"./set.js\";\nimport defaults from \"./defaults.js\";\nimport * as angles from \"./angles.js\";\nimport deltaE from \"./deltaE.js\";\n\n/**\n * Return an intermediate color between two colors\n * Signatures: mix(c1, c2, p, options)\n *             mix(c1, c2, options)\n *             mix(color)\n * @param {Color | string} c1 The first color\n * @param {Color | string} [c2] The second color\n * @param {number} [p=.5] A 0-1 percentage where 0 is c1 and 1 is c2\n * @param {Object} [o={}]\n * @return {Color}\n */\nexport function mix (c1, c2, p = .5, o = {}) {\n\t[c1, c2] = [getColor(c1), getColor(c2)];\n\n\tif (type(p) === \"object\") {\n\t\t[p, o] = [.5, p];\n\t}\n\n\tlet {space, outputSpace, premultiplied} = o;\n\n\tlet r = range(c1, c2, {space, outputSpace, premultiplied});\n\treturn r(p);\n}\n\n/**\n *\n * @param {Color | string | Function} c1 The first color or a range\n * @param {Color | string} [c2] The second color if c1 is not a range\n * @param {Object} [options={}]\n * @return {Color[]}\n */\nexport function steps (c1, c2, options = {}) {\n\tlet colorRange;\n\n\tif (isRange(c1)) {\n\t\t// Tweaking existing range\n\t\t[colorRange, options] = [c1, c2];\n\t\t[c1, c2] = colorRange.rangeArgs.colors;\n\t}\n\n\tlet {\n\t\tmaxDeltaE, deltaEMethod,\n\t\tsteps = 2, maxSteps = 1000,\n\t\t...rangeOptions\n\t} = options;\n\n\tif (!colorRange) {\n\t\t[c1, c2] = [getColor(c1), getColor(c2)];\n\t\tcolorRange = range(c1, c2, rangeOptions);\n\t}\n\n\tlet totalDelta = deltaE(c1, c2);\n\tlet actualSteps = maxDeltaE > 0? Math.max(steps, Math.ceil(totalDelta / maxDeltaE) + 1) : steps;\n\tlet ret = [];\n\n\tif (maxSteps !== undefined) {\n\t\tactualSteps = Math.min(actualSteps, maxSteps);\n\t}\n\n\tif (actualSteps === 1) {\n\t\tret = [{p: .5, color: colorRange(.5)}];\n\t}\n\telse {\n\t\tlet step = 1 / (actualSteps - 1);\n\t\tret = Array.from({length: actualSteps}, (_, i) => {\n\t\t\tlet p = i * step;\n\t\t\treturn {p, color: colorRange(p)};\n\t\t});\n\t}\n\n\tif (maxDeltaE > 0) {\n\t\t// Iterate over all stops and find max deltaE\n\t\tlet maxDelta = ret.reduce((acc, cur, i) => {\n\t\t\tif (i === 0) {\n\t\t\t\treturn 0;\n\t\t\t}\n\n\t\t\tlet ΔΕ = deltaE(cur.color, ret[i - 1].color, deltaEMethod);\n\t\t\treturn Math.max(acc, ΔΕ);\n\t\t}, 0);\n\n\t\twhile (maxDelta > maxDeltaE) {\n\t\t\t// Insert intermediate stops and measure maxDelta again\n\t\t\t// We need to do this for all pairs, otherwise the midpoint shifts\n\t\t\tmaxDelta = 0;\n\n\t\t\tfor (let i = 1; (i < ret.length) && (ret.length < maxSteps); i++) {\n\t\t\t\tlet prev = ret[i - 1];\n\t\t\t\tlet cur = ret[i];\n\n\t\t\t\tlet p = (cur.p + prev.p) / 2;\n\t\t\t\tlet color = colorRange(p);\n\t\t\t\tmaxDelta = Math.max(maxDelta, deltaE(color, prev.color), deltaE(color, cur.color));\n\t\t\t\tret.splice(i, 0, {p, color: colorRange(p)});\n\t\t\t\ti++;\n\t\t\t}\n\t\t}\n\t}\n\n\tret = ret.map(a => a.color);\n\n\treturn ret;\n};\n\n/**\n * Interpolate to color2 and return a function that takes a 0-1 percentage\n * @param {Color | string | Function} color1 The first color or an existing range\n * @param {Color | string} [color2] If color1 is a color, this is the second color\n * @param {Object} [options={}]\n * @returns {Function} A function that takes a 0-1 percentage and returns a color\n */\nexport function range (color1, color2, options = {}) {\n\tif (isRange(color1)) {\n\t\t// Tweaking existing range\n\t\tlet [r, options] = [color1, color2];\n\n\t\treturn range(...r.rangeArgs.colors, {...r.rangeArgs.options, ...options});\n\t}\n\n\tlet {space, outputSpace, progression, premultiplied} = options;\n\n\tcolor1 = getColor(color1);\n\tcolor2 = getColor(color2);\n\n\t// Make sure we're working on copies of these colors\n\tcolor1 = clone(color1);\n\tcolor2 = clone(color2);\n\n\tlet rangeArgs = {colors: [color1, color2], options};\n\n\tif (space) {\n\t\tspace = ColorSpace.get(space);\n\t}\n\telse {\n\t\tspace = ColorSpace.registry[defaults.interpolationSpace] || color1.space;\n\t}\n\n\toutputSpace = outputSpace? ColorSpace.get(outputSpace) : space;\n\n\tcolor1 = to(color1, space);\n\tcolor2 = to(color2, space);\n\n\t// Gamut map to avoid areas of flat color\n\tcolor1 = toGamut(color1);\n\tcolor2 = toGamut(color2);\n\n\t// Handle hue interpolation\n\t// See https://github.com/w3c/csswg-drafts/issues/4735#issuecomment-635741840\n\tif (space.coords.h && space.coords.h.type === \"angle\") {\n\t\tlet arc = options.hue = options.hue || \"shorter\";\n\n\t\tlet hue = [space, \"h\"];\n\t\tlet [θ1, θ2] = [get(color1, hue), get(color2, hue)];\n\t\t[θ1, θ2] = angles.adjust(arc, [θ1, θ2]);\n\t\tset(color1, hue, θ1);\n\t\tset(color2, hue, θ2);\n\t}\n\n\tif (premultiplied) {\n\t\t// not coping with polar spaces yet\n\t\tcolor1.coords = color1.coords.map(c => c * color1.alpha);\n\t\tcolor2.coords = color2.coords.map(c => c * color2.alpha);\n\t}\n\n\treturn Object.assign(p => {\n\t\tp = progression? progression(p) : p;\n\t\tlet coords = color1.coords.map((start, i) => {\n\t\t\tlet end = color2.coords[i];\n\t\t\treturn interpolate(start, end, p);\n\t\t});\n\n\t\tlet alpha = interpolate(color1.alpha, color2.alpha, p);\n\t\tlet ret = {space, coords, alpha};\n\n\t\tif (premultiplied) {\n\t\t\t// undo premultiplication\n\t\t\tret.coords = ret.coords.map(c => c / alpha);\n\t\t}\n\n\t\tif (outputSpace !== space) {\n\t\t\tret = to(ret, outputSpace);\n\t\t}\n\n\t\treturn ret;\n\t}, {\n\t\trangeArgs\n\t});\n};\n\nexport function isRange (val) {\n\treturn type(val) === \"function\" && !!val.rangeArgs;\n};\n\ndefaults.interpolationSpace = \"lab\";\n\nexport function register (Color) {\n\tColor.defineFunction(\"mix\", mix, {returns: \"color\"});\n\tColor.defineFunction(\"range\", range, {returns: \"function<color>\"});\n\tColor.defineFunction(\"steps\", steps, {returns: \"array<color>\"});\n}\n", "import ColorSpace from \"../space.js\";\nimport sRGB from \"./srgb.js\";\n\nexport default new ColorSpace({\n\tid: \"hsl\",\n\tname: \"HSL\",\n\tcoords: {\n\t\th: {\n\t\t\trefRange: [0, 360],\n\t\t\ttype: \"angle\",\n\t\t\tname: \"Hue\"\n\t\t},\n\t\ts: {\n\t\t\trange: [0, 100],\n\t\t\tname: \"Saturation\"\n\t\t},\n\t\tl: {\n\t\t\trange: [0, 100],\n\t\t\tname: \"Lightness\"\n\t\t}\n\t},\n\n\tbase: sRGB,\n\n\t// Adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#From_RGB\n\tfromBase: rgb => {\n\t\tlet max = Math.max(...rgb);\n\t\tlet min = Math.min(...rgb);\n\t\tlet [r, g, b] = rgb;\n\t\tlet [h, s, l] = [NaN, 0, (min + max)/2];\n\t\tlet d = max - min;\n\n\t\tif (d !== 0) {\n\t\t\ts = (l === 0 || l === 1) ? 0 : (max - l) / Math.min(l, 1 - l);\n\n\t\t\tswitch (max) {\n\t\t\t\tcase r: h = (g - b) / d + (g < b ? 6 : 0); break;\n\t\t\t\tcase g: h = (b - r) / d + 2; break;\n\t\t\t\tcase b: h = (r - g) / d + 4;\n\t\t\t}\n\n\t\t\th = h * 60;\n\t\t}\n\n\t\treturn [h, s * 100, l * 100];\n\t},\n\n\t// Adapted from https://en.wikipedia.org/wiki/HSL_and_HSV#HSL_to_RGB_alternative\n\ttoBase: hsl => {\n\t\tlet [h, s, l] = hsl;\n\t\th = h % 360;\n\n\t\tif (h < 0) {\n\t\t\th += 360;\n\t\t}\n\n\t\ts /= 100;\n\t\tl /= 100;\n\n\t\tfunction f (n) {\n\t\t\tlet k = (n + h/30) % 12;\n\t\t\tlet a = s * Math.min(l, 1 - l);\n\t\t\treturn l - a * Math.max(-1, Math.min(k - 3, 9 - k, 1));\n\t\t}\n\n\t\treturn [f(0), f(8), f(4)];\n\t},\n\n\tformats: {\n\t\t\"hsl\": {\n\t\t\ttoGamut: true,\n\t\t\tcoords: [\"<number> | <angle>\", \"<percentage>\", \"<percentage>\"],\n\t\t},\n\t\t\"hsla\": {\n\t\t\tcoords: [\"<number> | <angle>\", \"<percentage>\", \"<percentage>\"],\n\t\t\tcommas: true,\n\t\t\tlastAlpha: true,\n\t\t}\n\t},\n});\n", "import ColorSpace from \"../space.js\";\nimport HSL from \"./hsl.js\";\n\n// The Hue, Whiteness Blackness (HWB) colorspace\n// See https://drafts.csswg.org/css-color-4/#the-hwb-notation\n// Note that, like HSL, calculations are done directly on\n// gamma-corrected sRGB values rather than linearising them first.\n\nexport default new ColorSpace({\n\tid: \"hsv\",\n\tname: \"HSV\",\n\tcoords: {\n\t\th: {\n\t\t\trefRange: [0, 360],\n\t\t\ttype: \"angle\",\n\t\t\tname: \"Hue\"\n\t\t},\n\t\ts: {\n\t\t\trange: [0, 100],\n\t\t\tname: \"Saturation\"\n\t\t},\n\t\tv: {\n\t\t\trange: [0, 100],\n\t\t\tname: \"Value\"\n\t\t}\n\t},\n\n\tbase: HSL,\n\t// https://en.wikipedia.org/wiki/HSL_and_HSV#Interconversion\n\tfromBase (hsl) {\n\t\tlet [h, s, l] = hsl;\n\t\ts /= 100;\n\t\tl /= 100;\n\n\t\tlet v = l + s * Math.min(l, 1 - l);\n\n\t\treturn [\n\t\t\th, // h is the same\n\t\t\tv === 0? 0 : 200 * (1 - l / v), // s\n\t\t\t100 * v\n\t\t];\n\t},\n\t// https://en.wikipedia.org/wiki/HSL_and_HSV#Interconversion\n\ttoBase (hsv) {\n\t\tlet [h, s, v] = hsv;\n\n\t\ts /= 100;\n\t\tv /= 100;\n\n\t\tlet l = v * (1 - s/2);\n\n\t\treturn [\n\t\t\th, // h is the same\n\t\t\t(l === 0 || l === 1)? 0 : ((v - l) / Math.min(l, 1 - l)) * 100,\n\t\t\tl * 100\n\t\t];\n\t},\n\tformats: {\n\t\tcolor: {\n\t\t\ttoGamut: true,\n\t\t}\n\t}\n});\n", "import ColorSpace from \"../space.js\";\nimport HSV from \"./hsv.js\";\n\n// The Hue, Whiteness Blackness (HWB) colorspace\n// See https://drafts.csswg.org/css-color-4/#the-hwb-notation\n// Note that, like HSL, calculations are done directly on\n// gamma-corrected sRGB values rather than linearising them first.\n\nexport default new ColorSpace({\n\tid: \"hwb\",\n\tname: \"HWB\",\n\tcoords: {\n\t\th: {\n\t\t\trefRange: [0, 360],\n\t\t\ttype: \"angle\",\n\t\t\tname: \"Hue\"\n\t\t},\n\t\tw: {\n\t\t\trange: [0, 100],\n\t\t\tname: \"Whiteness\"\n\t\t},\n\t\tb: {\n\t\t\trange: [0, 100],\n\t\t\tname: \"Blackness\"\n\t\t}\n\t},\n\n\tbase: HSV,\n\tfromBase (hsv) {\n\t\tlet [h, s, v] = hsv;\n\n\t\treturn [h, v * (100 - s) / 100, 100 - v];\n\t},\n\ttoBase (hwb) {\n\t\tlet [h, w, b] = hwb;\n\n\t\t// Now convert percentages to [0..1]\n\t\tw /= 100;\n\t\tb /= 100;\n\n\t\t// Achromatic check (white plus black >= 1)\n\t\tlet sum = w + b;\n\t\tif (sum >= 1) {\n\t\t\t let gray = w / sum;\n\t\t\t return [h, 0, gray * 100];\n\t\t}\n\n\t\tlet v = (1 - b);\n\t\tlet s = (v === 0) ? 0 : 1 - w / v;\n\t\treturn [h, s * 100, v * 100];\n\t},\n\n\tformats: {\n\t\t\"hwb\": {\n\t\t\ttoGamut: true,\n\t\t\tcoords: [\"<number> | <angle>\", \"<percentage>\", \"<percentage>\"],\n\t\t}\n\t}\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\n\n// convert an array of linear-light a98-rgb values to CIE XYZ\n// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\n// has greater numerical precision than section 4.3.5.3 of\n// https://www.adobe.com/digitalimag/pdfs/AdobeRGB1998.pdf\n// but the values below were calculated from first principles\n// from the chromaticity coordinates of R G B W\nconst toXYZ_M = [\n\t[ 0.5766690429101305,   0.1855582379065463,   0.1882286462349947  ],\n\t[ 0.29734497525053605,  0.6273635662554661,   0.07529145849399788 ],\n\t[ 0.02703136138641234,  0.07068885253582723,  0.9913375368376388  ]\n];\n\nconst fromXYZ_M = [\n\t[  2.0415879038107465,    -0.5650069742788596,   -0.34473135077832956 ],\n\t[ -0.9692436362808795,     1.8759675015077202,    0.04155505740717557 ],\n\t[  0.013444280632031142,  -0.11836239223101838,   1.0151749943912054  ]\n];\n\nexport default new RGBColorSpace({\n\tid: \"a98rgb-linear\",\n\tname: \"Linear Adobe® 98 RGB compatible\",\n\twhite: \"D65\",\n\ttoXYZ_M,\n\tfromXYZ_M\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport A98Linear from \"./a98rgb-linear.js\";\n\nexport default new RGBColorSpace({\n\tid: \"a98rgb\",\n\tname: \"Adobe® 98 RGB compatible\",\n\tbase: A98Linear,\n\ttoBase: RGB => RGB.map(val => Math.pow(Math.abs(val), 563 / 256) * Math.sign(val)),\n\tfromBase: RGB => RGB.map(val => Math.pow(Math.abs(val), 256 / 563) * Math.sign(val)),\n\tformats: {\n\t\tcolor: {\n\t\t\tid: \"a98-rgb\"\n\t\t}\n\t},\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport XYZ_D50 from \"./xyz-d50.js\";\n\n// convert an array of  prophoto-rgb values to CIE XYZ\n// using  D50 (so no chromatic adaptation needed afterwards)\n// http://www.brucelindbloom.com/index.html?Eqn_RGB_XYZ_Matrix.html\nconst toXYZ_M = [\n\t[ 0.7977604896723027,  0.13518583717574031,  0.0313493495815248     ],\n\t[ 0.2880711282292934,  0.7118432178101014,   0.00008565396060525902 ],\n\t[ 0.0,                 0.0,                  0.8251046025104601     ]\n];\n\nconst fromXYZ_M = [\n\t[  1.3457989731028281,  -0.25558010007997534,  -0.05110628506753401 ],\n\t[ -0.5446224939028347,   1.5082327413132781,    0.02053603239147973 ],\n\t[  0.0,                  0.0,                   1.2119675456389454  ]\n];\n\nexport default new RGBColorSpace({\n\tid: \"prophoto-linear\",\n\tname: \"Linear ProPhoto\",\n\twhite: \"D50\",\n\tbase: XYZ_D50,\n\ttoXYZ_M,\n\tfromXYZ_M\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport ProPhotoLinear from \"./prophoto-linear.js\";\n\nconst Et = 1/512;\nconst Et2 = 16/512;\n\nexport default new RGBColorSpace({\n\tid: \"prophoto\",\n\tname: \"ProPhoto\",\n\tbase: ProPhotoLinear,\n\ttoBase (RGB) {\n\t\t// Transfer curve is gamma 1.8 with a small linear portion\n\t\treturn RGB.map(v => v < Et2? v / 16 : v ** 1.8);\n\t},\n\tfromBase (RGB) {\n\t\treturn RGB.map(v => v >= Et? v ** (1/1.8) : 16 * v);\n\t},\n\tformats: {\n\t\tcolor: {\n\t\t\tid: \"prophoto-rgb\"\n\t\t}\n\t},\n});\n", "import ColorSpace from \"../space.js\";\nimport OKLab from \"./oklab.js\";\nimport {constrain as constrainAngle} from \"../angles.js\";\n\nexport default new ColorSpace({\n\tid: \"oklch\",\n\tname: \"Oklch\",\n\tcoords: {\n\t\tl: {\n\t\t\trefRange: [0, 1],\n\t\t\tname: \"Lightness\"\n\t\t},\n\t\tc: {\n\t\t\trefRange: [0, 0.4],\n\t\t\tname: \"Chroma\"\n\t\t},\n\t\th: {\n\t\t\trefRange: [0, 360],\n\t\t\ttype: \"angle\",\n\t\t\tname: \"Hue\"\n\t\t}\n\t},\n\twhite: \"D65\",\n\n\tbase: OKLab,\n\tfromBase (oklab) {\n\t\t// Convert to polar form\n\t\tlet [L, a, b] = oklab;\n\t\tlet h;\n\t\tconst ε = 0.0002; // chromatic components much smaller than a,b\n\n\t\tif (Math.abs(a) < ε && Math.abs(b) < ε) {\n\t\t\th = NaN;\n\t\t}\n\t\telse {\n\t\t\th = Math.atan2(b, a) * 180 / Math.PI;\n\t\t}\n\n\t\treturn [\n\t\t\tL, // OKLab L is still L\n\t\t\tMath.sqrt(a ** 2 + b ** 2), // Chroma\n\t\t\tconstrainAngle(h) // Hue, in degrees [0 to 360)\n\t\t];\n\t},\n\t// Convert from polar form\n\ttoBase (oklch) {\n\t\tlet [L, C, h] = oklch;\n\t\tlet a, b;\n\n\t\t// check for NaN hue\n\t\tif (isNaN(h)) {\n\t\t\ta = 0;\n\t\t\tb = 0;\n\t\t}\n\t\telse {\n\t\t\ta = C * Math.cos(h * Math.PI / 180);\n\t\t\tb = C * Math.sin(h * Math.PI / 180);\n\t\t}\n\n\t\treturn [ L, a, b ];\n\t},\n\n\tformats: {\n\t\t\"oklch\": {\n\t\t\tcoords: [\"<number> | <percentage>\", \"<number> | <percentage>[0,1]\", \"<number> | <angle>\"],\n\t\t}\n\t}\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport REC2020Linear from \"./rec2020-linear.js\";\n\nconst Yw = 203;\t// absolute luminance of media white, cd/m²\nconst n = 2610 / (2 ** 14);\nconst ninv = (2 ** 14) / 2610;\nconst m = 2523 / (2 ** 5);\nconst minv = (2 ** 5) / 2523;\nconst c1 = 3424 / (2 ** 12);\nconst c2 = 2413 / (2 ** 7);\nconst c3 = 2392 / (2 ** 7);\n\nexport default new RGBColorSpace({\n\tid: \"rec2100pq\",\n\tname: \"REC.2100-PQ\",\n\tbase: REC2020Linear,\n\ttoBase (RGB) {\n\t\t// given PQ encoded component in range [0, 1]\n\t\t// return media-white relative linear-light\n\t\treturn RGB.map(function (val) {\n\t\t\tlet x = ((Math.max(((val ** minv) - c1), 0) / (c2 - (c3 * (val ** minv)))) ** ninv);\n\t\t\treturn (x * 10000 / Yw); \t// luminance relative to diffuse white, [0, 70 or so].\n\t\t});\n\t},\n\tfromBase (RGB) {\n\t\t// given media-white relative linear-light\n\t\t// returnPQ encoded component in range [0, 1]\n\t\treturn RGB.map(function (val) {\n\t\t\tlet x = Math.max(val * Yw / 10000, 0); \t// absolute luminance of peak white is 10,000 cd/m².\n\t\t\tlet num = (c1 + (c2 * (x ** n)));\n\t\t\tlet denom = (1 + (c3 * (x ** n)));\n\n\t\t\treturn ((num / denom)  ** m);\n\t\t});\n\t},\n\tformats: {\n\t\tcolor: {\n\t\t\tid: \"rec2100-pq\"\n\t\t},\n\t},\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport REC2020Linear from \"./rec2020-linear.js\";\n\n// FIXME see https://github.com/LeaVerou/color.js/issues/190\n\nconst a = 0.17883277;\nconst b = 0.28466892; // 1 - (4 * a)\nconst c = 0.55991073; // 0.5 - a * Math.log(4 *a)\n\nconst scale = 3.7743;\t// Place 18% grey at HLG 0.38, so media white at 0.75\n\nexport default new RGBColorSpace({\n\tid: \"rec2100hlg\",\n\tcssid: \"rec2100-hlg\",\n\tname: \"REC.2100-HLG\",\n\treferred: \"scene\",\n\n\tbase: REC2020Linear,\n\ttoBase (RGB) {\n\t\t// given HLG encoded component in range [0, 1]\n\t\t// return media-white relative linear-light\n\t\treturn RGB.map(function (val) {\n\t\t\t// first the HLG EOTF\n\t\t\t// ITU-R BT.2390-10 p.30 section\n\t\t\t// 6.3 The hybrid log-gamma electro-optical transfer function (EOTF)\n\t\t\t// Then scale by 3 so media white is 1.0\n\t\t\tif (val <= 0.5) {\n\t\t\t\treturn (val ** 2) / 3 * scale;\n\t\t\t}\n\t\t\treturn ((Math.exp((val - c) / a) + b) / 12) * scale;\n\t\t});\n\t},\n\tfromBase (RGB) {\n\t\t// given media-white relative linear-light\n\t\t// where diffuse white is 1.0,\n\t\t// return HLG encoded component in range [0, 1]\n\t\treturn RGB.map(function (val) {\n\t\t\t// first scale to put linear-light media white at 1/3\n\t\t\tval /= scale;\n\t\t\t// now the HLG OETF\n\t\t\t// ITU-R BT.2390-10 p.23\n\t\t\t// 6.1 The hybrid log-gamma opto-electronic transfer function (OETF)\n\t\t\tif (val <= 1/12) {\n\t\t\t\treturn Math.sqrt( 3 * val);\n\t\t\t}\n\t\t\treturn a * Math.log(12 * val - b) + c;\n\t\t});\n\t},\n\tformats: {\n\t\tcolor: {\n\t\t\tid: \"rec2100-hlg\"\n\t\t},\n\t},\n});\n", "import hooks from \"./hooks.js\";\nimport {multiplyMatrices} from \"./util.js\";\nimport {WHITES} from \"./adapt.js\";\n\nexport const CATs = {};\n\nhooks.add(\"chromatic-adaptation-start\", env => {\n\tif (env.options.method) {\n\t\tenv.M = adapt(env.W1, env.W2, env.options.method);\n\t}\n});\n\nhooks.add(\"chromatic-adaptation-end\", env => {\n\tif (!env.M) {\n\t\tenv.M = adapt(env.W1, env.W2, env.options.method);\n\t}\n});\n\nexport function defineCAT ({id, toCone_M, fromCone_M}) {\n\t// Use id, toCone_M, fromCone_M like variables\n\tCATs[id] = arguments[0];\n};\n\nexport function adapt (W1, W2, id = \"Bradford\") {\n\t// adapt from a source whitepoint or illuminant W1\n\t// to a destination whitepoint or illuminant W2,\n\t// using the given chromatic adaptation transform (CAT)\n\t// debugger;\n\tlet method = CATs[id];\n\n\tlet [ρs, γs, βs] = multiplyMatrices(method.toCone_M, W1);\n\tlet [ρd, γd, βd] = multiplyMatrices(method.toCone_M, W2);\n\n\t// all practical illuminants have non-zero XYZ so no division by zero can occur below\n\tlet scale = [\n\t\t[ρd/ρs,    0,      0      ],\n\t\t[0,        γd/γs,  0      ],\n\t\t[0,        0,      βd/βs  ]\n\t];\n\t// console.log({scale});\n\n\tlet scaled_cone_M = multiplyMatrices(scale, method.toCone_M);\n\tlet adapt_M\t= multiplyMatrices(method.fromCone_M, scaled_cone_M);\n\t// console.log({scaled_cone_M, adapt_M});\n\treturn adapt_M;\n};\n\ndefineCAT({\n\tid: \"von Kries\",\n\ttoCone_M: [\n\t\t[  0.4002400,  0.7076000, -0.0808100 ],\n\t\t[ -0.2263000,  1.1653200,  0.0457000 ],\n\t\t[  0.0000000,  0.0000000,  0.9182200 ]\n\t],\n\tfromCone_M: [\n\t\t[  1.8599364, -1.1293816,  0.2198974 ],\n\t\t[  0.3611914,  0.6388125, -0.0000064 ],\n\t\t[  0.0000000,  0.0000000,  1.0890636 ]\n\t]\n});\n\ndefineCAT({\n\tid: \"Bradford\",\n\t// Convert an array of XYZ values in the range 0.0 - 1.0\n\t// to cone fundamentals\n\ttoCone_M: [\n\t\t[  0.8951000,  0.2664000, -0.1614000 ],\n\t\t[ -0.7502000,  1.7135000,  0.0367000 ],\n\t\t[  0.0389000, -0.0685000,  1.0296000 ]\n\t],\n\t// and back\n\tfromCone_M: [\n\t\t[  0.9869929, -0.1470543,  0.1599627 ],\n\t\t[  0.4323053,  0.5183603,  0.0492912 ],\n\t\t[ -0.0085287,  0.0400428,  0.9684867 ]\n\t]\n});\n\ndefineCAT({\n\tid: \"CAT02\",\n\t// with complete chromatic adaptation to W2, so D = 1.0\n\ttoCone_M: [\n\t\t[  0.7328000,  0.4296000, -0.1624000 ],\n\t\t[ -0.7036000,  1.6975000,  0.0061000 ],\n\t\t[  0.0030000,  0.0136000,  0.9834000 ]\n\t],\n\tfromCone_M: [\n\t\t[  1.0961238, -0.2788690,  0.1827452 ],\n\t\t[  0.4543690,  0.4735332,  0.0720978 ],\n\t\t[ -0.0096276, -0.0056980,  1.0153256 ]\n\t]\n});\n\ndefineCAT({\n\tid: \"CAT16\",\n\ttoCone_M: [\n\t\t[  0.401288,  0.650173, -0.051461 ],\n\t\t[ -0.250268,  1.204414,  0.045854 ],\n\t\t[ -0.002079,  0.048952,  0.953127 ]\n\t],\n\t// the extra precision is needed to avoid roundtripping errors\n\tfromCone_M: [\n\t\t[  1.862067855087233e+0, -1.011254630531685e+0,   1.491867754444518e-1 ],\n\t\t[  3.875265432361372e-1,  6.214474419314753e-1,  -8.973985167612518e-3 ],\n\t\t[ -1.584149884933386e-2, -3.412293802851557e-2,   1.049964436877850e+0 ]\n\t]\n});\n\nObject.assign(WHITES, {\n\t// whitepoint values from ASTM E308-01 with 10nm spacing, 1931 2 degree observer\n\t// all normalized to Y (luminance) = 1.00000\n\t// Illuminant A is a tungsten electric light, giving a very warm, orange light.\n\tA:  [1.09850, 1.00000, 0.35585],\n\n\t// Illuminant C was an early approximation to daylight: illuminant A with a blue filter.\n\tC:   [0.98074, 1.000000, 1.18232],\n\n\t// The daylight series of illuminants simulate natural daylight.\n\t// The color temperature (in degrees Kelvin/100) ranges from\n\t// cool, overcast daylight (D50) to bright, direct sunlight (D65).\n\tD55: [0.95682, 1.00000, 0.92149],\n\tD75: [0.94972, 1.00000, 1.22638],\n\n\t// Equal-energy illuminant, used in two-stage CAT16\n\tE:   [1.00000, 1.00000, 1.00000],\n\n\t// The F series of illuminants represent fluorescent lights\n\tF2:  [0.99186, 1.00000, 0.67393],\n\tF7:  [0.95041, 1.00000, 1.08747],\n\tF11: [1.00962, 1.00000, 0.64350],\n});\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport {WHITES} from \"../adapt.js\";\nimport \"../CATs.js\"; // because of the funky whitepoint\n\n// The ACES whitepoint\n// see TB-2018-001 Derivation of the ACES White Point CIE Chromaticity Coordinates\n// also https://github.com/ampas/aces-dev/blob/master/documents/python/TB-2018-001/aces_wp.py\n// Similar to D60\nWHITES.ACES = [0.32168/0.33767, 1.00000, (1.00000 - 0.32168 - 0.33767)/0.33767];\n\n// convert an array of linear-light ACEScc values to CIE XYZ\nconst toXYZ_M = [\n\t[  0.6624541811085053,   0.13400420645643313,  0.1561876870049078  ],\n\t[  0.27222871678091454,  0.6740817658111484,   0.05368951740793705 ],\n\t[ -0.005574649490394108, 0.004060733528982826, 1.0103391003129971  ]\n];\nconst fromXYZ_M = [\n\t[  1.6410233796943257,   -0.32480329418479,    -0.23642469523761225  ],\n\t[ -0.6636628587229829,    1.6153315916573379,   0.016756347685530137 ],\n\t[  0.011721894328375376, -0.008284441996237409, 0.9883948585390215   ]\n];\n\nexport default new RGBColorSpace({\n\tid: \"acescg\",\n\tname: \"ACEScg\",\n\n\t// ACEScg – A scene-referred, linear-light encoding of ACES Data\n\t// https://docs.acescentral.com/specifications/acescg/\n\t// uses the AP1 primaries, see section 4.3.1 Color primaries\n\tcoords: {\n\t\tr: {\n\t\t\trange: [0, 65504],\n\t\t\tname: \"Red\"\n\t\t},\n\t\tg: {\n\t\t\trange: [0, 65504],\n\t\t\tname: \"Green\"\n\t\t},\n\t\tb: {\n\t\t\trange: [0, 65504],\n\t\t\tname: \"Blue\"\n\t\t}\n\t},\n\n\treferred: \"scene\",\n\n\twhite: WHITES.ACES,\n\n\ttoXYZ_M,\n\tfromXYZ_M,\n\n\tformats: {\n\t\tcolor: {}\n\t},\n});\n\n// export default Color;\n", "import RGBColorSpace from \"../rgbspace.js\";\nimport \"../CATs.js\"; // because of the funky whitepoint\nimport ACEScg from \"./acescg.js\";\n\nconst ε = 2 ** -16;\n\n// the smallest value which, in the 32bit IEEE 754 float encoding,\n// decodes as a non-negative value\nconst ACES_min_nonzero = -0.35828683;\n\n// brightest encoded value, decodes to 65504\nconst ACES_cc_max = (Math.log2(65504) + 9.72) / 17.52; // 1.468\n\nexport default new RGBColorSpace({\n\tid: \"acescc\",\n\tname: \"ACEScc\",\n\t// see S-2014-003 ACEScc – A Logarithmic Encoding of ACES Data\n\t// https://docs.acescentral.com/specifications/acescc/\n\t// uses the AP1 primaries, see section 4.3.1 Color primaries\n\n\t// Appendix A: \"Very small ACES scene referred values below 7 1/4 stops\n\t// below 18% middle gray are encoded as negative ACEScc values.\n\t// These values should be preserved per the encoding in Section 4.4\n\t// so that all positive ACES values are maintained.\"\n\tcoords: {\n\t\tr: {\n\t\t\trange: [ACES_min_nonzero, ACES_cc_max],\n\t\t\tname: \"Red\"\n\t\t},\n\t\tg: {\n\t\t\trange: [ACES_min_nonzero, ACES_cc_max],\n\t\t\tname: \"Green\"\n\t\t},\n\t\tb: {\n\t\t\trange: [ACES_min_nonzero, ACES_cc_max],\n\t\t\tname: \"Blue\"\n\t\t}\n\t},\n\treferred: \"scene\",\n\n\tbase: ACEScg,\n\t// from section 4.4.2 Decoding Function\n\ttoBase (RGB) {\n\t\tconst low = (9.72 - 15) / 17.52; // -0.3014\n\n\t\treturn RGB.map(function (val) {\n\t\t\tif (val <= low) {\n\t\t\t\treturn (2 ** ((val * 17.52) - 9.72) - ε) * 2; // very low values, below -0.3014\n\t\t\t}\n\t\t\telse if (val < ACES_cc_max) {\n\t\t\t\treturn 2 ** ((val * 17.52) - 9.72);\n\t\t\t}\n\t\t\telse { // val >= ACES_cc_max\n\t\t\t\treturn 65504;\n\t\t\t}\n\t\t});\n\t},\n\n\t// Non-linear encoding function from S-2014-003, section 4.4.1 Encoding Function\n\tfromBase (RGB) {\n\t\treturn RGB.map(function (val) {\n\t\t\tif (val <= 0) {\n\t\t\t\treturn (Math.log2(ε) + 9.72) / 17.52; // -0.3584\n\t\t\t}\n\t\t\telse if (val < ε) {\n\t\t\t\treturn  (Math.log2(ε + val * 0.5) + 9.72) / 17.52;\n\t\t\t}\n\t\t\telse { // val >= ε\n\t\t\t\treturn  (Math.log2(val) + 9.72) / 17.52;\n\t\t\t}\n\t\t});\n\t},\n\t// encoded media white (rgb 1,1,1) => linear  [ 222.861, 222.861, 222.861 ]\n\t// encoded media black (rgb 0,0,0) => linear [ 0.0011857, 0.0011857, 0.0011857]\n\tformats: {\n\t\tcolor: {}\n\t}\n});\n", "import * as util from \"./util.js\";\nimport hooks from \"./hooks.js\";\nimport defaults from \"./defaults.js\";\nimport ColorSpace from \"./space.js\";\nimport {WHITES} from \"./adapt.js\";\nimport {\n\tgetColor,\n\tparse,\n\tto,\n\tserialize,\n\tinGamut,\n\ttoGamut,\n\tdistance,\n\tequals,\n\tget,\n\tgetAll,\n\tset,\n\tsetAll,\n\tdisplay,\n} from \"./index-fn.js\";\n\n\nimport \"./spaces/xyz-d50.js\";\nimport \"./spaces/srgb.js\";\n\n/**\n * Class that represents a color\n */\nexport default class Color {\n\t/**\n\t * Creates an instance of Color.\n\t * Signatures:\n\t * - `new Color(stringToParse)`\n\t * - `new Color(otherColor)`\n\t * - `new Color({space, coords, alpha})`\n\t * - `new Color(space, coords, alpha)`\n\t * - `new Color(spaceId, coords, alpha)`\n\t */\n\tconstructor (...args) {\n\t\tlet color;\n\n\t\tif (args.length === 1) {\n\t\t\tcolor = getColor(args[0]);\n\t\t}\n\n\t\tlet space, coords, alpha;\n\n\t\tif (color) {\n\t\t\tspace = color.space || color.spaceId;\n\t\t\tcoords = color.coords;\n\t\t\talpha = color.alpha;\n\t\t}\n\t\telse {\n\t\t\t// default signature new Color(ColorSpace, array [, alpha])\n\t\t\t[space, coords, alpha] = args;\n\t\t}\n\n\t\tObject.defineProperty(this, \"space\", {\n\t\t\tvalue: ColorSpace.get(space),\n\t\t\twritable: false,\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true, // see note in https://262.ecma-international.org/8.0/#sec-proxy-object-internal-methods-and-internal-slots-get-p-receiver\n\t\t});\n\t\tthis.coords = coords? coords.slice() : [0, 0, 0];\n\t\tthis.alpha = alpha < 1? alpha : 1; // this also deals with NaN etc\n\n\t\t// Convert \"NaN\" to NaN\n\t\tfor (let i = 0; i < this.coords.length; i++) {\n\t\t\tif (this.coords[i] === \"NaN\") {\n\t\t\t\tthis.coords[i] = NaN;\n\t\t\t}\n\t\t}\n\n\t\t// Define getters and setters for each coordinate\n\t\tfor (let id in this.space.coords) {\n\t\t\tObject.defineProperty(this, id, {\n\t\t\t\tget: () => this.get(id),\n\t\t\t\tset: value => this.set(id, value)\n\t\t\t});\n\t\t}\n\t}\n\n\tget spaceId () {\n\t\treturn this.space.id;\n\t}\n\n\tclone () {\n\t\treturn new Color(this.space, this.coords, this.alpha);\n\t}\n\n\ttoJSON () {\n\t\treturn {\n\t\t\tspaceId: this.spaceId,\n\t\t\tcoords: this.coords,\n\t\t\talpha: this.alpha\n\t\t};\n\t}\n\n\tdisplay (...args) {\n\t\tlet ret = display(this, ...args);\n\n\t\t// Convert color object to Color instance\n\t\tret.color = new Color(ret.color);\n\n\t\treturn ret;\n\t}\n\n\t/**\n\t * Get a color from the argument passed\n\t * Basically gets us the same result as new Color(color) but doesn't clone an existing color object\n\t */\n\tstatic get (color, ...args) {\n\t\tif (color instanceof Color) {\n\t\t\treturn color;\n\t\t}\n\n\t\treturn new Color(color, ...args);\n\t}\n\n\tstatic defineFunction (name, code, o = code) {\n\t\tlet {instance = true, returns} = o;\n\n\t\tlet func = function (...args) {\n\t\t\tlet ret = code(...args);\n\n\t\t\tif (returns === \"color\") {\n\t\t\t\tret = Color.get(ret);\n\t\t\t}\n\t\t\telse if (returns === \"function<color>\") {\n\t\t\t\tlet f = ret;\n\t\t\t\tret = function (...args) {\n\t\t\t\t\tlet ret = f(...args);\n\t\t\t\t\treturn Color.get(ret);\n\t\t\t\t};\n\t\t\t\t// Copy any function metadata\n\t\t\t\tObject.assign(ret, f);\n\t\t\t}\n\t\t\telse if (returns === \"array<color>\") {\n\t\t\t\tret = ret.map(c => Color.get(c));\n\t\t\t}\n\n\t\t\treturn ret;\n\t\t};\n\n\t\tif (!(name in Color)) {\n\t\t\tColor[name] = func;\n\t\t}\n\n\t\tif (instance) {\n\t\t\tColor.prototype[name] = function (...args) {\n\t\t\t\treturn func(this, ...args);\n\t\t\t};\n\t\t}\n\t}\n\n\tstatic defineFunctions (o) {\n\t\tfor (let name in o) {\n\t\t\tColor.defineFunction(name, o[name], o[name]);\n\t\t}\n\t}\n\n\tstatic extend (exports) {\n\t\tif (exports.register) {\n\t\t\texports.register(Color);\n\t\t}\n\t\telse {\n\t\t\t// No register method, just add the module's functions\n\t\t\tfor (let name in exports) {\n\t\t\t\tColor.defineFunction(name, exports[name]);\n\t\t\t}\n\t\t}\n\t}\n};\n\nColor.defineFunctions({\n\tget,\n\tgetAll,\n\tset,\n\tsetAll,\n\tto,\n\tequals,\n\tinGamut,\n\ttoGamut,\n\tdistance,\n\ttoString: serialize,\n});\n\nObject.assign(Color, {\n\tutil,\n\thooks,\n\tWHITES,\n\tSpace: ColorSpace,\n\tspaces: ColorSpace.registry,\n\tparse,\n\n\t// Global defaults one may want to configure\n\tdefaults\n});\n", "import ColorSpace from \"../space.js\";\nimport * as spaces from \"./index-fn.js\";\n\nexport * as spaces from \"./index-fn.js\";\n\nfor (let key of Object.keys(spaces)) {\n\tColorSpace.register(spaces[key]);\n}\n", "/**\n * This plugin defines getters and setters for color[spaceId]\n * e.g. color.lch on *any* color gives us the lch coords\n */\nimport ColorSpace from \"./space.js\";\nimport Color from \"./color.js\";\nimport hooks from \"./hooks.js\";\n\n// Add space accessors to existing color spaces\nfor (let id in ColorSpace.registry) {\n\taddSpaceAccessors(id, ColorSpace.registry[id]);\n}\n\n// Add space accessors to color spaces not yet created\nhooks.add(\"colorspace-init-end\", space => {\n\taddSpaceAccessors(space.id, space);\n\tspace.aliases?.forEach(alias => {\n\t\taddSpaceAccessors(alias, space);\n\t});\n});\n\nfunction addSpaceAccessors (id, space) {\n\t// Coordinates can be looked up by both id and name\n\tlet coordIds = Object.keys(space.coords);\n\tlet coordNames = Object.values(space.coords).map(c => c.name);\n\n\n\tlet propId = id.replace(/-/g, \"_\");\n\n\tObject.defineProperty(Color.prototype, propId, {\n\t\t// Convert coords to coords in another colorspace and return them\n\t\t// Source colorspace: this.spaceId\n\t\t// Target colorspace: id\n\t\tget () {\n\t\t\tlet ret = this.getAll(id);\n\n\t\t\tif (typeof Proxy === \"undefined\") {\n\t\t\t\t// If proxies are not supported, just return a static array\n\t\t\t\treturn ret;\n\t\t\t}\n\n\t\t\t// Enable color.spaceId.coordName syntax\n\t\t\treturn new Proxy(ret, {\n\t\t\t\thas: (obj, property) => {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tColorSpace.resolveCoord([space, property]);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t\tcatch (e) {}\n\n\t\t\t\t\treturn Reflect.has(obj, property);\n\t\t\t\t},\n\t\t\t\tget: (obj, property, receiver) => {\n\t\t\t\t\tif (property && typeof property !== \"symbol\" && !(property in obj)) {\n\t\t\t\t\t\tlet {index} = ColorSpace.resolveCoord([space, property]);\n\n\t\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\t\treturn obj[index];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Reflect.get(obj, property, receiver);\n\t\t\t\t},\n\t\t\t\tset: (obj, property, value, receiver) => {\n\t\t\t\t\tif (property && typeof property !== \"symbol\" && !(property in obj) || property >= 0) {\n\t\t\t\t\t\tlet {index} = ColorSpace.resolveCoord([space, property]);\n\n\t\t\t\t\t\tif (index >= 0) {\n\t\t\t\t\t\t\tobj[index] = value;\n\n\t\t\t\t\t\t\t// Update color.coords\n\t\t\t\t\t\t\tthis.setAll(id, obj);\n\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Reflect.set(obj, property, value, receiver);\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\t// Convert coords in another colorspace to internal coords and set them\n\t\t// Target colorspace: this.spaceId\n\t\t// Source colorspace: id\n\t\tset (coords) {\n\t\t\tthis.setAll(id, coords);\n\t\t},\n\t\tconfigurable: true,\n\t\tenumerable: true\n\t});\n}\n", "// Import all modules of Color.js\nimport Color from \"./color.js\";\n\n// Import all color spaces\nimport \"./spaces/index.js\";\n\n// Import all DeltaE methods\nimport deltaE from \"./deltaE.js\";\nimport deltaEMethods from \"./deltaE/index.js\";\n\nColor.extend(deltaEMethods);\nColor.extend({deltaE});\nObject.assign(Color, {deltaEMethods});\n\n// Import optional modules\nimport * as variations from \"./variations.js\";\nColor.extend(variations);\n\nimport contrast from \"./contrast.js\";\nColor.extend({contrast});\n\nimport * as chromaticity from \"./chromaticity.js\";\nColor.extend(chromaticity);\n\nimport * as luminance from \"./luminance.js\";\nColor.extend(luminance);\n\nimport * as interpolation from \"./interpolation.js\";\nColor.extend(interpolation);\n\nimport * as contrastMethods from \"./contrast/index.js\";\nColor.extend(contrastMethods);\n\nimport \"./CATs.js\";\nimport \"./space-accessors.js\";\n\n// Re-export everything\nexport default Color;\n", "import Color from \"colorjs.io\";\nimport { LitElement, css, html } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n@customElement(\"value-box\")\nexport class ValueBox extends LitElement {\n  @property({ reflect: true }) value: string = \"\";\n\n  /**\n   * Background color for the box. Default value is `\"brand\"`, which is the\n   * brand color defined in your current theme. Other options are any of the\n   * [color roots defined in open-props](https://open-props.style/#colors) (e.g.\n   * `\"red\"`, `\"pink\"`, `\"jungle\"`, ...), a css-variable (e.g.\n   * `\"var(--my-color)\"`), or a hex color (e.g. `\"#ff0000\"`). If no text color\n   * is provided, light or dark text will be chosen based on the best contrast.\n   */\n  @property({ type: String }) bg: string = \"brand\";\n\n  @property({ type: String }) textColor: string = \"\";\n\n  /**\n   * The name of the icon to display using iconify format. For list of all\n   * available icons, see: https://icon-sets.iconify.design/\n   * @property {string} icon\n   * @default \"gg:chart\"\n   */\n  @property({ type: String }) icon: string = \"gg:chart\";\n  @property({ type: String }) title: string = \"\";\n  @property({ type: String }) subtitle: string = \"\";\n  @property({ type: String }) subvalue: string = \"\";\n\n  static lightText = \"#f1f3f5\";\n  static darkText = \"#212529\";\n\n  static styles = [\n    css`\n      * {\n        box-sizing: border-box;\n      }\n\n      :host {\n        --bg-color: var(--surface-1);\n        --text-color: var(--text-1);\n\n        display: block;\n        height: 100%;\n        max-height: 200px;\n        min-height: 100px;\n        max-width: 400px;\n        border-radius: var(--radius-m);\n        box-shadow: var(--shadow-m);\n        background-color: var(--bg-color);\n        color: var(--text-color);\n        overflow: hidden;\n\n        /* Setup container query context so we can dynamically layout and size\n        things in response to embeding environment */\n        container-type: inline-size;\n        container-name: vbox;\n      }\n\n      .container {\n        --font-size-root: var(--font-size-m);\n        --icon-size: 15cqi;\n\n        height: 100%;\n        padding: var(--size-m);\n        display: grid;\n        gap: var(--size-s);\n        grid-template-areas:\n          \"title icon\"\n          \"value icon\";\n        grid-template-columns: 1fr auto;\n        align-items: center;\n      }\n\n      .title {\n        grid-area: title;\n      }\n\n      .title .main {\n        font-size: calc(var(--font-size-root) * 1.3);\n        font-weight: var(--font-weight-bold);\n      }\n\n      @container vbox (width < 200px) {\n        .container {\n          /* Switch to a stacked orientation when the box is small */\n          --font-size-root: clamp(var(--font-size-s), 3cqi, var(--font-size-l));\n          --icon-size: 35cqi;\n\n          grid-template-areas:\n            \"icon\"\n            \"title\"\n            \"value\";\n          grid-template-columns: 1fr;\n        }\n      }\n\n      .value {\n        grid-area: value;\n      }\n\n      .value .main {\n        font-size: calc(var(--font-size-root) * 1.8);\n        font-family: var(--font-mono);\n      }\n\n      .subvalue {\n        margin-top: calc(-1 * var(--size-xxs));\n      }\n\n      .subtitle,\n      .subvalue {\n        font-size: calc(var(--font-size-root) * 0.95);\n        opacity: 0.8;\n        font-style: italic;\n      }\n\n      .icon {\n        grid-area: icon;\n        font-size: var(--icon-size);\n        display: grid;\n        place-content: center;\n      }\n    `,\n  ];\n\n  decideTextColor(bgColor: string): string {\n    let color: Color | null = null;\n\n    const variableValue = sanatizeCssVarName(bgColor);\n    if (variableValue) {\n      const variableColor =\n        getComputedStyle(this).getPropertyValue(variableValue);\n\n      // If there's no color, then we have the situation where the css\n      // variable is not yet defined\n      if (!variableColor) {\n        // If we don't know what color the background is (likely beacuse the\n        // variable hasn't loaded yet) we use a light text color. This isn't\n        // _great_ but should be okay and if user's need to they can define the\n        // text color\n        return ValueBox.lightText;\n      }\n      color = new Color(variableColor);\n    }\n\n    try {\n      color = new Color(bgColor);\n    } catch (e) {\n      console.warn(\"Could not parse color\", e);\n    }\n\n    if (!color) {\n      return ValueBox.lightText;\n    }\n\n    const lightTextContrast = color.contrastWCAG21(\n      new Color(ValueBox.lightText)\n    );\n    const darkTextContrast = color.contrastWCAG21(new Color(ValueBox.darkText));\n\n    return lightTextContrast > darkTextContrast\n      ? ValueBox.lightText\n      : ValueBox.darkText;\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    this.style.setProperty(\"--bg-color\", validateBgColor(this.bg));\n    this.style.setProperty(\n      \"--text-color\",\n      this.textColor !== \"\" ? this.textColor : this.decideTextColor(this.bg)\n    );\n  }\n\n  render() {\n    return html`\n      <div class=\"container\">\n        <div class=\"title\">\n          <div class=\"main\">\n            <slot name=\"title\">${this.title}</slot>\n          </div>\n          <div class=\"subtitle\">\n            <slot name=\"subtitle\">${this.subtitle}</slot>\n          </div>\n        </div>\n        <div class=\"value\">\n          <div class=\"main\">\n            <slot name=\"value\">${sanatizeValue(this.value)}</slot>\n          </div>\n          <div class=\"subvalue\">\n            <slot name=\"subvalue\">${this.subvalue}</slot>\n          </div>\n        </div>\n        <div class=\"icon\">\n          <slot name=\"icon\">\n            <shiny-icon name=${this.icon}></shiny-icon>\n          </slot>\n        </div>\n      </div>\n    `;\n  }\n}\n\nfunction validateBgColor(value: string): string {\n  const unwrappedCssVarName = sanatizeCssVarName(value);\n  if (unwrappedCssVarName) {\n    return `var(${unwrappedCssVarName})`;\n  }\n\n  return value;\n}\ntype CSSVariable = `--${string}`;\n\nfunction bgIsOpColor(value: string): boolean {\n  const validOPColors = new Set(\n    [\n      \"Stone\",\n      \"Red\",\n      \"Pink\",\n      \"Purple\",\n      \"Violet\",\n      \"Indigo\",\n      \"Blue\",\n      \"Cyan\",\n      \"Teal\",\n      \"Green\",\n      \"Lime\",\n      \"Yellow\",\n      \"Orange\",\n      \"Choco\",\n      \"Brown\",\n      \"Sand\",\n      \"Camo\",\n      \"Jungle\",\n    ].map((color) => color.toLowerCase())\n  );\n\n  return validOPColors.has(value.toLowerCase());\n}\n/**\n * Makes sure that the passed css variable is in the format of `--my-variable`\n * rather than wrapped in a `var()` function. Can also be used to check if a\n * string is a valid css variable.\n * @param value The value to check\n * @returns The unwrapped css variable or null if the value is not a valid css\n * variable.\n */\nfunction sanatizeCssVarName(value: string): CSSVariable | null {\n  if (value === \"brand\") {\n    return \"--brand\";\n  }\n\n  if (bgIsOpColor(value)) {\n    return `--${value.toLowerCase()}-8` as CSSVariable;\n  }\n\n  if (value.startsWith(\"var(--\") && value.endsWith(\")\")) {\n    return value.slice(4, -1) as CSSVariable;\n  }\n\n  if (value.startsWith(\"--\")) {\n    return value as CSSVariable;\n  }\n\n  return null;\n}\n\nfunction sanatizeValue(value: string): string {\n  // If we can coerce the value to a number, do that and then truncate to 2 decimals\n  const numberValue = Number(value);\n  if (!isNaN(numberValue)) {\n    return numberValue.toFixed(2);\n  }\n\n  return value;\n}\n"],
  "mappings": "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",
  "names": ["assign", "obj", "props", "i", "removeNode", "node", "parentNode", "removeChild", "createElement", "type", "children", "key", "ref", "normalizedProps", "arguments", "length", "slice", "call", "defaultProps", "createVNode", "original", "vnode", "__k", "__", "__b", "__e", "__d", "__c", "__h", "constructor", "__v", "vnodeId", "options", "createRef", "current", "Fragment", "Component", "context", "this", "getDomSibling", "childIndex", "indexOf", "sibling", "updateParentDomPointers", "child", "base", "enqueueRender", "c", "rerenderQueue", "push", "process", "__r", "prevDebounce", "debounceRendering", "defer", "renderQueueLength", "component", "commitQueue", "oldVNode", "oldDom", "parentDom", "sort", "depthSort", "shift", "__P", "diff", "__n", "ownerSVGElement", "commitRoot", "diffChildren", "renderResult", "newParentVNode", "oldParentVNode", "globalContext", "isSvg", "excessDomChildren", "isHydrating", "j", "childVNode", "newDom", "firstChildDom", "refs", "oldChildren", "EMPTY_ARR", "oldChildrenLength", "isArray", "EMPTY_OBJ", "reorderChildren", "placeChild", "getLastDom", "nextSibling", "unmount", "applyRef", "tmp", "toChildArray", "out", "some", "nextDom", "sibDom", "outer", "appendChild", "insertBefore", "lastDom", "diffProps", "dom", "newProps", "oldProps", "hydrate", "setProperty", "setStyle", "style", "value", "IS_NON_DIMENSIONAL", "test", "name", "oldValue", "useCapture", "o", "cssText", "replace", "toLowerCase", "l", "addEventListener", "eventProxyCapture", "eventProxy", "removeEventListener", "e", "removeAttribute", "setAttribute", "event", "newVNode", "isNew", "oldState", "snapshot", "clearProcessingException", "provider", "componentContext", "renderHook", "count", "newType", "contextType", "__E", "prototype", "render", "doRender", "sub", "state", "_sb", "__s", "getDerivedStateFromProps", "componentWillMount", "componentDidMount", "componentWillReceiveProps", "shouldComponentUpdate", "forEach", "componentWillUpdate", "componentDidUpdate", "getChildContext", "getSnapshotBeforeUpdate", "diffElementNodes", "diffed", "root", "cb", "oldHtml", "newHtml", "nodeType", "localName", "document", "createTextNode", "createElementNS", "is", "data", "childNodes", "dangerouslySetInnerHTML", "attributes", "__html", "innerHTML", "checked", "parentVNode", "skipRemove", "r", "componentWillUnmount", "replaceNode", "firstChild", "cloneElement", "createContext", "defaultValue", "contextId", "Consumer", "contextValue", "Provider", "subs", "ctx", "_props", "old", "splice", "isValidElement", "Array", "error", "errorInfo", "ctor", "handled", "getDerivedStateFromError", "setState", "componentDidCatch", "update", "callback", "s", "forceUpdate", "Promise", "then", "bind", "resolve", "setTimeout", "a", "b", "getHookState", "index", "type", "options", "__h", "currentComponent", "currentHook", "hooks", "__H", "__", "length", "push", "__V", "EMPTY", "useState", "initialState", "useReducer", "invokeOrReturn", "reducer", "init", "hookState", "currentIndex", "_reducer", "__c", "action", "currentValue", "__N", "nextValue", "setState", "_hasScuFromHooks", "updateHookState", "p", "s", "c", "stateHooks", "filter", "x", "every", "prevScu", "call", "this", "shouldUpdate", "forEach", "hookItem", "props", "shouldComponentUpdate", "prevCWU", "componentWillUpdate", "__e", "tmp", "useEffect", "callback", "args", "state", "__s", "argsChanged", "_pendingArgs", "useLayoutEffect", "useRef", "initialValue", "useMemo", "current", "useImperativeHandle", "ref", "createHandle", "concat", "factory", "useCallback", "useContext", "context", "provider", "sub", "value", "useDebugValue", "formatter", "useErrorBoundary", "cb", "errState", "componentDidCatch", "err", "errorInfo", "undefined", "useId", "root", "__v", "__m", "mask", "flushAfterPaintEffects", "component", "afterPaintEffects", "shift", "__P", "invokeCleanup", "invokeEffect", "e", "afterNextFrame", "raf", "done", "clearTimeout", "timeout", "HAS_RAF", "cancelAnimationFrame", "setTimeout", "requestAnimationFrame", "hook", "comp", "cleanup", "oldArgs", "newArgs", "some", "arg", "f", "previousComponent", "prevRaf", "oldBeforeDiff", "oldBeforeRender", "oldAfterDiff", "oldCommit", "oldBeforeUnmount", "__b", "__r", "diffed", "unmount", "vnode", "commitQueue", "hasErrored", "assign", "obj", "props", "i", "shallowDiffers", "a", "b", "is", "x", "y", "PureComponent", "p", "this", "memo", "c", "comparer", "shouldUpdate", "nextProps", "ref", "updateRef", "call", "current", "Memoed", "shouldComponentUpdate", "createElement", "displayName", "name", "prototype", "isReactComponent", "forwardRef", "fn", "Forwarded", "clone", "$$typeof", "REACT_FORWARD_SYMBOL", "render", "__f", "detachedClone", "vnode", "detachedParent", "parentDom", "__c", "forEach", "effect", "__H", "__P", "__k", "map", "child", "removeOriginal", "originalParent", "__v", "__e", "insertBefore", "__d", "Suspense", "__u", "_suspenders", "suspended", "component", "__", "__a", "lazy", "loader", "prom", "error", "Lazy", "then", "exports", "default", "e", "SuspenseList", "_next", "_map", "ContextProvider", "getChildContext", "context", "children", "Portal", "_this", "container", "_container", "componentWillUnmount", "_temp", "nodeType", "parentNode", "childNodes", "appendChild", "push", "before", "removeChild", "splice", "indexOf", "createPortal", "el", "containerInfo", "parent", "callback", "textContent", "preactRender", "hydrate", "preactHydrate", "empty", "isPropagationStopped", "cancelBubble", "isDefaultPrevented", "defaultPrevented", "createFactory", "type", "bind", "isValidElement", "element", "REACT_ELEMENT_TYPE", "cloneElement", "preactCloneElement", "apply", "arguments", "unmountComponentAtNode", "findDOMNode", "base", "Fragment", "startTransition", "cb", "useDeferredValue", "val", "useTransition", "useLayoutEffect", "useSyncExternalStore", "subscribe", "getSnapshot", "value", "_useState", "useState", "_instance", "_getSnapshot", "forceUpdate", "useEffect", "oldDiffHook", "mapFn", "Children", "oldCatchError", "oldUnmount", "resolve", "CAMEL_PROPS", "ON_ANI", "CAMEL_REPLACE", "IS_DOM", "onChangeInputType", "oldEventHook", "currentComponent", "classNameDescriptorNonEnumberable", "oldVNodeHook", "oldBeforeRender", "oldDiffed", "__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED", "version", "unstable_batchedUpdates", "flushSync", "StrictMode", "useInsertionEffect", "index", "Component", "isPureReactComponent", "state", "options", "__b", "Symbol", "for", "toChildArray", "count", "length", "only", "normalized", "toArray", "newVNode", "oldVNode", "errorInfo", "unmount", "__R", "__h", "promise", "suspendingVNode", "suspendingComponent", "resolved", "onResolved", "onSuspensionComplete", "suspendedVNode", "setState", "pop", "wasHydrating", "document", "detachedComponent", "__O", "fallback", "list", "node", "delete", "revealOrder", "size", "delegated", "get", "unsuspend", "wrappedUnsuspend", "Map", "reverse", "set", "componentDidUpdate", "componentDidMount", "test", "key", "Object", "defineProperty", "configurable", "v", "writable", "event", "persist", "nativeEvent", "enumerable", "class", "normalizedProps", "lowerCased", "toLowerCase", "replace", "multiple", "Array", "isArray", "selected", "defaultValue", "className", "__r", "diffed", "dom", "ReactCurrentDispatcher", "readContext", "__n", "arg", "useId", "useReducer", "useRef", "useImperativeHandle", "useMemo", "useCallback", "useContext", "useDebugValue", "createContext", "createRef", "O", "b", "k", "w", "D", "V", "y", "z", "_", "M", "x", "G", "T", "q", "p", "P", "A", "F", "s", "h", "exports", "module", "freeGlobal", "exports", "module", "freeGlobal", "freeSelf", "root", "exports", "module", "root", "Symbol", "exports", "module", "Symbol", "objectProto", "hasOwnProperty", "nativeObjectToString", "symToStringTag", "getRawTag", "e", "exports", "module", "objectProto", "nativeObjectToString", "objectToString", "exports", "module", "Symbol", "getRawTag", "objectToString", "nullTag", "undefinedTag", "symToStringTag", "baseGetTag", "exports", "module", "isArray", "exports", "module", "isObjectLike", "exports", "module", "baseGetTag", "isArray", "isObjectLike", "stringTag", "isString", "exports", "module", "createBaseFor", "index", "length", "exports", "module", "createBaseFor", "baseFor", "exports", "module", "baseTimes", "n", "index", "exports", "module", "baseGetTag", "isObjectLike", "argsTag", "baseIsArguments", "exports", "module", "baseIsArguments", "isObjectLike", "objectProto", "hasOwnProperty", "propertyIsEnumerable", "isArguments", "exports", "module", "stubFalse", "exports", "module", "root", "stubFalse", "freeExports", "freeModule", "moduleExports", "Buffer", "nativeIsBuffer", "isBuffer", "exports", "module", "MAX_SAFE_INTEGER", "reIsUint", "isIndex", "length", "type", "exports", "module", "MAX_SAFE_INTEGER", "isLength", "exports", "module", "baseGetTag", "isLength", "isObjectLike", "argsTag", "arrayTag", "boolTag", "dateTag", "errorTag", "funcTag", "mapTag", "numberTag", "objectTag", "regexpTag", "setTag", "stringTag", "weakMapTag", "arrayBufferTag", "dataViewTag", "float32Tag", "float64Tag", "int8Tag", "int16Tag", "int32Tag", "uint8Tag", "uint8ClampedTag", "uint16Tag", "uint32Tag", "typedArrayTags", "baseIsTypedArray", "exports", "module", "baseUnary", "exports", "module", "freeGlobal", "freeExports", "freeModule", "moduleExports", "freeProcess", "nodeUtil", "e", "exports", "module", "baseIsTypedArray", "baseUnary", "nodeUtil", "nodeIsTypedArray", "isTypedArray", "exports", "module", "baseTimes", "isArguments", "isArray", "isBuffer", "isIndex", "isTypedArray", "objectProto", "hasOwnProperty", "arrayLikeKeys", "length", "exports", "module", "objectProto", "isPrototype", "exports", "module", "overArg", "transform", "exports", "module", "overArg", "nativeKeys", "exports", "module", "isPrototype", "nativeKeys", "objectProto", "hasOwnProperty", "baseKeys", "exports", "module", "isObject", "type", "exports", "module", "baseGetTag", "isObject", "asyncTag", "funcTag", "genTag", "proxyTag", "isFunction", "exports", "module", "isFunction", "isLength", "isArrayLike", "exports", "module", "arrayLikeKeys", "baseKeys", "isArrayLike", "keys", "exports", "module", "baseFor", "keys", "baseForOwn", "exports", "module", "identity", "exports", "module", "identity", "castFunction", "exports", "module", "baseForOwn", "castFunction", "exports", "module", "overArg", "getPrototype", "exports", "module", "baseGetTag", "getPrototype", "isObjectLike", "objectTag", "funcProto", "objectProto", "funcToString", "hasOwnProperty", "objectCtorString", "isPlainObject", "exports", "module", "arrayMap", "array", "index", "length", "exports", "module", "listCacheClear", "exports", "module", "eq", "exports", "module", "eq", "assocIndexOf", "array", "length", "exports", "module", "assocIndexOf", "arrayProto", "splice", "listCacheDelete", "index", "exports", "module", "assocIndexOf", "listCacheGet", "index", "exports", "module", "assocIndexOf", "listCacheHas", "exports", "module", "assocIndexOf", "listCacheSet", "index", "exports", "module", "listCacheClear", "listCacheDelete", "listCacheGet", "listCacheHas", "listCacheSet", "ListCache", "index", "length", "exports", "module", "ListCache", "stackClear", "exports", "module", "stackDelete", "exports", "module", "stackGet", "exports", "module", "stackHas", "exports", "module", "root", "coreJsData", "exports", "module", "coreJsData", "maskSrcKey", "isMasked", "exports", "module", "funcProto", "funcToString", "toSource", "e", "exports", "module", "isFunction", "isMasked", "isObject", "toSource", "reRegExpChar", "reIsHostCtor", "funcProto", "objectProto", "funcToString", "hasOwnProperty", "reIsNative", "baseIsNative", "exports", "module", "getValue", "exports", "module", "baseIsNative", "getValue", "getNative", "exports", "module", "getNative", "root", "Map", "exports", "module", "getNative", "nativeCreate", "exports", "module", "nativeCreate", "hashClear", "exports", "module", "hashDelete", "exports", "module", "nativeCreate", "HASH_UNDEFINED", "objectProto", "hasOwnProperty", "hashGet", "exports", "module", "nativeCreate", "objectProto", "hasOwnProperty", "hashHas", "exports", "module", "nativeCreate", "HASH_UNDEFINED", "hashSet", "exports", "module", "hashClear", "hashDelete", "hashGet", "hashHas", "hashSet", "Hash", "index", "length", "exports", "module", "Hash", "ListCache", "Map", "mapCacheClear", "exports", "module", "isKeyable", "type", "exports", "module", "isKeyable", "getMapData", "map", "exports", "module", "getMapData", "mapCacheDelete", "exports", "module", "getMapData", "mapCacheGet", "exports", "module", "getMapData", "mapCacheHas", "exports", "module", "getMapData", "mapCacheSet", "exports", "module", "mapCacheClear", "mapCacheDelete", "mapCacheGet", "mapCacheHas", "mapCacheSet", "MapCache", "index", "length", "exports", "module", "ListCache", "Map", "MapCache", "LARGE_ARRAY_SIZE", "stackSet", "pairs", "exports", "module", "ListCache", "stackClear", "stackDelete", "stackGet", "stackHas", "stackSet", "Stack", "exports", "module", "HASH_UNDEFINED", "setCacheAdd", "exports", "module", "setCacheHas", "exports", "module", "MapCache", "setCacheAdd", "setCacheHas", "SetCache", "values", "index", "length", "exports", "module", "arraySome", "array", "index", "length", "exports", "module", "cacheHas", "exports", "module", "SetCache", "arraySome", "cacheHas", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "equalArrays", "array", "stack", "index", "othValue", "exports", "module", "root", "Uint8Array", "exports", "module", "mapToArray", "map", "index", "exports", "module", "setToArray", "set", "index", "exports", "module", "Symbol", "Uint8Array", "eq", "equalArrays", "mapToArray", "setToArray", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "boolTag", "dateTag", "errorTag", "mapTag", "numberTag", "regexpTag", "setTag", "stringTag", "symbolTag", "arrayBufferTag", "dataViewTag", "symbolProto", "symbolValueOf", "equalByTag", "stack", "exports", "module", "arrayPush", "array", "values", "index", "length", "offset", "exports", "module", "arrayPush", "isArray", "baseGetAllKeys", "exports", "module", "arrayFilter", "array", "index", "length", "exports", "module", "stubArray", "exports", "module", "arrayFilter", "stubArray", "objectProto", "propertyIsEnumerable", "nativeGetSymbols", "getSymbols", "symbol", "exports", "module", "baseGetAllKeys", "getSymbols", "keys", "getAllKeys", "exports", "module", "getAllKeys", "COMPARE_PARTIAL_FLAG", "objectProto", "hasOwnProperty", "equalObjects", "stack", "index", "exports", "module", "getNative", "root", "DataView", "exports", "module", "getNative", "root", "Promise", "exports", "module", "getNative", "root", "Set", "exports", "module", "getNative", "root", "WeakMap", "exports", "module", "DataView", "Map", "Promise", "Set", "WeakMap", "baseGetTag", "toSource", "mapTag", "objectTag", "promiseTag", "setTag", "weakMapTag", "dataViewTag", "dataViewCtorString", "mapCtorString", "promiseCtorString", "setCtorString", "weakMapCtorString", "getTag", "exports", "module", "Stack", "equalArrays", "equalByTag", "equalObjects", "getTag", "isArray", "isBuffer", "isTypedArray", "COMPARE_PARTIAL_FLAG", "argsTag", "arrayTag", "objectTag", "objectProto", "hasOwnProperty", "baseIsEqualDeep", "stack", "exports", "module", "baseIsEqualDeep", "isObjectLike", "baseIsEqual", "stack", "exports", "module", "Stack", "baseIsEqual", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "baseIsMatch", "index", "length", "stack", "exports", "module", "isObject", "isStrictComparable", "exports", "module", "isStrictComparable", "keys", "getMatchData", "length", "exports", "module", "matchesStrictComparable", "exports", "module", "baseIsMatch", "getMatchData", "matchesStrictComparable", "baseMatches", "exports", "module", "baseGetTag", "isObjectLike", "symbolTag", "isSymbol", "exports", "module", "isArray", "isSymbol", "reIsDeepProp", "reIsPlainProp", "isKey", "type", "exports", "module", "MapCache", "FUNC_ERROR_TEXT", "memoize", "exports", "module", "memoize", "MAX_MEMOIZE_SIZE", "memoizeCapped", "exports", "module", "memoizeCapped", "rePropName", "reEscapeChar", "stringToPath", "string", "number", "exports", "module", "Symbol", "arrayMap", "isArray", "isSymbol", "INFINITY", "symbolProto", "symbolToString", "baseToString", "exports", "module", "baseToString", "toString", "exports", "module", "isArray", "isKey", "stringToPath", "toString", "castPath", "exports", "module", "isSymbol", "INFINITY", "toKey", "exports", "module", "castPath", "toKey", "baseGet", "path", "index", "length", "exports", "module", "baseGet", "get", "path", "exports", "module", "baseHasIn", "exports", "module", "castPath", "isArguments", "isArray", "isIndex", "isLength", "toKey", "hasPath", "path", "index", "length", "exports", "module", "baseHasIn", "hasPath", "hasIn", "path", "exports", "module", "baseIsEqual", "get", "hasIn", "isKey", "isStrictComparable", "matchesStrictComparable", "toKey", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "baseMatchesProperty", "path", "exports", "module", "baseProperty", "exports", "module", "baseGet", "basePropertyDeep", "path", "exports", "module", "baseProperty", "basePropertyDeep", "isKey", "toKey", "property", "path", "exports", "module", "baseMatches", "baseMatchesProperty", "identity", "isArray", "property", "baseIteratee", "exports", "module", "isArrayLike", "createBaseEach", "length", "index", "exports", "module", "baseForOwn", "createBaseEach", "baseEach", "exports", "module", "baseEach", "isArrayLike", "baseMap", "index", "collection", "exports", "module", "arrayMap", "baseIteratee", "baseMap", "isArray", "map", "exports", "flattenNames", "names", "exports", "module", "arrayEach", "array", "index", "length", "exports", "module", "getNative", "defineProperty", "e", "exports", "module", "defineProperty", "baseAssignValue", "exports", "module", "baseAssignValue", "eq", "objectProto", "hasOwnProperty", "assignValue", "exports", "module", "assignValue", "baseAssignValue", "copyObject", "index", "length", "exports", "module", "copyObject", "keys", "exports", "module", "nativeKeysIn", "exports", "module", "isObject", "isPrototype", "nativeKeysIn", "objectProto", "hasOwnProperty", "baseKeysIn", "exports", "module", "arrayLikeKeys", "baseKeysIn", "isArrayLike", "keysIn", "exports", "module", "copyObject", "keysIn", "exports", "module", "root", "freeExports", "freeModule", "moduleExports", "Buffer", "allocUnsafe", "cloneBuffer", "length", "exports", "module", "copyArray", "array", "index", "length", "exports", "module", "copyObject", "getSymbols", "exports", "module", "arrayPush", "getPrototype", "getSymbols", "stubArray", "nativeGetSymbols", "exports", "module", "copyObject", "exports", "module", "baseGetAllKeys", "keysIn", "exports", "module", "objectProto", "hasOwnProperty", "array", "length", "exports", "module", "Uint8Array", "cloneArrayBuffer", "exports", "module", "cloneArrayBuffer", "exports", "module", "exports", "module", "Symbol", "symbolProto", "symbolValueOf", "symbol", "exports", "module", "cloneArrayBuffer", "cloneTypedArray", "exports", "module", "cloneArrayBuffer", "cloneTypedArray", "boolTag", "dateTag", "mapTag", "numberTag", "regexpTag", "setTag", "stringTag", "symbolTag", "arrayBufferTag", "dataViewTag", "float32Tag", "float64Tag", "int8Tag", "int16Tag", "int32Tag", "uint8Tag", "uint8ClampedTag", "uint16Tag", "uint32Tag", "exports", "module", "isObject", "objectCreate", "baseCreate", "exports", "module", "baseCreate", "getPrototype", "isPrototype", "initCloneObject", "exports", "module", "getTag", "isObjectLike", "mapTag", "exports", "module", "baseUnary", "nodeUtil", "exports", "module", "getTag", "isObjectLike", "setTag", "exports", "module", "baseUnary", "nodeUtil", "exports", "module", "Stack", "arrayEach", "assignValue", "cloneBuffer", "copyArray", "getAllKeys", "getTag", "initCloneObject", "isArray", "isBuffer", "isObject", "keys", "keysIn", "argsTag", "arrayTag", "boolTag", "dateTag", "errorTag", "funcTag", "genTag", "mapTag", "numberTag", "objectTag", "regexpTag", "setTag", "stringTag", "symbolTag", "weakMapTag", "arrayBufferTag", "dataViewTag", "float32Tag", "float64Tag", "int8Tag", "int16Tag", "int32Tag", "uint8Tag", "uint8ClampedTag", "uint16Tag", "uint32Tag", "stack", "key", "exports", "module", "exports", "_extends", "i", "mergeClasses", "styles", "exports", "_extends", "i", "transition", "transform", "extend", "autoprefix", "styles", "exports", "_extends", "i", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "hover", "exports", "_extends", "i", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "active", "exports", "loopable", "i", "length", "setProp", "exports", "ReactCSS", "exports", "type", "exports", "module", "exports", "module", "hasOwnProperty", "i", "n", "to", "symbols", "s", "exports", "module", "exports", "module", "exports", "module", "text", "x", "values", "stack", "exports", "module", "text", "x", "y", "i", "type", "checker", "isSymbol", "exports", "module", "exports", "_extends", "i", "keys", "exports", "_extends", "i", "keys", "global", "window", "supportsAdoptingStyleSheets", "ShadowRoot", "ShadyCSS", "nativeShadow", "Document", "prototype", "CSSStyleSheet", "constructionToken", "Symbol", "cssTagCache", "WeakMap", "CSSResult", "constructor", "cssText", "strings", "safeToken", "this", "Error", "_strings", "styleSheet", "_styleSheet", "cacheable", "length", "get", "replaceSync", "set", "toString", "unsafeCSS", "value", "String", "css", "values", "reduce", "acc", "v", "idx", "adoptStyles", "renderRoot", "styles", "adoptedStyleSheets", "map", "s", "forEach", "style", "document", "createElement", "nonce", "setAttribute", "textContent", "appendChild", "getCompatibleStyle", "sheet", "rule", "cssRules", "global", "window", "trustedTypes", "emptyStringForBooleanAttribute", "emptyScript", "polyfillSupport", "reactiveElementPolyfillSupport", "defaultConverter", "toAttribute", "value", "type", "Boolean", "Object", "Array", "JSON", "stringify", "fromAttribute", "fromValue", "Number", "parse", "e", "notEqual", "old", "defaultPropertyDeclaration", "attribute", "String", "converter", "reflect", "hasChanged", "finalized", "ReactiveElement", "HTMLElement", "constructor", "super", "this", "__instanceProperties", "Map", "isUpdatePending", "hasUpdated", "__reflectingProperty", "_initialize", "static", "initializer", "finalize", "_a", "_initializers", "push", "observedAttributes", "attributes", "elementProperties", "forEach", "v", "p", "attr", "__attributeNameForProperty", "__attributeToPropertyMap", "set", "name", "options", "state", "noAccessor", "prototype", "hasOwnProperty", "key", "Symbol", "descriptor", "getPropertyDescriptor", "defineProperty", "get", "oldValue", "requestUpdate", "configurable", "enumerable", "superCtor", "getPrototypeOf", "props", "properties", "propKeys", "getOwnPropertyNames", "getOwnPropertySymbols", "createProperty", "elementStyles", "finalizeStyles", "styles", "isArray", "Set", "flat", "Infinity", "reverse", "s", "unshift", "getCompatibleStyle", "toLowerCase", "__updatePromise", "Promise", "res", "enableUpdating", "_$changedProperties", "__saveInstanceProperties", "i", "addController", "controller", "__controllers", "renderRoot", "isConnected", "_b", "hostConnected", "call", "removeController", "splice", "indexOf", "_v", "createRenderRoot", "shadowRoot", "attachShadow", "shadowRootOptions", "adoptStyles", "connectedCallback", "c", "_requestedUpdate", "disconnectedCallback", "hostDisconnected", "attributeChangedCallback", "_old", "_$attributeToProperty", "__propertyToAttribute", "attrValue", "undefined", "removeAttribute", "setAttribute", "ctor", "propName", "getPropertyOptions", "shouldRequestUpdate", "has", "__reflectingProperties", "__enqueueUpdate", "async", "reject", "result", "scheduleUpdate", "performUpdate", "shouldUpdate", "changedProperties", "willUpdate", "hostUpdate", "update", "__markUpdated", "_$didUpdate", "_changedProperties", "hostUpdated", "firstUpdated", "updated", "updateComplete", "getUpdateComplete", "k", "mode", "_d", "reactiveElementVersions", "global", "window", "trustedTypes", "policy", "createPolicy", "createHTML", "s", "boundAttributeSuffix", "marker", "Math", "random", "String", "slice", "markerMatch", "nodeMarker", "d", "document", "createMarker", "createComment", "isPrimitive", "value", "isArray", "Array", "isIterable", "Symbol", "iterator", "SPACE_CHAR", "textEndRegex", "commentEndRegex", "comment2EndRegex", "tagEndRegex", "RegExp", "singleQuoteAttrEndRegex", "doubleQuoteAttrEndRegex", "rawTextElement", "tag", "type", "strings", "values", "_$litType$", "html", "svg", "noChange", "for", "nothing", "templateCache", "WeakMap", "walker", "createTreeWalker", "getTemplateHtml", "l", "length", "attrNames", "rawTextEndRegex", "regex", "i", "attrName", "match", "attrNameEndIndex", "lastIndex", "exec", "test", "end", "startsWith", "push", "undefined", "htmlResult", "hasOwnProperty", "Error", "Template", "constructor", "options", "node", "this", "parts", "nodeIndex", "attrNameIndex", "partCount", "el", "createElement", "currentNode", "content", "svgElement", "firstChild", "remove", "append", "childNodes", "nextNode", "nodeType", "hasAttributes", "attrsToRemove", "name", "getAttributeNames", "endsWith", "realName", "statics", "getAttribute", "toLowerCase", "split", "m", "index", "ctor", "PropertyPart", "BooleanAttributePart", "EventPart", "AttributePart", "removeAttribute", "tagName", "textContent", "emptyScript", "data", "indexOf", "static", "_options", "innerHTML", "resolveDirective", "part", "parent", "attributeIndex", "currentDirective", "_a", "__directives", "__directive", "nextDirectiveConstructor", "_b", "call", "_$initialize", "_c", "_d", "_$resolve", "TemplateInstance", "template", "_$parts", "_$disconnectableChildren", "_$template", "_$parent", "parentNode", "_$isConnected", "_clone", "fragment", "creationScope", "importNode", "partIndex", "templatePart", "ChildPart", "nextSibling", "ElementPart", "_update", "_$setValue", "startNode", "endNode", "_$committedValue", "_$startNode", "_$endNode", "__isConnected", "isConnected", "directiveParent", "_$clear", "_commitText", "_commitTemplateResult", "_commitNode", "_commitIterable", "_insert", "insertBefore", "createTextNode", "result", "_$getTemplate", "h", "instance", "get", "set", "itemParts", "itemPart", "item", "start", "from", "_$notifyConnectionChanged", "n", "setConnected", "element", "fill", "valueIndex", "noCommit", "change", "v", "_commitValue", "setAttribute", "emptyStringForBooleanAttribute", "super", "newListener", "oldListener", "shouldRemoveListener", "capture", "once", "passive", "shouldAddListener", "removeEventListener", "addEventListener", "handleEvent", "event", "host", "polyfillSupport", "global", "litHtmlPolyfillSupport", "Template", "ChildPart", "_d", "litHtmlVersions", "push", "render", "value", "container", "options", "partOwnerNode", "_a", "renderBefore", "part", "endNode", "_b", "insertBefore", "createMarker", "_$setValue", "LitElement", "ReactiveElement", "constructor", "this", "renderOptions", "host", "__childPart", "createRenderRoot", "renderRoot", "super", "_a", "_b", "renderBefore", "firstChild", "update", "changedProperties", "value", "render", "hasUpdated", "isConnected", "connectedCallback", "setConnected", "disconnectedCallback", "noChange", "globalThis", "litElementHydrateSupport", "call", "polyfillSupport", "litElementPolyfillSupport", "_c", "globalThis", "litElementVersions", "push", "s", "import_reactcss", "import_reactcss", "calculateChange", "e", "hsl", "x", "y", "left", "top", "a", "render", "c1", "c2", "get", "i", "Checkboard", "white", "children", "styles", "reactCSS", "_extends", "i", "self", "Alpha", "e", "render", "rgb", "styles", "reactCSS", "w", "b", "import_reactcss", "_createClass", "i", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "isValidKeyCode", "getNumberValue", "EditableInput", "e", "offset", "render", "styles", "reactCSS", "w", "b", "import_reactcss", "calculateChange", "e", "hsl", "x", "y", "left", "top", "h", "_createClass", "i", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "Hue", "e", "calculateChange", "render", "styles", "reactCSS", "w", "b", "import_reactcss", "array", "length", "index", "index", "index", "index", "length", "Symbol", "e", "objectProto", "nativeObjectToString", "symToStringTag", "type", "e", "funcProto", "objectProto", "funcToString", "hasOwnProperty", "Map", "objectProto", "hasOwnProperty", "objectProto", "hasOwnProperty", "HASH_UNDEFINED", "index", "length", "type", "map", "index", "length", "pairs", "e", "index", "length", "Buffer", "length", "Uint8Array", "array", "index", "length", "transform", "objectProto", "objectProto", "hasOwnProperty", "freeExports", "freeModule", "moduleExports", "Buffer", "funcProto", "objectProto", "funcToString", "hasOwnProperty", "argsTag", "funcTag", "objectTag", "freeExports", "freeModule", "moduleExports", "e", "objectProto", "hasOwnProperty", "index", "length", "n", "index", "MAX_SAFE_INTEGER", "length", "type", "objectProto", "hasOwnProperty", "length", "objectProto", "hasOwnProperty", "stack", "stack", "start", "transform", "index", "length", "array", "string", "count", "start", "index", "type", "index", "length", "Raised", "radius", "children", "styles", "reactCSS", "PropTypes", "import_reactcss", "string", "index", "string", "nativeMax", "time", "FUNC_ERROR_TEXT", "calculateChange", "e", "hsl", "x", "y", "left", "top", "_createClass", "i", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "Saturation", "e", "calculateChange", "fn", "render", "color", "white", "pointer", "styles", "reactCSS", "w", "b", "array", "index", "length", "objectProto", "hasOwnProperty", "length", "index", "obj", "color", "rgb", "R", "G", "B", "h", "s", "v", "hsl", "l", "format", "fn", "i", "a", "r", "g", "b", "max", "min", "d", "p", "q", "t", "f", "hex", "color2", "hue", "number", "rgba", "c1", "c2", "o", "n", "c", "named", "simpleCheckForValidColor", "toState", "color", "hsl", "rgb", "hex", "isValidHex", "getContrastingColor", "isvalidColorString", "string", "type", "_extends", "i", "_createClass", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "ColorWrap", "ColorPicker", "colors", "fn", "render", "w", "b", "import_reactcss", "_extends", "i", "_createClass", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "handleFocus", "render", "_extends", "i", "Swatch", "color", "children", "styles", "reactCSS", "handleClick", "e", "handleKeyDown", "handleHover", "import_reactcss", "AlphaPointer", "styles", "reactCSS", "_extends", "i", "AlphaPicker", "rgb", "hsl", "pointer", "styles", "reactCSS", "Alpha_default", "import_prop_types", "import_reactcss", "import_reactcss", "array", "index", "length", "HASH_UNDEFINED", "values", "index", "length", "array", "index", "length", "array", "stack", "index", "othValue", "map", "index", "set", "index", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "boolTag", "dateTag", "errorTag", "mapTag", "numberTag", "regexpTag", "setTag", "stringTag", "symbolTag", "arrayBufferTag", "dataViewTag", "stack", "array", "values", "index", "length", "offset", "array", "index", "length", "objectProto", "propertyIsEnumerable", "symbol", "COMPARE_PARTIAL_FLAG", "objectProto", "hasOwnProperty", "stack", "index", "DataView", "Promise", "Set", "WeakMap", "mapTag", "objectTag", "setTag", "weakMapTag", "dataViewTag", "COMPARE_PARTIAL_FLAG", "argsTag", "arrayTag", "objectTag", "objectProto", "hasOwnProperty", "stack", "stack", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "index", "length", "stack", "length", "type", "FUNC_ERROR_TEXT", "string", "number", "symbolProto", "toString", "INFINITY", "path", "index", "length", "get", "path", "path", "index", "length", "path", "COMPARE_PARTIAL_FLAG", "COMPARE_UNORDERED_FLAG", "path", "path", "path", "index", "collection", "BlockSwatches", "colors", "styles", "reactCSS", "c", "Block", "hex", "colors", "handleChange", "e", "styles", "reactCSS", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "CircleSwatch", "color", "styles", "reactCSS", "Circle", "colors", "hex", "styles", "reactCSS", "handleChange", "e", "c", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "_createClass", "i", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "ChromeFields", "e", "render", "styles", "reactCSS", "UnfoldMoreHorizontalIcon", "import_reactcss", "ChromePointer", "styles", "reactCSS", "import_reactcss", "ChromePointerCircle", "styles", "reactCSS", "Chrome", "rgb", "hsl", "hex", "styles", "reactCSS", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "CompactColor", "color", "styles", "reactCSS", "import_reactcss", "CompactFields", "hex", "rgb", "styles", "reactCSS", "handleChange", "e", "Compact", "colors", "hex", "rgb", "styles", "reactCSS", "handleChange", "e", "c", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "GithubSwatch", "color", "styles", "reactCSS", "Github", "colors", "styles", "reactCSS", "handleChange", "hex", "e", "c", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "SliderPointer", "styles", "reactCSS", "_extends", "i", "HuePicker", "hsl", "pointer", "styles", "reactCSS", "handleChange", "PropTypes", "Hue_default", "import_reactcss", "Material", "hex", "rgb", "styles", "reactCSS", "handleChange", "e", "import_prop_types", "import_reactcss", "import_reactcss", "PhotoshopPicker", "rgb", "hex", "styles", "reactCSS", "handleChange", "e", "import_reactcss", "PhotoshopPointerCircle", "hsl", "styles", "reactCSS", "import_reactcss", "PhotoshopPointerCircle", "styles", "reactCSS", "import_reactcss", "PhotoshopButton", "children", "styles", "reactCSS", "import_reactcss", "PhotoshopPreviews", "rgb", "styles", "reactCSS", "_createClass", "i", "_classCallCheck", "_possibleConstructorReturn", "self", "_inherits", "Photoshop", "render", "styles", "reactCSS", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "SketchFields", "rgb", "hsl", "hex", "styles", "reactCSS", "handleChange", "e", "import_prop_types", "import_reactcss", "_extends", "i", "SketchPresetColors", "colors", "styles", "reactCSS", "handleClick", "hex", "e", "c", "PropTypes", "_extends", "i", "Sketch", "rgb", "hex", "hsl", "styles", "reactCSS", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "import_reactcss", "SliderSwatch", "hsl", "offset", "first", "last", "styles", "reactCSS", "handleClick", "e", "SliderSwatches", "hsl", "styles", "reactCSS", "epsilon", "import_reactcss", "SliderPointer", "styles", "reactCSS", "Slider", "hsl", "pointer", "styles", "reactCSS", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "import_reactcss", "SwatchesColor", "color", "first", "last", "styles", "reactCSS", "CheckIcon", "SwatchesGroup", "group", "styles", "reactCSS", "color", "i", "Swatches", "colors", "hex", "styles", "reactCSS", "handleChange", "e", "group", "PropTypes", "import_prop_types", "import_reactcss", "Twitter", "hex", "colors", "styles", "reactCSS", "handleChange", "e", "c", "i", "PropTypes", "import_prop_types", "import_reactcss", "import_reactcss", "import_prop_types", "GooglePointerCircle", "styles", "reactCSS", "PropTypes", "import_reactcss", "import_prop_types", "GooglePointer", "styles", "reactCSS", "PropTypes", "import_reactcss", "GoogleFields", "rgb", "hsl", "hex", "handleChange", "e", "values", "styles", "reactCSS", "Google", "rgb", "hsl", "hex", "styles", "reactCSS", "PropTypes", "children", "G", "x", "id", "e", "type", "x", "color", "x", "root", "c", "s", "x", "r", "customElement", "tagName", "classOrDescriptor", "clazz", "customElements", "define", "descriptor", "kind", "elements", "finisher", "standardProperty", "options", "element", "kind", "descriptor", "finisher", "clazz", "createProperty", "key", "Symbol", "placement", "originalKey", "initializer", "this", "call", "legacyProperty", "proto", "name", "constructor", "property", "protoOrDescriptor", "state", "options", "property", "slotAssignedElements", "_a", "window", "HTMLSlotElement", "prototype", "assignedElements", "slot", "opts", "assignedNodes", "filter", "node", "nodeType", "Node", "ELEMENT_NODE", "type", "s", "e", "s", "s", "n", "e", "s", "e", "i", "n", "index", "s", "x", "e", "n", "t", "e", "n", "custom", "flip", "names", "parse", "defaults", "storage", "prefixes", "a", "b", "id", "idCounter", "simpleNames", "timer", "index", "find", "send", "i", "set", "data", "mode", "type", "length", "path", "_window", "e", "_api", "styles", "node", "customElements", "root", "name", "icon", "s", "n", "e", "a", "b", "a", "b", "f", "d", "x", "left", "a", "mid", "right", "center", "i", "x", "values", "valueof", "index", "values", "valueof", "count", "index", "array", "length", "values", "j", "index", "i", "values", "valueof", "sum", "index", "v", "values", "valueof", "count", "mean", "sum", "index", "values", "valueof", "v", "values", "valueof", "min", "max", "index", "x", "p", "i", "j", "y", "n", "key", "values", "identity", "x", "values", "keys", "identity", "values", "keys", "identity", "values", "map", "keys", "i", "groups", "keyof", "index", "group", "keys", "values", "F", "f", "index", "d", "i", "j", "c", "a", "b", "x", "values", "key", "e5", "e2", "start", "count", "i2", "reverse", "n", "ticks", "i", "values", "values", "valueof", "max", "index", "values", "valueof", "max", "maxIndex", "index", "values", "valueof", "min", "index", "values", "valueof", "min", "minIndex", "index", "array", "k", "left", "right", "n", "m", "z", "s", "t", "i", "j", "values", "max", "defined", "values", "p", "valueof", "n", "i", "values", "min", "max", "c", "d", "values", "min", "max", "c", "d", "values", "valueof", "count", "sum", "index", "values", "valueof", "array", "merge", "values", "valueof", "index", "count", "values", "pairs", "first", "a", "b", "start", "n", "i", "range", "values", "valueof", "sum", "index", "values", "identity_default", "x", "x", "y", "number", "scale", "d", "offset", "tickFormat", "k", "transform", "axis", "values", "format", "identity_default", "range", "position", "selection", "path", "text", "p", "_", "scale", "i", "n", "_", "t", "T", "get", "copy", "type", "c", "i", "document", "groups", "m", "j", "group", "n", "i", "x", "empty", "groups", "m", "j", "group", "n", "i", "groups", "m", "j", "group", "n", "i", "datum", "constant_default", "x", "group", "i", "groups", "constant_default", "m", "j", "merge_default", "selection", "m1", "m", "j", "n", "merge", "i", "groups", "j", "m", "group", "i", "ascending", "a", "b", "groups", "m", "j", "group", "n", "i", "groups", "j", "m", "group", "i", "n", "groups", "j", "m", "group", "i", "n", "v", "v", "v", "property_default", "string", "i", "names", "n", "v", "v", "create", "create", "clone", "parseTypenames", "t", "i", "on", "j", "m", "o", "n", "type", "window", "dispatch_default", "groups", "j", "m", "group", "i", "n", "root", "groups", "merge_default", "property_default", "dispatch_default", "select_default", "root", "point", "format", "m", "l", "n", "r", "g", "b", "a", "o", "opacity", "k", "h", "s", "min", "max", "m2", "m1", "K", "t2", "t3", "o", "r", "g", "b", "y", "x", "z", "l", "a", "b", "opacity", "k", "K", "y", "x", "z", "t", "t3", "t2", "o", "h", "h", "c", "l", "opacity", "o", "k", "K", "A", "B", "C", "D", "E", "o", "r", "g", "b", "l", "k", "s", "h", "opacity", "a", "t1", "v2", "v3", "t2", "t3", "values", "n", "t", "i", "values", "n", "t", "i", "v2", "v3", "constant_default", "x", "a", "d", "t", "b", "y", "constant_default", "y", "color", "rgb", "start", "r", "g", "b", "opacity", "t", "colors", "n", "i", "a", "b", "n", "c", "i", "t", "x", "a", "b", "x", "c", "i", "t", "a", "b", "d", "t", "a", "b", "t", "a", "b", "i", "c", "k", "t", "zero", "b", "t", "a", "i", "s", "q", "o", "a", "b", "t", "c", "constant_default", "a", "b", "t", "degrees", "identity", "a", "b", "c", "d", "e", "f", "m", "identity", "parse", "s", "q", "i", "a", "b", "scale", "t", "n", "o", "hsl", "hue", "start", "h", "s", "l", "opacity", "t", "lab", "start", "l", "a", "b", "opacity", "t", "hcl", "hue", "start", "h", "c", "l", "opacity", "t", "cubehelix", "hue", "y", "start", "h", "s", "l", "opacity", "t", "interpolate", "values", "i", "n", "v", "I", "t", "n", "i", "f", "now", "time", "t", "e", "t0", "t1", "t2", "time", "t", "id", "index", "group", "get", "set", "self", "start", "i", "j", "n", "o", "t", "empty", "i", "interrupt_default", "id", "set", "i", "n", "t", "get", "transition", "a", "b", "c", "attrRemove", "attrRemoveNS", "attrConstant", "interpolate", "attrConstantNS", "attrFunction", "attrFunctionNS", "attr_default", "i", "i", "t", "t0", "id", "get", "id", "set", "get", "id", "set", "get", "id", "v", "set", "filter_default", "groups", "m", "j", "group", "n", "i", "merge_default", "transition", "m1", "m", "j", "n", "merge", "i", "t", "i", "id", "set", "on", "on_default", "get", "id", "i", "remove_default", "select_default", "id", "groups", "m", "j", "group", "n", "i", "get", "selectAll_default", "id", "groups", "m", "j", "group", "n", "i", "children", "inherit", "get", "k", "l", "Selection", "selection_default", "interpolate", "styleRemove", "styleConstant", "styleFunction", "id", "remove", "set", "on", "style_default", "i", "i", "t", "textConstant", "textFunction", "text_default", "i", "t", "t0", "groups", "m", "j", "group", "n", "i", "inherit", "get", "id", "set", "on", "groups", "id", "select_default", "selectAll_default", "filter_default", "merge_default", "selection_default", "on_default", "attr_default", "style_default", "text_default", "remove_default", "t", "id", "transition_default", "now", "groups", "m", "j", "group", "n", "i", "interrupt_default", "transition_default", "max", "min", "e", "number2", "X", "x", "xy", "Y", "y", "t", "epsilon", "i", "n", "d", "k", "x", "y", "x1", "y1", "x2", "y2", "r", "x0", "y0", "l", "w", "h", "x", "p", "i", "x", "i", "t", "j", "g", "length", "i", "s", "n", "i", "x", "p", "d", "i", "n", "x", "p", "d", "x", "p", "identity_default", "x", "map", "locale", "group", "identity_default", "sign", "symbol", "zero", "type", "format", "i", "n", "c", "length", "formatPrefix", "f", "e", "k", "value", "max", "epsilon", "epsilon2", "pi", "tau", "degrees", "radians", "abs", "x", "pi", "noop", "i", "n", "cartesian", "spherical", "phi", "a", "b", "k", "d", "l", "a", "b", "x", "y", "phi", "abs", "pi", "tau", "x", "y", "z", "k", "radians", "degrees", "radius", "t0", "t1", "tau", "point", "t", "epsilon", "x", "y", "m", "noop", "a", "b", "abs", "epsilon", "point", "compareIntersection", "interpolate", "i", "n", "x", "epsilon", "start", "array", "a", "b", "point", "abs", "pi", "tau", "phi", "sum", "epsilon", "i", "n", "m", "j", "sign", "k", "epsilon2", "interpolate", "start", "point", "merge", "phi", "i", "n", "m", "a", "b", "epsilon", "pi", "abs", "epsilon", "to", "phi", "radius", "radians", "abs", "epsilon", "interpolate", "to", "phi", "point2", "v", "c", "pi", "t", "a", "b", "n2", "c1", "c2", "A", "B", "u", "w", "t2", "q", "z", "delta", "r", "code", "a", "b", "x0", "y0", "x1", "y1", "t0", "t1", "r", "x0", "y0", "x1", "y1", "x", "y", "interpolate", "to", "a", "p", "abs", "epsilon", "compareIntersection", "b", "first", "point", "i", "n", "ring", "j", "m", "visible", "merge", "v", "identity_default", "x", "noop", "abs", "area", "x", "y", "x0", "y0", "noop", "x", "y", "X2", "Y2", "x00", "y00", "x0", "y0", "x", "y", "z", "_", "x", "y", "tau", "noop", "x00", "y00", "x0", "y0", "noop", "length", "x", "y", "append", "appendRound", "_", "x", "y", "r", "s", "i", "j", "d", "k", "projection", "path", "_", "identity_default", "d", "s", "x", "y", "projection", "extent", "b", "w", "h", "k", "x", "y", "radians", "project", "x", "y", "x0", "y0", "x1", "y1", "c1", "d2", "a", "b", "c", "m", "abs", "epsilon", "p", "x2", "y2", "x00", "y00", "point", "phi", "x", "y", "radians", "r", "k", "transform", "a", "b", "project", "phi", "x0", "y0", "x1", "y1", "identity_default", "projection", "point", "degrees", "_", "extent", "center", "pi", "m", "p", "_", "radians", "degrees", "phi", "x", "y", "y0", "y1", "n", "abs", "epsilon", "c", "project", "x", "y", "r", "l", "pi", "n", "x", "y", "i", "point", "k", "t", "_", "epsilon", "extent", "scale", "x", "y", "k", "z", "c", "z", "c", "z", "phi", "x", "y", "tau", "project", "m", "center", "scale", "x0", "y0", "x1", "y1", "_", "k", "pi", "t", "y", "y0", "y1", "n", "f", "project", "x", "epsilon", "r", "l", "abs", "pi", "phi", "y0", "y1", "n", "g", "abs", "epsilon", "project", "x", "y", "l", "pi", "A2", "A3", "A4", "M", "phi", "l", "l2", "l6", "x", "y", "i", "abs", "epsilon2", "x", "y", "k", "x", "y", "epsilon", "x", "y", "k", "z", "phi", "x", "y", "m", "center", "_", "range", "index", "range", "scale", "d", "i", "_", "scale", "ordinalRange", "n", "reverse", "start", "values", "i", "_", "copy", "x", "number", "x", "identity", "x", "a", "b", "t", "range", "interpolate", "d0", "j", "d", "r", "i", "transformer", "transform", "clamp", "piecewise", "n", "scale", "y", "_", "number", "u", "start", "count", "scale", "count", "d", "start", "linear", "identity", "scale", "x", "_", "number", "interval", "x0", "x1", "t", "x", "f", "k", "transform", "scale", "_", "count", "d", "u", "v", "r", "i", "j", "t", "n", "z", "log", "transformer", "c", "x", "transform", "scale", "_", "transformer", "x", "transform", "scale", "identity", "_", "pow", "transformer", "quantile", "range", "i", "n", "scale", "x", "y", "_", "d", "range", "n", "scale", "x", "_", "y", "i", "t0", "t1", "count", "field", "interval", "date", "d0", "start", "range", "d", "date", "start", "k", "date", "start", "date", "start", "date", "start", "date", "start", "i", "date", "start", "date", "start", "date", "start", "k", "ticks", "start", "count", "reverse", "interval", "i", "step", "t", "d", "date", "y", "m", "locale", "formats", "string", "i", "j", "n", "c", "pad", "format", "Z", "parse", "f", "p", "sign", "length", "s", "names", "z", "locale", "defaultLocale", "t", "number", "ticks", "second", "format", "scale", "formatYear", "tickFormat", "date", "y", "_", "interval", "d", "count", "copy", "transformer", "x0", "x1", "x2", "s", "t0", "t1", "t2", "identity", "transform", "clamp", "scale", "x", "_", "range", "interpolate", "r2", "t", "copy", "n", "colors", "i", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "scheme", "t", "cubehelix_default", "c", "t", "c", "t", "x", "t", "range", "n", "t", "constant_default", "x", "constant", "cos", "min", "sin", "sqrt", "epsilon", "pi", "halfPi", "tau", "_", "d", "x", "x", "y", "x", "p", "y", "line_default", "x", "y", "defined", "constant_default", "path", "i", "n", "d", "_", "area_default", "x0", "y0", "y1", "x1", "defined", "constant_default", "path", "area", "x", "y", "i", "j", "k", "n", "d", "line_default", "_", "x", "y", "sqrt3", "sqrt", "r", "min", "t", "u", "circle_default", "r", "sqrt", "pi", "tau", "r", "sqrt", "sqrt", "y", "x", "r", "sqrt", "r", "sqrt", "min", "w", "sqrt", "x", "r", "sqrt", "sin", "pi", "tau", "cos", "r", "sqrt", "x", "y", "i", "a", "c", "s", "sqrt3", "sqrt", "y", "sqrt3", "sqrt", "s", "t", "u", "c", "s", "sqrt", "k", "a", "r", "x0", "y0", "x1", "y1", "x2", "y2", "r", "sqrt", "min", "circle_default", "point", "x", "y", "basis_default", "x", "y", "point", "basisClosed_default", "x", "y", "x0", "y0", "point", "x", "y", "j", "x0", "y0", "i", "t", "beta", "point", "x", "y", "custom", "tension", "x", "y", "point", "custom", "tension", "x", "y", "point", "custom", "tension", "point", "x", "y", "x1", "y1", "x2", "y2", "epsilon", "a", "n", "b", "m", "custom", "alpha", "x", "y", "point", "custom", "alpha", "x", "y", "point", "custom", "alpha", "x", "y", "sign", "x", "x2", "y2", "p", "t", "h", "point", "t0", "t1", "x0", "y0", "x1", "y1", "y", "x", "y", "n", "i", "m", "a", "b", "r", "t", "x", "y", "x1", "k", "x", "y", "point", "identity", "x", "ascendingDefined", "a", "b", "format", "date", "seconds", "milliseconds", "formatYear", "pad", "re", "string", "durationSecond", "durationMinute", "durationHour", "durationDay", "durationWeek", "durationMonth", "durationYear", "interval", "i", "date", "scale", "ticks", "format", "template", "f2", "a", "b", "step", "start", "count", "format2", "x", "X", "j", "objectToString", "type", "map", "constant", "f", "arrayify", "d", "i", "range", "identity", "one", "x", "number", "x", "second", "constant", "x", "p", "I", "f", "values", "map", "i", "arrayify", "type", "slice", "y", "y1", "y2", "isObject", "objectToString", "sort", "x", "x1", "x2", "x3", "identity", "y", "second", "z", "range", "n", "r", "i", "values", "index", "map", "i", "I", "i", "j", "keyof", "v", "x1", "x2", "X1", "X2", "map", "_", "V", "scale", "t", "interval", "type", "n", "d", "x", "values", "type", "first", "last", "inherit", "o", "defaults", "named", "names", "color", "length", "projection", "sqrt3", "circle_default", "isSymbol", "symbol", "t1", "transform", "initializer", "t2", "arrayify", "i2", "c1", "c2", "d2", "f2", "V", "I", "i", "I", "i", "j", "I", "ascendingDefined", "V", "names", "scale", "isObject", "O", "I", "extent", "reducer", "V", "range", "X", "i", "o", "sort", "reverse", "S", "j", "ascendingDefined", "f", "x", "n", "groups", "second", "top", "bottom", "s", "basis", "scale", "type", "filter", "values", "map", "isSymbol", "x", "y", "reverse", "X", "reducer", "range", "I", "i", "V2", "j", "k2", "X1", "X2", "x2", "ascendingDefined", "document", "create", "select_default", "w", "pi", "tau", "projection", "isObject", "transform", "x0", "y0", "x1", "y1", "k", "x", "y", "identity", "s", "conicProjection", "x2", "y2", "createProjection", "kx", "ky", "type", "constant", "values", "n", "X", "Y", "i", "X", "Y", "x", "y", "scheme", "scheme11", "scheme9", "cubehelix_default", "interpolate", "n", "t", "s", "length", "r", "range", "f", "flip", "i", "t", "unit", "lab", "interpolate", "scale", "type", "nice", "clamp", "zero", "scheme", "interval", "range", "length", "color", "reverse", "n", "arrayify", "m", "_", "constant", "min", "max", "slice", "linear", "pow", "log", "quantile", "x", "sign", "d", "s", "identity", "f", "radius", "k", "r", "v", "j", "scale", "transform", "type", "nice", "clamp", "scheme", "range", "interpolate", "color", "reverse", "arrayify", "min", "max", "flip", "mid", "transformPow", "transformLog", "constant", "transformSymlog", "x", "transformSqrt", "scale", "scale", "type", "interval", "range", "reverse", "inferDomain", "scheme", "map", "color", "interpolate", "t0", "d", "n", "t", "values", "v", "min", "max", "ascendingDefined", "nice", "clamp", "zero", "projection", "scale", "transform", "type", "interval", "x", "y", "l", "left", "right", "top", "bottom", "n", "start", "m", "length", "_", "i", "type", "values", "range", "scheme", "projection", "t", "length", "color", "scale", "i", "n", "c", "values", "map", "scale", "type", "range", "interpolate", "interval", "transform", "d", "slice", "t", "keys", "k", "i", "locale", "format", "i", "date", "format", "locale", "number", "v", "opacity", "selection", "L", "i", "T", "tip", "F", "S", "O", "H", "c", "I", "Z", "z", "G", "position", "A", "C", "keyof", "j", "k", "id", "create", "g", "projection", "h", "a", "x", "y", "number", "marks", "marginTop", "marginRight", "marginBottom", "marginLeft", "x", "y", "projection", "w", "k", "scale", "type", "transform", "min", "max", "x", "y", "i", "X", "Y", "f", "a", "b", "I", "range", "G", "index", "e", "d", "n", "j", "V", "map", "v", "keyof", "empty", "groups", "defaults", "sort", "tip", "render", "scale", "arrayify", "range", "index", "values", "filter", "i", "marks", "r2", "s", "v", "d", "c", "kx", "ky", "x", "y", "render", "index", "values", "px", "i", "py", "g", "s", "f", "r", "I", "p", "j", "X1", "X2", "X", "Y1", "Y2", "Y", "scale", "color", "ticks", "tickFormat", "opacity", "create", "svg", "g", "x", "range", "type", "interpolate", "scale", "n", "i", "j", "d", "linear", "map", "_", "radians", "color", "create", "path", "S", "i", "path", "i", "color", "id", "interval", "k", "v", "v2", "V", "transform", "map", "V2", "x", "y1", "y2", "number", "index", "y", "X", "Y1", "Y2", "create", "g", "i", "x1", "x2", "Y", "X1", "X2", "identity", "n", "j", "copy", "i", "s", "defaults", "x", "y", "text", "identity", "index", "X", "Y", "R", "T", "create", "g", "i", "selection", "n", "m", "inferFontVariant", "fontSizes", "j", "k", "start", "sum", "I", "w", "l", "ellipsis", "e", "defaults", "l", "r", "x", "y", "length", "index", "X", "Y", "L", "A", "create", "g", "i", "p", "x", "identity", "y", "maybeAnchor", "anchorY", "anchorX", "k", "color", "opacity", "x", "number", "data", "scale", "marginTop", "marginRight", "marginBottom", "marginLeft", "y", "radians", "tickFormat", "text", "ticks", "inferFontVariant", "x1", "x2", "y1", "y2", "initializer", "interval", "arrayify", "min", "max", "range", "identity", "m", "constant", "l", "scale", "s", "color", "opacity", "selection", "symbol", "r", "d", "p", "tickFormat", "create", "defaults", "key", "ticks", "tickFormat", "inherit", "color", "type", "interpolate", "scale", "r", "g", "b", "t", "o", "defaults", "number", "index", "x1", "x2", "y1", "y2", "create", "frame", "defaults", "identity", "x", "y", "x1", "x2", "y1", "y2", "number", "index", "values", "document", "r", "m", "X1", "Y1", "X2", "Y2", "X", "Y", "format", "sources", "i", "text", "scale", "g", "create", "select_default", "names", "selection", "color", "opacity", "w", "j", "k", "h", "a", "path", "getPath", "t", "length", "c1", "c2", "c", "marks", "index", "i", "f", "facets", "document", "dimensions", "fx", "fy", "scale", "select_default", "svg", "values", "indexes", "g", "w", "render", "t", "type", "interval", "transform", "x", "map", "filter", "y", "arrayify", "groups", "data", "channels", "p", "projection", "axis", "defaults", "frame", "ticks", "tickFormat", "k", "m", "x1", "x2", "basis_default", "basisClosed_default", "c", "x", "y", "identity", "k", "filter", "sort", "reverse", "identity", "k", "x", "y", "z", "x1", "x2", "y1", "y2", "interval", "K", "Z", "F", "S", "G", "GK", "GZ", "GF", "GS", "BX1", "BX2", "BY1", "BY2", "i", "o", "f", "I", "g", "b", "extent", "V", "T", "map", "min", "max", "t", "n", "i", "E", "interval", "values", "I", "X", "x1", "x2", "Y", "y1", "y2", "B", "C", "b", "j", "m", "identity", "mergeOptions", "x1", "x", "y", "transform", "X", "y1", "y2", "y", "y1", "y2", "mergeOptions", "offset", "reverse", "x", "one", "kx", "ky", "z", "X", "Y1", "Y2", "maybeOrder", "Y", "Z", "n", "i", "stack", "yn", "extent", "min", "max", "m", "j", "d", "I", "p", "ascendingDefined", "range", "K", "s", "k", "f", "O", "map", "defaults", "x1", "y1", "x2", "y2", "z", "index", "X1", "Y1", "X2", "Y2", "create", "g", "area_default", "i", "x", "e", "s", "e", "d", "n", "t", "s", "n", "e", "s", "n", "e", "s", "n", "e", "e", "s", "n", "e", "s", "e", "p", "n", "t", "s", "x", "e", "min", "max", "s", "n", "e", "s", "e", "n", "A", "B", "m", "x", "p", "_", "i", "c", "type", "o", "n", "start", "to", "coordGrammar", "range", "first", "name", "defaults", "adapt", "\u03B5", "white", "format", "getPath", "epsilon", "min", "max", "id", "s", "coords", "rgb", "parse", "util.parseFunction", "util.last", "util.mapRange", "color", "get", "index", "set", "\u03B53", "\u03BA", "lab", "xyz_d50", "f", "Lab", "a2", "lch", "L", "a", "b", "hue", "constrainAngle", "Hue", "\u03C0", "d2r", "L2", "b2", "C2", "G", "h2", "T", "clone", "util.isString", "clipped", "deltaE", "inGamut", "checkInGamut", "util.toPrecision", "toXYZ_M", "fromXYZ_M", "sign", "abs", "rgba", "hex", "P3", "color2", "c1", "c2", "getLuminance", "xyz_d65", "register", "Color", "Y1", "Y2", "Y", "S", "C", "R", "contrast", "contrastAlgorithms", "X", "Z", "sum", "l", "H2", "C4", "F", "Yw", "v", "g", "ninv", "c3", "d", "Jzazbz", "jzczhz", "m2", "XYZtoLMS_M", "LMStoXYZ_M", "I2", "T2", "P2", "OKLab", "oklab", "lighten", "darken", "r", "steps", "options", "angles.adjust", "h", "hsl", "k", "hwb", "w", "gray", "oklch", "scale", "args", "ret", "exports", "property", "e", "s", "color", "Color", "e", "n"]
}
